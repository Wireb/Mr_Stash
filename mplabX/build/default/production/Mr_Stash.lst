MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;#######################################################################################################
                            ##################################################
                      00002 ;Copyright (c) 2018 Peter Shabino
                      00003 ;
                      00004 ;Permission is hereby granted, free of charge, to any person obtaining a copy of this hardware, software
                            , and associated documentation files 
                      00005 ;(the "Product"), to deal in the Product without restriction, including without limitation the rights to
                             use, copy, modify, merge, publish, 
                      00006 ;distribute, sublicense, and/or sell copies of the Product, and to permit persons to whom the Product is
                             furnished to do so, subject to the 
                      00007 ;following conditions:
                      00008 ;
                      00009 ;The above copyright notice and this permission notice shall be included in all copies or substantial po
                            rtions of the Product.
                      00010 ;
                      00011 ;THE PRODUCT IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LI
                            MITED TO THE WARRANTIES OF 
                      00012 ;MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
                             COPYRIGHT HOLDERS BE LIABLE 
                      00013 ;FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
                             FROM, OUT OF OR IN CONNECTION 
                      00014 ;WITH THE PRODUCT OR THE USE OR OTHER DEALINGS IN THE PRODUCT.
                      00015 ;#######################################################################################################
                            ##################################################
                      00016 ; 09Jun18 V0 PJS New
                      00017 ; 08Jul18 V3 PJS 8 and 12 bit menue entry working 
                      00018 ; 15Jul18 V4 PJS Custom colors fully working (including blink), custom Larson scanner working, Split cod
                            e over 3 pages of flash (4th rsvd for vibe if needed) 
                      00019 ; 01Aug18 V5 PJS Saving of setting to eeprom working and "direct remote" code mostly working
                      00020         
                      00021 #define CODE_VER 0x05
                      00022 #define CODE_VER_STRING "Peter Shabino 01Aug18 code for Mr Stash 2018 V5 www.wire2wire.org!" ;Just in RO
                            M !!! update vars below with true level!!
  00000033            00023 ver_a   equ     0x33
  00000000            00024 ver_b   equ     0x00
  00000000            00025 ver_c   equ     0x00
  00000000            00026 ver_d   equ     0x00
                      00027         
                      00028 ; NOTES
                      00029 ; SAF is high endurance flash (128 words) at the end of flash. Not usable as program space when enabled 
                            in config words 
                      00030 
                      00031 ;****************************************************************************************
                      00032 ; port list [SSOP28]
                      00033 ; Vss(8,19)
                      00034 ; Vdd(20)
                      00035 ; RA0(2)        LIR
                      00036 ; RA1(3)        B
                      00037 ; RA2(4)        LR4
                      00038 ; RA3(5)        LG4
                      00039 ; RA4(6)        LB4
                      00040 ; RA5(7)        Set
                      00041 ; RA6(10)       LG3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00042 ; RA7(9)        LR3
                      00043 ; RB0(21)       A
                      00044 ; RB1(22)       SIR
                      00045 ; RB2(23)       M1
                      00046 ; RB3(24)       SCL
                      00047 ; RB4(25)       SDA
                      00048 ; RB5(26)       M2
                      00049 ; RB6(27)       [ISPCLK] BBtx
                      00050 ; RB7(28)       [ICSPDAT] BBrx
                      00051 ; RC0(11)       LB3
                      00052 ; RC1(12)       LR2
                      00053 ; RC2(13)       LG2
                      00054 ; RC3(14)       LB2
                      00055 ; RC4(15)       Sel
                      00056 ; RC5(16)       LR1
                      00057 ; RC6(17)       LG1
                      00058 ; RC7(18)       LB1
                      00059 ; RE3(1)        [MCLR]  
                      00060 ;****************************************************************************************
                      00061 
                      00062         
                      00063 ; PIC16F15355 Configuration Bit Settings
                      00064 #include "p16f15355.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Nov 22 2017
                      00005 ;  MPASM PIC16F15355 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2017 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      04085         LIST
                      00065 ; CONFIG1
                      00066 ; __config 0xFF8C
8007   3F8C           00067  __CONFIG _CONFIG1, _FEXTOSC_OFF & _RSTOSC_HFINT32 & _CLKOUTEN_OFF & _CSWEN_ON & _FCMEN_ON
                      00068 ; CONFIG2
                      00069 ; __config 0xF7FD
8008   37FD           00070  __CONFIG _CONFIG2, _MCLRE_ON & _PWRTE_ON & _LPBOREN_OFF & _BOREN_ON & _BORV_LO & _ZCD_OFF & _PPS1WAY_OF
                            F & _STVREN_ON
                      00071 ; CONFIG3
                      00072 ; __config 0xFF9F
8009   3F9F           00073  __CONFIG _CONFIG3, _WDTCPS_WDTCPS_31 & _WDTE_OFF & _WDTCWS_WDTCWS_7 & _WDTCCS_SC
                      00074 ; CONFIG4
                      00075 ; __config 0xDFEF
800A   1DEF           00076  __CONFIG _CONFIG4, _BBSIZE_BB512 & _BBEN_OFF & _SAFEN_ON & _WRTAPP_OFF & _WRTB_OFF & _WRTC_ON & _WRTSAF
                            _OFF & _LVP_OFF
                      00077 ; CONFIG5
                      00078 ; __config 0xFFFE
800B   3FFE           00079  __CONFIG _CONFIG5, _CP_ON      
                      00080  
                      00081  
                      00082 ;#define __LED_TEST_MODE__
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00083  
                      00084 ;------------------
                      00085 ; constants
                      00086 ;------------------     
                      00087 ; Default USER ID to load
                      00088 UserID  code 0x8000
8000   3FFF           00089         dw 0x3FFF
                      00090     ;dw 0x3F00  
                      00091 
                      00092 ; test code for load from flash storage / test modes
                      00093 ;Settings  code 0x1F80
                      00094 ;       dw 0x3F03       
                      00095 ;       dw 0x3F0C
                      00096 ;       dw 0x3F30
                      00097 ;       dw 0x3FC3       
                      00098 ;       dw 0x3F06       
                      00099 ;       dw 0x3F20       
                      00100 ;       dw 0x3F00       
                      00101 
                      00102         
  00000065            00103 START_OF_REGS                   equ 0x65                        ; constant to first reg that should be r
                            estored from flash assumes 0x6F is the end.             
  00000035            00104 IR_PULSE_WIDTH                  equ 0x35                        ; pulse width set to 10% (0x69 = 50%, 0x
                            35 = 25%, 0x15 = 10%, 0x0A = 5%)
  000000FF            00105 IR_B_ON_PWM                             equ 0xFF
  00000012            00106 IR_B_ON_TIME                    equ 0x12                        ; on time for beacon buzzer 
  000000FF            00107 IR_DIRECT_RMT_ON_PWM    equ 0xFF
  00000012            00108 IR_DIRECT_RMT_ON_TIME   equ 0x12                        ; on time for direct remote buzzer (on till next
                             IR input cycle...) 
  00000050            00109 TOUCH_TRIP                              equ 0x50                        ; trip point delta on ADC value 
                            (tune to prevent false touches)
  00000002            00110 BUTTON_DEBOUNCE                 equ 0x02                        ; how many cycles of no press to wait be
                            fore taking next entry (larger = less twitchy but slower max updates)
  000000F6            00111 BEACON_TIME_L                   equ 0xF6                        ; delay between beacon sends
  00000004            00112 BEACON_TIME_H                   equ 0x04                
                      00113 ;------------------
                      00114 ; vars (0x20 - 0x6f) bank 0
                      00115 ;------------------
  00000020            00116 LED1                    equ 0x20                        ; 0-1 red, 2-3 green, 4-5 blue, 6-7 blink
  00000021            00117 LED2                    equ 0x21                        ; 0-1 red, 2-3 green, 4-5 blue, 6-7 blink
  00000022            00118 LED3                    equ 0x22                        ; 0-1 red, 2-3 green, 4-5 blue, 6-7 blink
  00000023            00119 LED4                    equ 0x23                        ; 0-1 red, 2-3 green, 4-5 blue, 6-7 blink
  00000024            00120 led_seq                 equ 0x24
  00000025            00121 porta_temp              equ 0x25                
  00000026            00122 portc_temp              equ 0x26                
  00000027            00123 blink_seq               equ 0x27
  00000028            00124 beacon_timer_l  equ 0x28
  00000029            00125 beacon_timer_h  equ 0x29
  0000002A            00126 ir_status               equ 0x2A                        ; 
  0000002B            00127 badge_id                equ 0x2B
  0000002C            00128 ir_cmd                  equ 0x2C                
  0000002D            00129 ir_data                 equ 0x2D
  0000002E            00130 ir_chksum               equ 0x2E
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000002F            00131 ir_tx_seq               equ 0x2F        
  00000030            00132 ir_rx_seq               equ 0x30
  00000031            00133 ir_rx_chksum    equ 0x31
  00000032            00134 ir_rx_data              equ 0x32
  00000033            00135 ir_rx_id                equ 0x33
  00000034            00136 ir_rx_cmd               equ 0x34                                        
  00000035            00137 temp                    equ 0x35
  00000036            00138 beacon_b_timer  equ 0x36
  00000037            00139 mode_ctl                equ 0x37
  00000038            00140 no_press_cnt    equ 0x38
  00000039            00141 led_timer_low   equ 0x39
  0000003A            00142 led_timer_high  equ 0x3A
  0000003B            00143 sequence                equ 0x3B
  0000003C            00144 mode_reg                equ 0x3C
  0000003D            00145 led_display_seq equ 0x3D                
  0000003E            00146 temp2                   equ 0x3E        
  0000003F            00147 temp3                   equ 0x3F
  00000040            00148 call_temp               equ     0x40
  00000041            00149 direct_m1_timer equ 0x41
  00000042            00150 direct_m2_timer equ 0x42
  00000043            00151 ir_data_temp    equ     0x43    
  00000044            00152 vibe_cycle              equ 0x44
  00000045            00153 vibe_timer_low  equ 0x45
  00000046            00154 vibe_timer_high equ 0x46        
  00000047            00155 vibe_sequence   equ 0x47
  00000048            00156 vibe_stop               equ 0x48
  00000049            00157 vibe_temp               equ 0x49
  0000004A            00158 vibe_subloop    equ 0x4A
                      00159                 
                      00160                 
                      00161 ; UPDTATE START_OF_REGS in constants if you add any more saved vars to this section!!!  
                      00162         
  00000065            00163 vibe_speed_l    equ     0x65
  00000066            00164 vibe_speed_h    equ     0x66
  00000067            00165 vibe_rpt                equ 0x67        
  00000068            00166 vibe_mode               equ     0x68    
  00000069            00167 cust_led4               equ     0x69    
  0000006A            00168 cust_led3               equ     0x6A            
  0000006B            00169 cust_led2               equ     0x6B    
  0000006C            00170 cust_led1               equ     0x6C            
  0000006D            00171 led_mode_reg    equ 0x6D
  0000006E            00172 speed_low               equ 0x6E                
  0000006F            00173 speed_high              equ 0x6F                
                      00174 
                      00175 ;------------------
                      00176 ; vars (0xA0 - 0xef) bank 1
                      00177 ;------------------
  000000A0            00178 adc_seq                 equ 0xA0
  000000A1            00179 button1_cur             equ 0xA1
  000000A2            00180 button2_cur             equ 0xA2
  000000A3            00181 button3_cur             equ 0xA3
  000000A4            00182 button4_cur             equ 0xA4
  000000A5            00183 button1_last    equ 0xA5
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  000000A6            00184 button2_last    equ 0xA6
  000000A7            00185 button3_last    equ 0xA7
  000000A8            00186 button4_last    equ 0xA8
                      00187 
                      00188 ;------------------
                      00189 ; vars (0x120 - 0x16f) bank 2
                      00190 ;------------------
  00000120            00191 LFSR_0                  equ     0x120
  00000121            00192 LFSR_1                  equ     0x121
  00000122            00193 LFSR_2                  equ     0x122
  00000123            00194 LFSR_3                  equ     0x123
                      00195 
                      00196 ;------------------
                      00197 ; vars (0x1A0 - 0x1ef) bank 3
                      00198 ;------------------
                      00199 
                      00200 ;------------------
                      00201 ; vars (0x220 - 0x26f) bank 4
                      00202 ;------------------
                      00203 
                      00204 ;------------------
                      00205 ; vars (0x2A0 - 02xef) bank 5
                      00206 ;------------------
                      00207  
                      00208 ;------------------
                      00209 ; vars (0x320 - 0x36f) bank 6 (55 part only 0x320 to 0x32F on 54 part) 
                      00210 ;------------------
                      00211                 
                      00212 ;------------------
                      00213 ; vars (0x3A0 - 0x3ef) bank 7 (55 part only)
                      00214 ;------------------
                      00215 
                      00216 ;------------------
                      00217 ; vars (0x420 - 0x46f) bank 8 (55 part only) 
                      00218 ;------------------
                      00219 
                      00220 ;------------------
                      00221 ; vars (0x4A0 - 0x4ef) bank 9 (55 part only)
                      00222 ;------------------
                      00223 
                      00224 ;------------------
                      00225 ; vars (0x520 - 0x56f) bank 10 (55 part only) 
                      00226 ;------------------
                      00227 
                      00228 ;------------------
                      00229 ; vars (0x5A0 - 0x5ef) bank 11 (55 part only)
                      00230 ;------------------
                      00231 
                      00232  ;------------------
                      00233 ; vars (0x620 - 0x64f) bank 12 (55 part only) 
                      00234 ;------------------
                      00235 
                      00236 ;------------------
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00237 ; vars (0x70 - 0x7F) global regs
                      00238 ;------------------
  00000070            00239 bsr_save                equ 0x70
  00000071            00240 gtemp                   equ 0x71
  00000072            00241 delay_cntL              equ 0x72
  00000073            00242 delay_cntH              equ 0x73
  00000074            00243 buttons                 equ 0x74        
                      00244 
                      00245 
                      00246  
                      00247 ;put the following at address 0000h
                      00248         org     0000h
0000   2???           00249         goto    START                       ;vector to initialization sequence
                      00250 
                      00251 ;put the following at address 0004h
                      00252         org     0004h
0004   018A           00253         clrf    PCLATH                          ; this MUST be cleared before the IRQ goto else will jum
                            p to god knows where. 
0005   2???           00254         goto    IRQ                         
                      00255 
                      00256 ; stuff in the  code description at the top of the code. 
0006   0050 0065 0074 00257         de      CODE_VER_STRING
       0065 0072 0020 
       0053 0068 0061 
       0062 0069 006E 
       006F 0020 0030 
       0031 0041 0075 
       0067 0031 0038 
       0020 0063 006F 
       0064 0065 0020 
       0066 006F 0072 
       0020 004D 0072 
       0020 0053 0074 
       0061 0073 0068 
       0020 0032 0030 
       0031 0038 0020 
       0056 0035 0020 
       0077 007
                      00258         
                      00259 ;#######################################################################################################
                            ####################
                      00260 ; intrupt routine
                      00261 ;#######################################################################################################
                            ####################
0048                  00262 IRQ             
                      00263         ; following regs are autosaved
                      00264         ; W
                      00265         ; STATUS (except TO and PD)
                      00266         ; BSR
                      00267         ; FSR
                      00268         ; PCLATH
                      00269         
                      00270         ;******************************************************************
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00271         ; check if ADC IRQ
                      00272         ;******************************************************************
                      00273         ;------------------
0048   300E           00274         movlw   d'14'
0049   0088           00275         movwf   BSR             
                      00276         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004A   1C0D           00277         btfss   PIR1, ADIF                      ; check if IRQ is currently set
004B   2???           00278         goto    IRQ_not_ADC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004C   100D           00279         bcf             PIR1, ADIF      
                      00280         ;------------------
004D   3001           00281         movlw   d'1'
004E   0088           00282         movwf   BSR             
                      00283         ;------------------
                      00284         
                      00285         
                      00286         
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004F   0820           00287         movf    adc_seq, W
0050   3A02           00288         xorlw   0x02
0051   1D03           00289         btfss   STATUS, Z
0052   2???           00290         goto    IRQ_ADC_button3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0053   081C           00291         movf    ADRESH, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0054   00A4           00292         movwf   button4_cur
                      00293         ;------------------
0055   0188           00294         clrf    BSR             
                      00295         ;------------------
0056   1092           00296         bcf             TRISA, 1                        ; pin output
                      00297         ;------------------
0057   3001           00298         movlw   d'1'
0058   0088           00299         movwf   BSR             
                      00300         ;------------------             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0059   0AA0           00301         incf    adc_seq, F
005A   2???           00302         goto    IRQ_not_ADC
                      00303 
005B                  00304 IRQ_ADC_button3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
005B   0820           00305         movf    adc_seq, W
005C   3A05           00306         xorlw   0x05
005D   1D03           00307         btfss   STATUS, Z
005E   2???           00308         goto    IRQ_ADC_button2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
005F   081C           00309         movf    ADRESH, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0060   00A3           00310         movwf   button3_cur
                      00311         ;------------------
0061   0188           00312         clrf    BSR             
                      00313         ;------------------
0062   1292           00314         bcf             TRISA, 5                        ; pin output
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00315         ;------------------
0063   3001           00316         movlw   d'1'
0064   0088           00317         movwf   BSR             
                      00318         ;------------------             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0065   0AA0           00319         incf    adc_seq, F
0066   2???           00320         goto    IRQ_not_ADC
                      00321 
0067                  00322 IRQ_ADC_button2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0067   0820           00323         movf    adc_seq, W
0068   3A08           00324         xorlw   0x08
0069   1D03           00325         btfss   STATUS, Z
006A   2???           00326         goto    IRQ_ADC_button1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006B   081C           00327         movf    ADRESH, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006C   00A2           00328         movwf   button2_cur
                      00329         ;------------------
006D   0188           00330         clrf    BSR             
                      00331         ;------------------
006E   1214           00332         bcf             TRISC, 4                        ; pin output
                      00333         ;------------------
006F   3001           00334         movlw   d'1'
0070   0088           00335         movwf   BSR             
                      00336         ;------------------             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0071   0AA0           00337         incf    adc_seq, F
0072   2???           00338         goto    IRQ_not_ADC
                      00339 
0073                  00340 IRQ_ADC_button1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0073   0820           00341         movf    adc_seq, W
                      00342 ; in case things get out of seq just default to this case to clear things up    
                      00343 ;       xorlw   0x0b
                      00344 ;       btfss   STATUS, Z
                      00345 ;       goto    IRQ_ADC_button0
                      00346         ; see if touch sensor is over threshold
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0074   081C           00347         movf    ADRESH, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0075   00A1           00348         movwf   button1_cur
                      00349         ;------------------
0076   0188           00350         clrf    BSR             
                      00351         ;------------------
0077   1013           00352         bcf             TRISB, 0                        ; pin output
                      00353         ;------------------
0078   3001           00354         movlw   d'1'
0079   0088           00355         movwf   BSR             
                      00356         ;------------------             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
007A   01A0           00357         clrf    adc_seq
                      00358         
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00359         ; if ADC = 0 button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
007B   0821           00360         movf    button1_cur, W
007C   1903           00361         btfsc   STATUS, Z
007D   1474           00362         bsf             buttons, 0
                      00363         ; if ADC = FF button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
007E   0921           00364         comf    button1_cur, W
007F   1903           00365         btfsc   STATUS, Z
0080   1474           00366         bsf             buttons, 0
                      00367         ; if ADC value is more than TOUCH_TRIP above last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0081   0825           00368         movf    button1_last, W
0082   3E50           00369         addlw   TOUCH_TRIP
0083   1803           00370         btfsc   STATUS, C
0084   2???           00371         goto    IRQ_ADC_b1_gt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0085   0221           00372         subwf   button1_cur, W          ; F - W 
0086   1803           00373         btfsc   STATUS, C
0087   1474           00374         bsf             buttons, 0      
0088                  00375 IRQ_ADC_b1_gt_carry     
                      00376         ; if ADC value is more than TOUCH_TRIP below last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0088   0821           00377         movf    button1_cur, W
0089   3E50           00378         addlw   TOUCH_TRIP
008A   1803           00379         btfsc   STATUS, C
008B   2???           00380         goto    IRQ_ADC_b1_lt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
008C   0225           00381         subwf   button1_last, W         ; F - W 
008D   1803           00382         btfsc   STATUS, C
008E   1474           00383         bsf             buttons, 0      
008F                  00384 IRQ_ADC_b1_lt_carry     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
008F   0821           00385         movf    button1_cur, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0090   00A5           00386         movwf   button1_last
                      00387         
                      00388         ; if ADC = 0 button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0091   0822           00389         movf    button2_cur, W
0092   1903           00390         btfsc   STATUS, Z
0093   14F4           00391         bsf             buttons, 1
                      00392         ; if ADC = FF button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0094   0922           00393         comf    button2_cur, W
0095   1903           00394         btfsc   STATUS, Z
0096   14F4           00395         bsf             buttons, 1
                      00396         ; if ADC value is more than TOUCH_TRIP above last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0097   0826           00397         movf    button2_last, W
0098   3E50           00398         addlw   TOUCH_TRIP
0099   1803           00399         btfsc   STATUS, C
009A   2???           00400         goto    IRQ_ADC_b2_gt_carry
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009B   0222           00401         subwf   button2_cur, W          ; F - W 
009C   1803           00402         btfsc   STATUS, C
009D   14F4           00403         bsf             buttons, 1      
009E                  00404 IRQ_ADC_b2_gt_carry     
                      00405         ; if ADC value is more than TOUCH_TRIP below last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
009E   0822           00406         movf    button2_cur, W
009F   3E50           00407         addlw   TOUCH_TRIP
00A0   1803           00408         btfsc   STATUS, C
00A1   2???           00409         goto    IRQ_ADC_b2_lt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A2   0226           00410         subwf   button2_last, W         ; F - W 
00A3   1803           00411         btfsc   STATUS, C
00A4   14F4           00412         bsf             buttons, 1      
00A5                  00413 IRQ_ADC_b2_lt_carry     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A5   0822           00414         movf    button2_cur, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A6   00A6           00415         movwf   button2_last
                      00416 
                      00417         ; if ADC = 0 button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A7   0823           00418         movf    button3_cur, W
00A8   1903           00419         btfsc   STATUS, Z
00A9   1574           00420         bsf             buttons, 2
                      00421         ; if ADC = FF button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AA   0923           00422         comf    button3_cur, W
00AB   1903           00423         btfsc   STATUS, Z
00AC   1574           00424         bsf             buttons, 2
                      00425         ; if ADC value is more than TOUCH_TRIP above last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00AD   0827           00426         movf    button3_last, W
00AE   3E50           00427         addlw   TOUCH_TRIP
00AF   1803           00428         btfsc   STATUS, C
00B0   2???           00429         goto    IRQ_ADC_b3_gt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B1   0223           00430         subwf   button3_cur, W          ; F - W 
00B2   1803           00431         btfsc   STATUS, C
00B3   1574           00432         bsf             buttons, 2      
00B4                  00433 IRQ_ADC_b3_gt_carry     
                      00434         ; if ADC value is more than TOUCH_TRIP below last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B4   0823           00435         movf    button3_cur, W
00B5   3E50           00436         addlw   TOUCH_TRIP
00B6   1803           00437         btfsc   STATUS, C
00B7   2???           00438         goto    IRQ_ADC_b3_lt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B8   0227           00439         subwf   button3_last, W         ; F - W 
00B9   1803           00440         btfsc   STATUS, C
00BA   1574           00441         bsf             buttons, 2      
00BB                  00442 IRQ_ADC_b3_lt_carry     
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BB   0823           00443         movf    button3_cur, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BC   00A7           00444         movwf   button3_last
                      00445         
                      00446         ; if ADC = 0 button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BD   0824           00447         movf    button4_cur, W
00BE   1903           00448         btfsc   STATUS, Z
00BF   15F4           00449         bsf             buttons, 3
                      00450         ; if ADC = FF button tripped
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00C0   0924           00451         comf    button4_cur, W
00C1   1903           00452         btfsc   STATUS, Z
00C2   15F4           00453         bsf             buttons, 3
                      00454         ; if ADC value is more than TOUCH_TRIP above last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00C3   0828           00455         movf    button4_last, W
00C4   3E50           00456         addlw   TOUCH_TRIP
00C5   1803           00457         btfsc   STATUS, C
00C6   2???           00458         goto    IRQ_ADC_b4_gt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00C7   0224           00459         subwf   button4_cur, W          ; F - W 
00C8   1803           00460         btfsc   STATUS, C
00C9   15F4           00461         bsf             buttons, 3      
00CA                  00462 IRQ_ADC_b4_gt_carry     
                      00463         ; if ADC value is more than TOUCH_TRIP below last read 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00CA   0824           00464         movf    button4_cur, W
00CB   3E50           00465         addlw   TOUCH_TRIP
00CC   1803           00466         btfsc   STATUS, C
00CD   2???           00467         goto    IRQ_ADC_b4_lt_carry
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00CE   0228           00468         subwf   button4_last, W         ; F - W 
00CF   1803           00469         btfsc   STATUS, C
00D0   15F4           00470         bsf             buttons, 3      
00D1                  00471 IRQ_ADC_b4_lt_carry     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D1   0824           00472         movf    button4_cur, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D2   00A8           00473         movwf   button4_last
                      00474 
                      00475         ; set bit to indicate update is done
00D3   1674           00476         bsf             buttons, 4      
                      00477 
00D4                  00478 IRQ_ADC_debug_leds      
                      00479 #ifdef __LED_TEST_MODE__
                      00480         ; for button debug only... 
                      00481         ;------------------
                      00482         clrf    BSR             
                      00483         ;------------------     
                      00484         clrf    LED1
                      00485         clrf    LED2
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00486         clrf    LED3
                      00487         clrf    LED4
                      00488         btfss   buttons, 0
                      00489         goto    debug_skip0
                      00490         movlw   0x3F
                      00491         movwf   LED1
                      00492 debug_skip0
                      00493         btfss   buttons, 1
                      00494         goto    debug_skip1
                      00495         movlw   0x3F
                      00496         movwf   LED2
                      00497 debug_skip1
                      00498         btfss   buttons, 2
                      00499         goto    debug_skip2
                      00500         movlw   0x3F
                      00501         movwf   LED3
                      00502 debug_skip2
                      00503         btfss   buttons, 3
                      00504         goto    debug_skip3
                      00505         movlw   0x3F
                      00506         movwf   LED4
                      00507 debug_skip3
                      00508         clrf    buttons
                      00509 #endif
                      00510         
00D4                  00511 IRQ_not_ADC             
                      00512         
                      00513         ;******************************************************************
                      00514         ; check if TMR0 IRQ
                      00515         ;******************************************************************
                      00516         ;------------------
00D4   300E           00517         movlw   d'14'
00D5   0088           00518         movwf   BSR             
                      00519         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D6   1E8C           00520         btfss   PIR0, TMR0IF
00D7   2???           00521         goto    IRQ_not_TMR0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D8   128C           00522         bcf     PIR0, TMR0IF
                      00523         ;------------------
00D9   0188           00524         clrf    BSR             
                      00525         ;------------------     
                      00526         ; if the delay_cnt is not 0 subtract 1
00DA   08F2           00527         movf    delay_cntL, F
00DB   1903           00528         btfsc   STATUS, Z
00DC   2???           00529         goto    IRQ_delay_L_0
00DD   03F2           00530         decf    delay_cntL, F
00DE   2???           00531         goto    IRQ_delay_done
00DF                  00532 IRQ_delay_L_0   
00DF   08F3           00533         movf    delay_cntH, F
00E0   1903           00534         btfsc   STATUS, Z
00E1   2???           00535         goto    IRQ_delay_done
00E2   03F2           00536         decf    delay_cntL, F
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E3   03F3           00537         decf    delay_cntH, F
00E4                  00538 IRQ_delay_done  
                      00539         
                      00540         ; if the delay_cnt is not 0 subtract 1
00E4   08B9           00541         movf    led_timer_low, F
00E5   1903           00542         btfsc   STATUS, Z
00E6   2???           00543         goto    IRQ_delay_led_0
00E7   03B9           00544         decf    led_timer_low, F
00E8   2???           00545         goto    IRQ_delay_led_done
00E9                  00546 IRQ_delay_led_0 
00E9   08BA           00547         movf    led_timer_high, F
00EA   1903           00548         btfsc   STATUS, Z
00EB   2???           00549         goto    IRQ_delay_led_done
00EC   03B9           00550         decf    led_timer_low, F
00ED   03BA           00551         decf    led_timer_high, F
00EE                  00552 IRQ_delay_led_done      
                      00553         
                      00554         ; if the delay_cnt is not 0 subtract 1
00EE   08C5           00555         movf    vibe_timer_low, F
00EF   1903           00556         btfsc   STATUS, Z
00F0   2???           00557         goto    IRQ_delay_vibe
00F1   03C5           00558         decf    vibe_timer_low, F
00F2   2???           00559         goto    IRQ_delay_vibe_done
00F3                  00560 IRQ_delay_vibe  
00F3   08C6           00561         movf    vibe_timer_high, F
00F4   1903           00562         btfsc   STATUS, Z
00F5   2???           00563         goto    IRQ_delay_vibe_done
00F6   03C5           00564         decf    vibe_timer_low, F
00F7   03C6           00565         decf    vibe_timer_high, F
00F8                  00566 IRQ_delay_vibe_done     
                      00567 
                      00568         
                      00569         
                      00570         
                      00571         
                      00572         
                      00573         ;------------------
00F8   3001           00574         movlw   d'1'
00F9   0088           00575         movwf   BSR             
                      00576         ;------------------
                      00577         ; if conversion is still in process wait. 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00FA   189D           00578         btfsc   ADCON0, 1
00FB   2???           00579         goto    IRQ_ADC_step_done
                      00580         
                      00581 
                      00582         ; step 1 charge internal ADC cap
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00FC   0820           00583         movf    adc_seq, W
                      00584         ;xorlw  0x00
00FD   1D03           00585         btfss   STATUS, Z
00FE   2???           00586         goto    IRQ_ADC_b4s2
                      00587         ;------------------
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FF   0188           00588         clrf    BSR             
                      00589         ;------------------
0100   1492           00590         bsf             TRISA, 1                        ; pin input
                      00591         ;------------------
0101   3001           00592         movlw   d'1'
0102   0088           00593         movwf   BSR             
                      00594         ;------------------     
                      00595         ; 0x05  RA1, A 
                      00596         ; 0x15  RA5, Set
                      00597         ; 0x21  RB0, B
                      00598         ; 0x51  RC4, Sel
                      00599         ; 0xED  AVss
                      00600         ; 0xF9  FVR1 buffer
0103   30F9           00601         movlw   0xF9                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0104   009D           00602         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0105   0AA0           00603         incf    adc_seq, F
0106   2???           00604         goto    IRQ_ADC_step_done
0107                  00605 IRQ_ADC_b4s2    
                      00606         ; step 2 start ADC conversion
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0107   0820           00607         movf    adc_seq, W
0108   3A01           00608         xorlw   0x01
0109   1D03           00609         btfss   STATUS, Z
010A   2???           00610         goto    IRQ_ADC_b3s1
                      00611         ; 0x05  RA1, A 
                      00612         ; 0x15  RA5, Set
                      00613         ; 0x21  RB0, B
                      00614         ; 0x51  RC4, Sel
                      00615         ; 0xED  AVss
                      00616         ; 0xF9  FVR1 buffer
010B   3007           00617         movlw   0x07                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
010C   009D           00618         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
010D   0AA0           00619         incf    adc_seq, F
010E   2???           00620         goto    IRQ_ADC_step_done
010F                  00621 IRQ_ADC_b3s1
                      00622         
                      00623 
                      00624         ; step 1 charge internal ADC cap
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
010F   0820           00625         movf    adc_seq, W
0110   3A03           00626         xorlw   0x03
0111   1D03           00627         btfss   STATUS, Z
0112   2???           00628         goto    IRQ_ADC_b3s2
                      00629         ;------------------
0113   0188           00630         clrf    BSR             
                      00631         ;------------------
0114   1692           00632         bsf             TRISA, 5                        ; pin input
                      00633         ;------------------
0115   3001           00634         movlw   d'1'
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0116   0088           00635         movwf   BSR             
                      00636         ;------------------     
                      00637         ; 0x05  RA1, A 
                      00638         ; 0x15  RA5, Set
                      00639         ; 0x21  RB0, B
                      00640         ; 0x51  RC4, Sel
                      00641         ; 0xED  AVss
                      00642         ; 0xF9  FVR1 buffer
0117   30F9           00643         movlw   0xF9                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0118   009D           00644         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0119   0AA0           00645         incf    adc_seq, F
011A   2???           00646         goto    IRQ_ADC_step_done
011B                  00647 IRQ_ADC_b3s2    
                      00648         ; step 2 start ADC conversion
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
011B   0820           00649         movf    adc_seq, W
011C   3A04           00650         xorlw   0x04
011D   1D03           00651         btfss   STATUS, Z
011E   2???           00652         goto    IRQ_ADC_b2s1
                      00653         ; 0x05  RA1, A 
                      00654         ; 0x15  RA5, Set
                      00655         ; 0x21  RB0, B
                      00656         ; 0x51  RC4, Sel
                      00657         ; 0xED  AVss
                      00658         ; 0xF9  FVR1 buffer
011F   3017           00659         movlw   0x17                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0120   009D           00660         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0121   0AA0           00661         incf    adc_seq, F
0122   2???           00662         goto    IRQ_ADC_step_done
0123                  00663 IRQ_ADC_b2s1
                      00664 
                      00665         ; step 1 charge internal ADC cap
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0123   0820           00666         movf    adc_seq, W
0124   3A06           00667         xorlw   0x06
0125   1D03           00668         btfss   STATUS, Z
0126   2???           00669         goto    IRQ_ADC_b2s2
                      00670         ;------------------
0127   0188           00671         clrf    BSR             
                      00672         ;------------------
0128   1614           00673         bsf             TRISC, 4                        ; pin input
                      00674         ;------------------
0129   3001           00675         movlw   d'1'
012A   0088           00676         movwf   BSR             
                      00677         ;------------------     
                      00678         ; 0x05  RA1, A 
                      00679         ; 0x15  RA5, Set
                      00680         ; 0x21  RB0, B
                      00681         ; 0x51  RC4, Sel
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00682         ; 0xED  AVss
                      00683         ; 0xF9  FVR1 buffer
012B   30F9           00684         movlw   0xF9                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
012C   009D           00685         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
012D   0AA0           00686         incf    adc_seq, F
012E   2???           00687         goto    IRQ_ADC_step_done
012F                  00688 IRQ_ADC_b2s2    
                      00689         ; step 2 start ADC conversion
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
012F   0820           00690         movf    adc_seq, W
0130   3A07           00691         xorlw   0x07
0131   1D03           00692         btfss   STATUS, Z
0132   2???           00693         goto    IRQ_ADC_b1s1
                      00694         ; 0x05  RA1, A 
                      00695         ; 0x15  RA5, Set
                      00696         ; 0x21  RB0, B
                      00697         ; 0x51  RC4, Sel
                      00698         ; 0xED  AVss
                      00699         ; 0xF9  FVR1 buffer
0133   3053           00700         movlw   0x53                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0134   009D           00701         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0135   0AA0           00702         incf    adc_seq, F
0136   2???           00703         goto    IRQ_ADC_step_done
0137                  00704 IRQ_ADC_b1s1
                      00705         
                      00706         ; step 1 charge internal ADC cap
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0137   0820           00707         movf    adc_seq, W
0138   3A09           00708         xorlw   0x09
0139   1D03           00709         btfss   STATUS, Z
013A   2???           00710         goto    IRQ_ADC_b1s2
                      00711         ;------------------
013B   0188           00712         clrf    BSR             
                      00713         ;------------------
013C   1413           00714         bsf             TRISB, 0                        ; pin input
                      00715         ;------------------
013D   3001           00716         movlw   d'1'
013E   0088           00717         movwf   BSR             
                      00718         ;------------------     
                      00719         ; 0x05  RA1, A 
                      00720         ; 0x15  RA5, Set
                      00721         ; 0x21  RB0, B
                      00722         ; 0x51  RC4, Sel
                      00723         ; 0xED  AVss
                      00724         ; 0xF9  FVR1 buffer
013F   30F9           00725         movlw   0xF9                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0140   009D           00726         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0141   0AA0           00727         incf    adc_seq, F
0142   2???           00728         goto    IRQ_ADC_step_done
0143                  00729 IRQ_ADC_b1s2    
                      00730         ; step 2 start ADC conversion
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0143   0820           00731         movf    adc_seq, W
0144   3A0A           00732         xorlw   0x0A
0145   1D03           00733         btfss   STATUS, Z
0146   2???           00734         goto    IRQ_ADC_step_done
                      00735         ; 0x05  RA1, A 
                      00736         ; 0x15  RA5, Set
                      00737         ; 0x21  RB0, B
                      00738         ; 0x51  RC4, Sel
                      00739         ; 0xED  AVss
                      00740         ; 0xF9  FVR1 buffer
0147   3023           00741         movlw   0x23                            ; Set selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0148   009D           00742         movwf   ADCON0          
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0149   0AA0           00743         incf    adc_seq, F
014A                  00744 IRQ_ADC_step_done               
                      00745         ;------------------
014A   0188           00746         clrf    BSR             
                      00747         ;------------------
                      00748         
                      00749         ; if the beacon buzzer timer is not 0 subtract 1
014B   08B6           00750         movf    beacon_b_timer, F
014C   1903           00751         btfsc   STATUS, Z
014D   2???           00752         goto    IRQ_beacon_b_done
014E   0BB6           00753         decfsz  beacon_b_timer, F
014F   2???           00754         goto    IRQ_beacon_b_done
0150   1BAA           00755         btfsc   ir_status, 7            ; M2 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
0151   2???           00756         goto    IRQ_beacon_b_done
0152   1F2A           00757         btfss   ir_status, 6            ; M2 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
0153   2???           00758         goto    IRQ_beacon_b_done
0154   1693           00759         bsf             TRISB, 5                    ; PWM output off.           
0155                  00760 IRQ_beacon_b_done       
                      00761 
                      00762                 
                      00763         ; if the M1 buzzer timer is not 0 subtract 1
0155   08C1           00764         movf    direct_m1_timer, F
0156   1903           00765         btfsc   STATUS, Z
0157   2???           00766         goto    IRQ_direct_m1_done
0158   0BC1           00767         decfsz  direct_m1_timer, F
0159   2???           00768         goto    IRQ_direct_m1_done
015A   1EAA           00769         btfss   ir_status, 5            ; M1 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
015B   2???           00770         goto    IRQ_direct_m1_done
015C   1A2A           00771         btfsc   ir_status, 4            ; M1 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
015D   2???           00772         goto    IRQ_direct_m1_done
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015E   1513           00773         bsf             TRISB, 2                    ; M1 PWM output off.        works great
015F                  00774 IRQ_direct_m1_done      
                      00775 
                      00776         ; if the M2 buzzer timer is not 0 subtract 1
015F   08C2           00777         movf    direct_m2_timer, F
0160   1903           00778         btfsc   STATUS, Z
0161   2???           00779         goto    IRQ_direct_m2_done
0162   0BC2           00780         decfsz  direct_m2_timer, F
0163   2???           00781         goto    IRQ_direct_m2_done
0164   1FAA           00782         btfss   ir_status, 7            ; M2 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
0165   2???           00783         goto    IRQ_direct_m2_done
0166   1B2A           00784         btfsc   ir_status, 6            ; M2 bits 7,6 M1 bits 5,4 last update by 0 = pattern gen, 1 = be
                            acon, 2 = direct remote
0167   2???           00785         goto    IRQ_direct_m2_done
0168   1693           00786         bsf             TRISB, 5                    ; M2 PWM output off.        
0169                  00787 IRQ_direct_m2_done      
                      00788         
                      00789         
                      00790 
                      00791         
                      00792         ; LEDs have 3 time slices based on the 2 bit value turn them on for none, some, or all the slice
                            s
0169   01A5           00793         clrf    porta_temp
016A   01A6           00794         clrf    portc_temp
                      00795         
016B   0820           00796         movf    LED1, W
016C   3903           00797         andlw   0x03
016D   3A03           00798         xorlw   0x03
016E   1D03           00799         btfss   STATUS, Z
016F   2???           00800         goto    IRQ_LED1r_2
0170   16A6           00801         bsf     portc_temp, 5
0171   2???           00802         goto    IRQ_LED1r_done  
0172                  00803 IRQ_LED1r_2
0172   1CA0           00804         btfss   LED1, 1
0173   2???           00805         goto    IRQ_LED1r_1
0174   0824           00806         movf    led_seq, W
0175   3A03           00807         xorlw   0x03
0176   1903           00808         btfsc   STATUS, Z
0177   2???           00809         goto    IRQ_LED1r_done
0178   16A6           00810         bsf             portc_temp, 5
0179   2???           00811         goto    IRQ_LED1r_done  
017A                  00812 IRQ_LED1r_1     
017A   1C20           00813         btfss   LED1, 0
017B   2???           00814         goto    IRQ_LED1r_done
017C   0824           00815         movf    led_seq, W
017D   3A01           00816         xorlw   0x01
017E   1D03           00817         btfss   STATUS, Z
017F   2???           00818         goto    IRQ_LED1r_done
0180   16A6           00819         bsf     portc_temp, 5
0181                  00820 IRQ_LED1r_done
0181   0820           00821         movf    LED1, W
0182   390C           00822         andlw   0x0C
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0183   3A0C           00823         xorlw   0x0C
0184   1D03           00824         btfss   STATUS, Z
0185   2???           00825         goto    IRQ_LED1g_2
0186   1726           00826         bsf     portc_temp, 6
0187   2???           00827         goto    IRQ_LED1g_done  
0188                  00828 IRQ_LED1g_2
0188   1DA0           00829         btfss   LED1, 3
0189   2???           00830         goto    IRQ_LED1g_1
018A   0824           00831         movf    led_seq, W
018B   3A03           00832         xorlw   0x03
018C   1903           00833         btfsc   STATUS, Z
018D   2???           00834         goto    IRQ_LED1g_done
018E   1726           00835         bsf     portc_temp, 6
018F   2???           00836         goto    IRQ_LED1g_done  
0190                  00837 IRQ_LED1g_1     
0190   1D20           00838         btfss   LED1, 2
0191   2???           00839         goto    IRQ_LED1g_done
0192   0824           00840         movf    led_seq, W
0193   3A01           00841         xorlw   0x01
0194   1D03           00842         btfss   STATUS, Z
0195   2???           00843         goto    IRQ_LED1g_done
0196   1726           00844         bsf     portc_temp, 6
0197                  00845 IRQ_LED1g_done
0197   0820           00846         movf    LED1, W
0198   3930           00847         andlw   0x30
0199   3A30           00848         xorlw   0x30
019A   1D03           00849         btfss   STATUS, Z
019B   2???           00850         goto    IRQ_LED1b_2
019C   17A6           00851         bsf     portc_temp, 7
019D   2???           00852         goto    IRQ_LED1b_done  
019E                  00853 IRQ_LED1b_2
019E   1EA0           00854         btfss   LED1, 5
019F   2???           00855         goto    IRQ_LED1b_1
01A0   0824           00856         movf    led_seq, W
01A1   3A03           00857         xorlw   0x03
01A2   1903           00858         btfsc   STATUS, Z
01A3   2???           00859         goto    IRQ_LED1b_done
01A4   17A6           00860         bsf     portc_temp, 7
01A5   2???           00861         goto    IRQ_LED1b_done  
01A6                  00862 IRQ_LED1b_1     
01A6   1E20           00863         btfss   LED1, 4
01A7   2???           00864         goto    IRQ_LED1b_done
01A8   0824           00865         movf    led_seq, W
01A9   3A01           00866         xorlw   0x01
01AA   1D03           00867         btfss   STATUS, Z
01AB   2???           00868         goto    IRQ_LED1b_done
01AC   17A6           00869         bsf     portc_temp, 7
01AD                  00870 IRQ_LED1b_done
                      00871         
01AD   0821           00872         movf    LED2, W
01AE   3903           00873         andlw   0x03
01AF   3A03           00874         xorlw   0x03
01B0   1D03           00875         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B1   2???           00876         goto    IRQ_LED2r_2
01B2   14A6           00877         bsf     portc_temp, 1
01B3   2???           00878         goto    IRQ_LED2r_done  
01B4                  00879 IRQ_LED2r_2
01B4   1CA1           00880         btfss   LED2, 1
01B5   2???           00881         goto    IRQ_LED2r_1
01B6   0824           00882         movf    led_seq, W
01B7   3A03           00883         xorlw   0x03
01B8   1903           00884         btfsc   STATUS, Z
01B9   2???           00885         goto    IRQ_LED2r_done
01BA   14A6           00886         bsf     portc_temp, 1
01BB   2???           00887         goto    IRQ_LED2r_done  
01BC                  00888 IRQ_LED2r_1     
01BC   1C21           00889         btfss   LED2, 0
01BD   2???           00890         goto    IRQ_LED2r_done
01BE   0824           00891         movf    led_seq, W
01BF   3A01           00892         xorlw   0x01
01C0   1D03           00893         btfss   STATUS, Z
01C1   2???           00894         goto    IRQ_LED2r_done
01C2   14A6           00895         bsf     portc_temp, 1
01C3                  00896 IRQ_LED2r_done
01C3   0821           00897         movf    LED2, W
01C4   390C           00898         andlw   0x0C
01C5   3A0C           00899         xorlw   0x0C
01C6   1D03           00900         btfss   STATUS, Z
01C7   2???           00901         goto    IRQ_LED2g_2
01C8   1526           00902         bsf     portc_temp, 2
01C9   2???           00903         goto    IRQ_LED2g_done  
01CA                  00904 IRQ_LED2g_2
01CA   1DA1           00905         btfss   LED2, 3
01CB   2???           00906         goto    IRQ_LED2g_1
01CC   0824           00907         movf    led_seq, W
01CD   3A03           00908         xorlw   0x03
01CE   1903           00909         btfsc   STATUS, Z
01CF   2???           00910         goto    IRQ_LED2g_done
01D0   1526           00911         bsf     portc_temp, 2
01D1   2???           00912         goto    IRQ_LED2g_done  
01D2                  00913 IRQ_LED2g_1     
01D2   1D21           00914         btfss   LED2, 2
01D3   2???           00915         goto    IRQ_LED2g_done
01D4   0824           00916         movf    led_seq, W
01D5   3A01           00917         xorlw   0x01
01D6   1D03           00918         btfss   STATUS, Z
01D7   2???           00919         goto    IRQ_LED2g_done
01D8   1526           00920         bsf     portc_temp, 2
01D9                  00921 IRQ_LED2g_done
01D9   0821           00922         movf    LED2, W
01DA   3930           00923         andlw   0x30
01DB   3A30           00924         xorlw   0x30
01DC   1D03           00925         btfss   STATUS, Z
01DD   2???           00926         goto    IRQ_LED2b_2
01DE   15A6           00927         bsf     portc_temp, 3
01DF   2???           00928         goto    IRQ_LED2b_done  
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01E0                  00929 IRQ_LED2b_2
01E0   1EA1           00930         btfss   LED2, 5
01E1   2???           00931         goto    IRQ_LED2b_1
01E2   0824           00932         movf    led_seq, W
01E3   3A03           00933         xorlw   0x03
01E4   1903           00934         btfsc   STATUS, Z
01E5   2???           00935         goto    IRQ_LED2b_done
01E6   15A6           00936         bsf     portc_temp, 3
01E7   2???           00937         goto    IRQ_LED2b_done  
01E8                  00938 IRQ_LED2b_1     
01E8   1E21           00939         btfss   LED2, 4
01E9   2???           00940         goto    IRQ_LED2b_done
01EA   0824           00941         movf    led_seq, W
01EB   3A01           00942         xorlw   0x01
01EC   1D03           00943         btfss   STATUS, Z
01ED   2???           00944         goto    IRQ_LED2b_done
01EE   15A6           00945         bsf     portc_temp, 3
01EF                  00946 IRQ_LED2b_done          
                      00947         
01EF   0822           00948         movf    LED3, W
01F0   3903           00949         andlw   0x03
01F1   3A03           00950         xorlw   0x03
01F2   1D03           00951         btfss   STATUS, Z
01F3   2???           00952         goto    IRQ_LED3r_2
01F4   17A5           00953         bsf     porta_temp, 7
01F5   2???           00954         goto    IRQ_LED3r_done  
01F6                  00955 IRQ_LED3r_2
01F6   1CA2           00956         btfss   LED3, 1
01F7   2???           00957         goto    IRQ_LED3r_1
01F8   0824           00958         movf    led_seq, W
01F9   3A03           00959         xorlw   0x03
01FA   1903           00960         btfsc   STATUS, Z
01FB   2???           00961         goto    IRQ_LED3r_done
01FC   17A5           00962         bsf     porta_temp, 7
01FD   2???           00963         goto    IRQ_LED3r_done  
01FE                  00964 IRQ_LED3r_1     
01FE   1C22           00965         btfss   LED3, 0
01FF   2???           00966         goto    IRQ_LED3r_done
0200   0824           00967         movf    led_seq, W
0201   3A01           00968         xorlw   0x01
0202   1D03           00969         btfss   STATUS, Z
0203   2???           00970         goto    IRQ_LED3r_done
0204   17A5           00971         bsf     porta_temp, 7
0205                  00972 IRQ_LED3r_done
0205   0822           00973         movf    LED3, W
0206   390C           00974         andlw   0x0C
0207   3A0C           00975         xorlw   0x0C
0208   1D03           00976         btfss   STATUS, Z
0209   2???           00977         goto    IRQ_LED3g_2
020A   1725           00978         bsf     porta_temp, 6
020B   2???           00979         goto    IRQ_LED3g_done  
020C                  00980 IRQ_LED3g_2
020C   1DA2           00981         btfss   LED3, 3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

020D   2???           00982         goto    IRQ_LED3g_1
020E   0824           00983         movf    led_seq, W
020F   3A03           00984         xorlw   0x03
0210   1903           00985         btfsc   STATUS, Z
0211   2???           00986         goto    IRQ_LED3g_done
0212   1725           00987         bsf     porta_temp, 6
0213   2???           00988         goto    IRQ_LED3g_done  
0214                  00989 IRQ_LED3g_1     
0214   1D22           00990         btfss   LED3, 2
0215   2???           00991         goto    IRQ_LED3g_done
0216   0824           00992         movf    led_seq, W
0217   3A01           00993         xorlw   0x01
0218   1D03           00994         btfss   STATUS, Z
0219   2???           00995         goto    IRQ_LED3g_done
021A   1725           00996         bsf     porta_temp, 6
021B                  00997 IRQ_LED3g_done
021B   0822           00998         movf    LED3, W
021C   3930           00999         andlw   0x30    
021D   3A30           01000         xorlw   0x30
021E   1D03           01001         btfss   STATUS, Z
021F   2???           01002         goto    IRQ_LED3b_2
0220   1426           01003         bsf     portc_temp, 0
0221   2???           01004         goto    IRQ_LED3b_done  
0222                  01005 IRQ_LED3b_2
0222   1EA2           01006         btfss   LED3, 5
0223   2???           01007         goto    IRQ_LED3b_1
0224   0824           01008         movf    led_seq, W
0225   3A03           01009         xorlw   0x03
0226   1903           01010         btfsc   STATUS, Z
0227   2???           01011         goto    IRQ_LED3b_done
0228   1426           01012         bsf     portc_temp, 0
0229   2???           01013         goto    IRQ_LED3b_done  
022A                  01014 IRQ_LED3b_1     
022A   1E22           01015         btfss   LED3, 4
022B   2???           01016         goto    IRQ_LED3b_done
022C   0824           01017         movf    led_seq, W
022D   3A01           01018         xorlw   0x01
022E   1D03           01019         btfss   STATUS, Z
022F   2???           01020         goto    IRQ_LED3b_done
0230   1426           01021         bsf     portc_temp, 0
0231                  01022 IRQ_LED3b_done
                      01023         
0231   0823           01024         movf    LED4, W
0232   3903           01025         andlw   0x03
0233   3A03           01026         xorlw   0x03
0234   1D03           01027         btfss   STATUS, Z
0235   2???           01028         goto    IRQ_LED4r_2
0236   1525           01029         bsf     porta_temp, 2
0237   2???           01030         goto    IRQ_LED4r_done  
0238                  01031 IRQ_LED4r_2
0238   1CA3           01032         btfss   LED4, 1
0239   2???           01033         goto    IRQ_LED4r_1
023A   0824           01034         movf    led_seq, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

023B   3A03           01035         xorlw   0x03
023C   1903           01036         btfsc   STATUS, Z
023D   2???           01037         goto    IRQ_LED4r_done
023E   1525           01038         bsf     porta_temp, 2
023F   2???           01039         goto    IRQ_LED4r_done  
0240                  01040 IRQ_LED4r_1     
0240   1C23           01041         btfss   LED4, 0
0241   2???           01042         goto    IRQ_LED4r_done
0242   0824           01043         movf    led_seq, W
0243   3A01           01044         xorlw   0x01
0244   1D03           01045         btfss   STATUS, Z
0245   2???           01046         goto    IRQ_LED4r_done
0246   1525           01047         bsf     porta_temp, 2
0247                  01048 IRQ_LED4r_done
0247   0823           01049         movf    LED4, W
0248   390C           01050         andlw   0x0C
0249   3A0C           01051         xorlw   0x0C
024A   1D03           01052         btfss   STATUS, Z
024B   2???           01053         goto    IRQ_LED4g_2
024C   15A5           01054         bsf     porta_temp, 3
024D   2???           01055         goto    IRQ_LED4g_done  
024E                  01056 IRQ_LED4g_2
024E   1DA3           01057         btfss   LED4, 3
024F   2???           01058         goto    IRQ_LED4g_1
0250   0824           01059         movf    led_seq, W
0251   3A03           01060         xorlw   0x03
0252   1903           01061         btfsc   STATUS, Z
0253   2???           01062         goto    IRQ_LED4g_done
0254   15A5           01063         bsf     porta_temp, 3
0255   2???           01064         goto    IRQ_LED4g_done  
0256                  01065 IRQ_LED4g_1     
0256   1D23           01066         btfss   LED4, 2
0257   2???           01067         goto    IRQ_LED4g_done
0258   0824           01068         movf    led_seq, W
0259   3A01           01069         xorlw   0x01
025A   1D03           01070         btfss   STATUS, Z
025B   2???           01071         goto    IRQ_LED4g_done
025C   15A5           01072         bsf     porta_temp, 3
025D                  01073 IRQ_LED4g_done
025D   0823           01074         movf    LED4, W
025E   3930           01075         andlw   0x30
025F   3A30           01076         xorlw   0x30
0260   1D03           01077         btfss   STATUS, Z
0261   2???           01078         goto    IRQ_LED4b_2
0262   1625           01079         bsf     porta_temp, 4
0263   2???           01080         goto    IRQ_LED4b_done  
0264                  01081 IRQ_LED4b_2
0264   1EA3           01082         btfss   LED4, 5
0265   2???           01083         goto    IRQ_LED4b_1
0266   0824           01084         movf    led_seq, W
0267   3A03           01085         xorlw   0x03
0268   1903           01086         btfsc   STATUS, Z
0269   2???           01087         goto    IRQ_LED4b_done
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

026A   1625           01088         bsf     porta_temp, 4
026B   2???           01089         goto    IRQ_LED4b_done  
026C                  01090 IRQ_LED4b_1     
026C   1E23           01091         btfss   LED4, 4
026D   2???           01092         goto    IRQ_LED4b_done
026E   0824           01093         movf    led_seq, W
026F   3A01           01094         xorlw   0x01
0270   1D03           01095         btfss   STATUS, Z
0271   2???           01096         goto    IRQ_LED4b_done
0272   1625           01097         bsf     porta_temp, 4
0273                  01098 IRQ_LED4b_done
                      01099         
                      01100         
                      01101         ; check the blink status
0273   0AA7           01102         incf    blink_seq, F
                      01103         
0274   0820           01104         movf    LED1, W
0275   39C0           01105         andlw   0xC0
0276   1903           01106         btfsc   STATUS, Z
0277   2???           01107         goto    IRQ_blink1_done
0278   1F20           01108         btfss   LED1, 6
0279   2???           01109         goto    IRQ_blink1_2
027A   1BA0           01110         btfsc   LED1, 7
027B   2???           01111         goto    IRQ_blink1_3
027C   1A27           01112         btfsc   blink_seq, 4
027D   2???           01113         goto    IRQ_blink1_done
027E   301F           01114         movlw   0x1F                            ; turn off all the LED1 bits 
027F   05A6           01115         andwf   portc_temp, F
0280   2???           01116         goto    IRQ_blink1_done
0281                  01117 IRQ_blink1_2
0281   1AA7           01118         btfsc   blink_seq, 5
0282   2???           01119         goto    IRQ_blink1_done
0283   301F           01120         movlw   0x1F                            ; turn off all the LED1 bits 
0284   05A6           01121         andwf   portc_temp, F
0285   2???           01122         goto    IRQ_blink1_done
0286                  01123 IRQ_blink1_3
0286   1B27           01124         btfsc   blink_seq, 6
0287   2???           01125         goto    IRQ_blink1_done
0288   301F           01126         movlw   0x1F                            ; turn off all the LED1 bits 
0289   05A6           01127         andwf   portc_temp, F
028A                  01128 IRQ_blink1_done 
                      01129 
028A   0821           01130         movf    LED2, W
028B   39C0           01131         andlw   0xC0
028C   1903           01132         btfsc   STATUS, Z
028D   2???           01133         goto    IRQ_blink2_done
028E   1F21           01134         btfss   LED2, 6
028F   2???           01135         goto    IRQ_blink2_2
0290   1BA1           01136         btfsc   LED2, 7
0291   2???           01137         goto    IRQ_blink2_3
0292   1A27           01138         btfsc   blink_seq, 4
0293   2???           01139         goto    IRQ_blink2_done
0294   30F1           01140         movlw   0xF1                            ; turn off all the LED1 bits 
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0295   05A6           01141         andwf   portc_temp, F
0296   2???           01142         goto    IRQ_blink2_done
0297                  01143 IRQ_blink2_2
0297   1AA7           01144         btfsc   blink_seq, 5
0298   2???           01145         goto    IRQ_blink2_done
0299   30F1           01146         movlw   0xF1                            ; turn off all the LED1 bits 
029A   05A6           01147         andwf   portc_temp, F
029B   2???           01148         goto    IRQ_blink2_done
029C                  01149 IRQ_blink2_3
029C   1B27           01150         btfsc   blink_seq, 6
029D   2???           01151         goto    IRQ_blink2_done
029E   30F1           01152         movlw   0xF1                            ; turn off all the LED1 bits 
029F   05A6           01153         andwf   portc_temp, F
02A0                  01154 IRQ_blink2_done 
                      01155         
02A0   0822           01156         movf    LED3, W
02A1   39C0           01157         andlw   0xC0
02A2   1903           01158         btfsc   STATUS, Z
02A3   2???           01159         goto    IRQ_blink3_done
02A4   1F22           01160         btfss   LED3, 6
02A5   2???           01161         goto    IRQ_blink3_2
02A6   1BA2           01162         btfsc   LED3, 7
02A7   2???           01163         goto    IRQ_blink3_3
02A8   1A27           01164         btfsc   blink_seq, 4
02A9   2???           01165         goto    IRQ_blink3_done
02AA   1026           01166         bcf     portc_temp, 0
02AB   303F           01167         movlw   0x3F                            ; turn off all the LED1 bits 
02AC   05A5           01168         andwf   porta_temp, F
02AD   2???           01169         goto    IRQ_blink3_done
02AE                  01170 IRQ_blink3_2
02AE   1AA7           01171         btfsc   blink_seq, 5
02AF   2???           01172         goto    IRQ_blink3_done
02B0   1026           01173         bcf     portc_temp, 0
02B1   303F           01174         movlw   0x3F                            ; turn off all the LED1 bits 
02B2   05A5           01175         andwf   porta_temp, F
02B3   2???           01176         goto    IRQ_blink3_done
02B4                  01177 IRQ_blink3_3
02B4   1B27           01178         btfsc   blink_seq, 6
02B5   2???           01179         goto    IRQ_blink3_done
02B6   1026           01180         bcf     portc_temp, 0
02B7   303F           01181         movlw   0x3F                            ; turn off all the LED1 bits 
02B8   05A5           01182         andwf   porta_temp, F
02B9                  01183 IRQ_blink3_done         
                      01184 
02B9   0823           01185         movf    LED4, W
02BA   39C0           01186         andlw   0xC0
02BB   1903           01187         btfsc   STATUS, Z
02BC   2???           01188         goto    IRQ_blink4_done
02BD   1F23           01189         btfss   LED4, 6
02BE   2???           01190         goto    IRQ_blink4_2
02BF   1BA3           01191         btfsc   LED4, 7
02C0   2???           01192         goto    IRQ_blink4_3
02C1   1A27           01193         btfsc   blink_seq, 4
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02C2   2???           01194         goto    IRQ_blink4_done
02C3   30E3           01195         movlw   0xE3                            ; turn off all the LED1 bits 
02C4   05A5           01196         andwf   porta_temp, F
02C5   2???           01197         goto    IRQ_blink4_done
02C6                  01198 IRQ_blink4_2
02C6   1AA7           01199         btfsc   blink_seq, 5
02C7   2???           01200         goto    IRQ_blink4_done
02C8   30E3           01201         movlw   0xE3                            ; turn off all the LED1 bits 
02C9   05A5           01202         andwf   porta_temp, F
02CA   2???           01203         goto    IRQ_blink4_done
02CB                  01204 IRQ_blink4_3
02CB   1B27           01205         btfsc   blink_seq, 6
02CC   2???           01206         goto    IRQ_blink4_done
02CD   30E3           01207         movlw   0xE3                            ; turn off all the LED1 bits 
02CE   05A5           01208         andwf   porta_temp, F
02CF                  01209 IRQ_blink4_done 
                      01210         
                      01211         
                      01212         ; Update the LED outputs 
02CF   30DC           01213         movlw   0xDC                            ; set all LED bits high (led off)
02D0   0498           01214         iorwf   LATA, F
                      01215         ; bits 0,1 not LEDs
02D1   1925           01216         btfsc   porta_temp, 2
02D2   1118           01217         bcf             LATA, 2
02D3   19A5           01218         btfsc   porta_temp, 3
02D4   1198           01219         bcf             LATA, 3
02D5   1A25           01220         btfsc   porta_temp, 4
02D6   1218           01221         bcf             LATA, 4
                      01222         ; bit 5 is not a LED
02D7   1B25           01223         btfsc   porta_temp, 6
02D8   1318           01224         bcf             LATA, 6
02D9   1BA5           01225         btfsc   porta_temp, 7
02DA   1398           01226         bcf             LATA, 7
                      01227 
02DB   30EF           01228         movlw   0xEF                            ; set all LED bits high (led off)
02DC   049A           01229         iorwf   LATC, F
02DD   1826           01230         btfsc   portc_temp, 0
02DE   101A           01231         bcf             LATC, 0
02DF   18A6           01232         btfsc   portc_temp, 1
02E0   109A           01233         bcf             LATC, 1
02E1   1926           01234         btfsc   portc_temp, 2
02E2   111A           01235         bcf             LATC, 2
02E3   19A6           01236         btfsc   portc_temp, 3
02E4   119A           01237         bcf             LATC, 3
                      01238         ; bit 4 is not a LED
02E5   1AA6           01239         btfsc   portc_temp, 5
02E6   129A           01240         bcf             LATC, 5
02E7   1B26           01241         btfsc   portc_temp, 6
02E8   131A           01242         bcf             LATC, 6
02E9   1BA6           01243         btfsc   portc_temp, 7
02EA   139A           01244         bcf             LATC, 7
                      01245         
                      01246         
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01247         ; update the led seq and set back to 3 if = to 0
02EB   0BA4           01248         decfsz  led_seq, F
02EC   2???           01249         goto    IRQ_led_done
02ED   3003           01250         movlw   0x03
02EE   00A4           01251         movwf   led_seq
02EF                  01252 IRQ_led_done
                      01253         
                      01254         ; update the becon timer 
02EF   0BA8           01255         decfsz  beacon_timer_l, F
02F0   2???           01256         goto    IRQ_beacon_done
02F1   0829           01257         movf    beacon_timer_h, W
02F2   1903           01258         btfsc   STATUS, Z
02F3   2???           01259         goto    IRQ_beacon_send
02F4   03A9           01260         decf    beacon_timer_h, F
02F5   2???           01261         goto    IRQ_beacon_done
02F6                  01262 IRQ_beacon_send 
02F6   192A           01263         btfsc   ir_status, 2            ; check if beacon is disabled
02F7   2???           01264         goto    IRQ_beacon_reset
02F8   182A           01265         btfsc   ir_status, 0            ; busy bit
02F9   2???           01266         goto    IRQ_beacon_reset                ; IR was busy so back off and try again next time
02FA   142A           01267         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data. 
02FB   01AC           01268         clrf    ir_cmd                          ; beacon cmd
02FC   01AD           01269         clrf    ir_data                         ; command data (not used for beacon)
02FD   14AA           01270         bsf             ir_status, 1            ; set the calc bit      
                      01271         ;------------------
02FE   300E           01272         movlw   d'14'
02FF   0088           01273         movwf   BSR             
                      01274         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0300   1719           01275         bsf             PIE3, TX2IE                     ; enable Uart2 transmit IRQ     
                      01276         ;------------------
0301   0188           01277         clrf    BSR             
                      01278         ;------------------
0302                  01279 IRQ_beacon_reset        
0302   30F6           01280         movlw   BEACON_TIME_L
0303   00A8           01281         movwf   beacon_timer_l
0304   3004           01282         movlw   BEACON_TIME_H
0305   00A9           01283         movwf   beacon_timer_h
                      01284         
0306                  01285 IRQ_beacon_done 
                      01286         
0306                  01287 IRQ_not_TMR0
                      01288         
                      01289         
                      01290         
                      01291         
                      01292         ;******************************************************************
                      01293         ; check if TX2 IRQ
                      01294         ;******************************************************************
                      01295         ;------------------
0306   300E           01296         movlw   d'14'
0307   0088           01297         movwf   BSR             
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01298         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0308   1F19           01299         btfss   PIE3, TX2IE                     ; if the IRQ is not enabled ignore this check
0309   2???           01300         goto    IRQ_not_TX2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
030A   1F0F           01301         btfss   PIR3, TX2IF                     ; check if IRQ is currently set
030B   2???           01302         goto    IRQ_not_TX2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
030C   130F           01303         bcf     PIR3, TX2IF     
                      01304         ;------------------
030D   0188           01305         clrf    BSR             
                      01306         ;------------------             
030E   1CAA           01307         btfss   ir_status, 1            ; calc bit set init all the regs
030F   2???           01308         goto    IRQ_TX2_no_calc
                      01309         ; calculate the checksum byte
0310   30A0           01310         movlw   0xA0                            ; M and S chars
0311   00AE           01311         movwf   ir_chksum
0312   082C           01312         movf    ir_cmd, W
0313   07AE           01313         addwf   ir_chksum, F
0314   082B           01314         movf    badge_id, W
0315   07AE           01315         addwf   ir_chksum, F
0316   082D           01316         movf    ir_data, W
0317   07AE           01317         addwf   ir_chksum, F
0318   09AE           01318         comf    ir_chksum, F
0319   0AAE           01319         incf    ir_chksum, F
031A   3007           01320         movlw   0x07
031B   00AF           01321         movwf   ir_tx_seq       
031C   10AA           01322         bcf             ir_status, 1            ; calc done clear bit
031D                  01323 IRQ_TX2_no_calc 
                      01324         
                      01325         ; check if more bytes to send
031D   0BAF           01326         decfsz  ir_tx_seq, F
031E   2???           01327         goto    IRQ_TX2_send
031F                  01328 IRQ_TX2_stop    
                      01329         ; all bytes sent stop TX
                      01330         ;------------------
031F   300E           01331         movlw   d'14'
0320   0088           01332         movwf   BSR             
                      01333         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0321   1319           01334         bcf     PIE3, TX2IE                     ; disable Uart2 transmit IRQ    
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0322   130F           01335         bcf     PIR3, TX2IF     
                      01336         ;------------------
0323   0188           01337         clrf    BSR             
                      01338         ;------------------             
0324   102A           01339         bcf             ir_status, 0            ; clear busy bit
0325   2???           01340         goto    IRQ_not_TX2     
                      01341         
0326                  01342 IRQ_TX2_send    
0326   082F           01343         movf    ir_tx_seq, W
0327   3A06           01344         xorlw   0x06
0328   1D03           01345         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0329   2???           01346         goto    IRQ_TX2_send_S
                      01347         ;------------------
032A   3014           01348         movlw   d'20'
032B   0088           01349         movwf   BSR             
                      01350         ;------------------
032C   304D           01351         movlw   0x4D                            ; M
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
032D   009A           01352         movwf   TX2REG
                      01353         ;------------------
032E   0188           01354         clrf    BSR             
                      01355         ;------------------
032F   2???           01356         goto    IRQ_not_TX2             
0330                  01357 IRQ_TX2_send_S
0330   082F           01358         movf    ir_tx_seq, W
0331   3A05           01359         xorlw   0x05
0332   1D03           01360         btfss   STATUS, Z
0333   2???           01361         goto    IRQ_TX2_send_cmd
                      01362         ;------------------
0334   3014           01363         movlw   d'20'
0335   0088           01364         movwf   BSR             
                      01365         ;------------------
0336   3053           01366         movlw   0x53                            ; S
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0337   009A           01367         movwf   TX2REG
                      01368         ;------------------
0338   0188           01369         clrf    BSR             
                      01370         ;------------------
0339   2???           01371         goto    IRQ_not_TX2             
033A                  01372 IRQ_TX2_send_cmd        
033A   082F           01373         movf    ir_tx_seq, W
033B   3A04           01374         xorlw   0x04
033C   1D03           01375         btfss   STATUS, Z
033D   2???           01376         goto    IRQ_TX2_send_id
033E   0187           01377         clrf    FSR1H
033F   302C           01378         movlw   ir_cmd
0340   0086           01379         movwf   FSR1L
                      01380         ;------------------
0341   3014           01381         movlw   d'20'
0342   0088           01382         movwf   BSR             
                      01383         ;------------------
0343   0801           01384         movf    INDF1, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0344   009A           01385         movwf   TX2REG
                      01386         ;------------------
0345   0188           01387         clrf    BSR             
                      01388         ;------------------
0346   2???           01389         goto    IRQ_not_TX2     
0347                  01390 IRQ_TX2_send_id 
0347   082F           01391         movf    ir_tx_seq, W
0348   3A03           01392         xorlw   0x03
0349   1D03           01393         btfss   STATUS, Z
034A   2???           01394         goto    IRQ_TX2_send_data
034B   0187           01395         clrf    FSR1H
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

034C   302B           01396         movlw   badge_id
034D   0086           01397         movwf   FSR1L
                      01398         ;------------------
034E   3014           01399         movlw   d'20'
034F   0088           01400         movwf   BSR             
                      01401         ;------------------
0350   0801           01402         movf    INDF1, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0351   009A           01403         movwf   TX2REG
                      01404         ;------------------
0352   0188           01405         clrf    BSR             
                      01406         ;------------------
0353   2???           01407         goto    IRQ_not_TX2     
0354                  01408 IRQ_TX2_send_data       
0354   082F           01409         movf    ir_tx_seq, W
0355   3A02           01410         xorlw   0x02
0356   1D03           01411         btfss   STATUS, Z
0357   2???           01412         goto    IRQ_TX2_send_chksum
0358   0187           01413         clrf    FSR1H
0359   302D           01414         movlw   ir_data
035A   0086           01415         movwf   FSR1L
                      01416         ;------------------
035B   3014           01417         movlw   d'20'
035C   0088           01418         movwf   BSR             
                      01419         ;------------------
035D   0801           01420         movf    INDF1, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
035E   009A           01421         movwf   TX2REG
                      01422         ;------------------
035F   0188           01423         clrf    BSR             
                      01424         ;------------------
0360   2???           01425         goto    IRQ_not_TX2
0361                  01426 IRQ_TX2_send_chksum
0361   082F           01427         movf    ir_tx_seq, W
0362   3A01           01428         xorlw   0x01
0363   1D03           01429         btfss   STATUS, Z
0364   2???           01430         goto    IRQ_TX2_stop            ; if the value is not 1,2,3,4,5,6 then something really bad happ
                            ened and it should stop now
0365   0187           01431         clrf    FSR1H
0366   302E           01432         movlw   ir_chksum
0367   0086           01433         movwf   FSR1L
                      01434         ;------------------
0368   3014           01435         movlw   d'20'
0369   0088           01436         movwf   BSR             
                      01437         ;------------------
036A   0801           01438         movf    INDF1, W
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
036B   009A           01439         movwf   TX2REG
                      01440         ;------------------
036C   0188           01441         clrf    BSR             
                      01442         ;------------------
036D                  01443 IRQ_not_TX2
                      01444 
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01445                 
                      01446         ;******************************************************************
                      01447         ; check if RX2 IRQ
                      01448         ;******************************************************************
                      01449         ;------------------
036D   300E           01450         movlw   d'14'
036E   0088           01451         movwf   BSR             
                      01452         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
036F   1F8F           01453         btfss   PIR3, RC2IF                     ; check if IRQ is currently set
0370   2???           01454         goto    IRQ_not_RX2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0371   138F           01455         bcf     PIR3, RC2IF     
                      01456         ;------------------
0372   3014           01457         movlw   d'20'
0373   0088           01458         movwf   BSR             
                      01459         ;------------------
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0374   1D1D           01460         btfss   RC2STA, FERR
0375   2???           01461         goto    IRQ_RX2_no_FERR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0376   0819           01462         movf    RC2REG, W                       ; read the reg to pop the bad byte off the stack
0377   2???           01463         goto    IRQ_RX2_packet_bad
0378                  01464 IRQ_RX2_no_FERR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0378   1C9D           01465         btfss   RC2STA, OERR
0379   2???           01466         goto    IRQ_RX2_no_OERR
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
037A   121D           01467         bcf     RC2STA, CREN            ; disable and enable CREN to clear OERR 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
037B   161D           01468         bsf     RC2STA, CREN            
037C   2???           01469         goto    IRQ_RX2_packet_bad
037D                  01470 IRQ_RX2_no_OERR         
                      01471         ;------------------
037D   0188           01472         clrf    BSR             
                      01473         ;------------------
                      01474         ; point the FSR to the RC reg
037E   300A           01475         movlw   HIGH RC2REG
037F   0087           01476         movwf   FSR1H
0380   3019           01477         movlw   LOW RC2REG
0381   0086           01478         movwf   FSR1L
0382   0830           01479         movf    ir_rx_seq, W
0383   3A06           01480         xorlw   0x06
0384   1D03           01481         btfss   STATUS, Z
0385   2???           01482         goto    IRQ_RX2_4
0386   0801           01483         movf    INDF1, W                        ; read the RC2REG
0387   3A4D           01484         xorlw   0x4D                            ; M
0388   1D03           01485         btfss   STATUS, Z
0389   2???           01486         goto    IRQ_RX2_packet_bad
038A   03B0           01487         decf    ir_rx_seq, F
038B   2???           01488         goto    IRQ_not_RX2
038C                  01489 IRQ_RX2_4       
038C   0830           01490         movf    ir_rx_seq, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

038D   3A05           01491         xorlw   0x05
038E   1D03           01492         btfss   STATUS, Z
038F   2???           01493         goto    IRQ_RX2_3
0390   0801           01494         movf    INDF1, W                        ; read the RC2REG
0391   3A53           01495         xorlw   0x53                            ; S
0392   1D03           01496         btfss   STATUS, Z
0393   2???           01497         goto    IRQ_RX2_packet_bad
0394   03B0           01498         decf    ir_rx_seq, F
0395   2???           01499         goto    IRQ_not_RX2
0396                  01500 IRQ_RX2_3       
0396   0185           01501         clrf    FSR0H
0397   3030           01502         movlw   ir_rx_seq                       ; select the reg based of the seq number
0398   0084           01503         movwf   FSR0L
0399   0830           01504         movf    ir_rx_seq, W
039A   0784           01505         addwf   FSR0L, F
039B   0801           01506         movf    INDF1, W                        ; read the RC2REG
039C   0080           01507         movwf   INDF0                           ; save the value to the selected reg    
039D   0BB0           01508         decfsz  ir_rx_seq, F
039E   2???           01509         goto    IRQ_not_RX2
                      01510         ; calculate the checksum byte
039F   30A0           01511         movlw   0xA0                            ; M and S chars
03A0   00B5           01512         movwf   temp
03A1   0834           01513         movf    ir_rx_cmd, W
03A2   07B5           01514         addwf   temp, F
03A3   0833           01515         movf    ir_rx_id, W
03A4   07B5           01516         addwf   temp, F
03A5   0832           01517         movf    ir_rx_data, W
03A6   07B5           01518         addwf   temp, F
03A7   0831           01519         movf    ir_rx_chksum, W
03A8   07B5           01520         addwf   temp, F
03A9   1D03           01521         btfss   STATUS, Z
03AA   2???           01522         goto    IRQ_RX2_packet_bad
                      01523         ; check the packet type and data since it is good
03AB   0833           01524         movf    ir_rx_id, W
03AC   062B           01525         xorwf   badge_id, W                     ; check for a reflection from this badge
03AD   1903           01526         btfsc   STATUS, Z
03AE   2???           01527         goto    IRQ_RX2_packet_bad
03AF   0834           01528         movf    ir_rx_cmd, W
                      01529         ;xorlw  0x00                            ; beacon
03B0   1D03           01530         btfss   STATUS, Z
03B1   2???           01531         goto    IRQ_RX2_packet_direct_remote
                      01532         ;movf   ir_rx_data, W
                      01533         ;xorwf  0x00, W                         ; check data
                      01534         ;btfsc  STATUS, Z
                      01535         ;goto   IRQ_RX2_packet_bad
03B2   19AA           01536         btfsc   ir_status, 3            ; check if beacon is disabled
03B3   2???           01537         goto    IRQ_RX2_packet_bad
                      01538         
                      01539         ;------------------
03B4   3006           01540         movlw   d'6'
03B5   0088           01541         movwf   BSR             
                      01542         ;------------------     
                      01543         ; set up PWM engine
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03B6   30FF           01544         movlw   IR_B_ON_PWM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03B7   0099           01545         movwf   PWM4DCH 
                      01546         ;------------------
03B8   0188           01547         clrf    BSR
                      01548         ;------------------
03B9   13AA           01549         bcf             ir_status, 7
03BA   172A           01550         bsf             ir_status, 6            ; set souce of PWM enable as beacon
03BB   3012           01551         movlw   IR_B_ON_TIME
03BC   00B6           01552         movwf   beacon_b_timer          ; set up timer to turn off beacon buz
03BD   1293           01553         bcf             TRISB, 5                    ; PWM output on. 
                      01554         
03BE   2???           01555         goto    IRQ_RX2_packet_bad
                      01556         
03BF                  01557 IRQ_RX2_packet_direct_remote
03BF   0834           01558         movf    ir_rx_cmd, W
03C0   3A01           01559         xorlw   0x01                            ; direct remote
03C1   1D03           01560         btfss   STATUS, Z
03C2   2???           01561         goto    IRQ_RX2_packet_set_display
                      01562         
                      01563         
03C3   1C32           01564         btfss   ir_rx_data, 0
03C4   2???           01565         goto    IRQ_RX2_packet_direct_m2
                      01566         ;------------------
03C5   3006           01567         movlw   d'6'
03C6   0088           01568         movwf   BSR             
                      01569         ;------------------     
                      01570         ; set up PWM engine
03C7   30FF           01571         movlw   IR_DIRECT_RMT_ON_PWM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03C8   0095           01572         movwf   PWM3DCH 
                      01573         ;------------------
03C9   0188           01574         clrf    BSR
                      01575         ;------------------
03CA   16AA           01576         bsf             ir_status, 5
03CB   122A           01577         bcf             ir_status, 4            ; set souce of PWM enable as direct remote
03CC   3012           01578         movlw   IR_DIRECT_RMT_ON_TIME
03CD   00C1           01579         movwf   direct_m1_timer         ; set up timer to turn off buz if no new signal
03CE   1113           01580         bcf             TRISB, 2                    ; M1 PWM output on. 
                      01581         
03CF                  01582 IRQ_RX2_packet_direct_m2        
03CF   1CB2           01583         btfss   ir_rx_data, 1
03D0   2???           01584         goto    IRQ_RX2_packet_direct_done
                      01585         ;------------------
03D1   3006           01586         movlw   d'6'
03D2   0088           01587         movwf   BSR             
                      01588         ;------------------     
                      01589         ; set up PWM engine
03D3   30FF           01590         movlw   IR_DIRECT_RMT_ON_PWM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
03D4   0099           01591         movwf   PWM4DCH 
                      01592         ;------------------
03D5   0188           01593         clrf    BSR
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01594         ;------------------
03D6   17AA           01595         bsf             ir_status, 7
03D7   132A           01596         bcf             ir_status, 6            ; set souce of PWM enable as direct remote
03D8   3012           01597         movlw   IR_DIRECT_RMT_ON_TIME
03D9   00C2           01598         movwf   direct_m2_timer         ; set up timer to turn off buz if no new signal
03DA   1293           01599         bcf             TRISB, 5                    ; M2 PWM output on. 
03DB   2???           01600         goto    IRQ_RX2_packet_direct_done
                      01601 
03DC                  01602 IRQ_RX2_packet_set_display
03DC   0834           01603         movf    ir_rx_cmd, W
03DD   3A02           01604         xorlw   0x02                            ; set led mode
03DE   1D03           01605         btfss   STATUS, Z
03DF   2???           01606         goto    IRQ_RX2_packet_set_led_speed_l  
03E0   0832           01607         movf    ir_rx_data, W
03E1   00ED           01608         movwf   led_mode_reg
03E2   2???           01609         goto    IRQ_RX2_packet_direct_done
                      01610         
03E3                  01611 IRQ_RX2_packet_set_led_speed_l
03E3   0834           01612         movf    ir_rx_cmd, W
03E4   3A03           01613         xorlw   0x03                            ; set speed low
03E5   1D03           01614         btfss   STATUS, Z
03E6   2???           01615         goto    IRQ_RX2_packet_set_led_speed_h  
03E7   0832           01616         movf    ir_rx_data, W
03E8   00EE           01617         movwf   speed_low
03E9   2???           01618         goto    IRQ_RX2_packet_direct_done
                      01619 
03EA                  01620 IRQ_RX2_packet_set_led_speed_h
03EA   0834           01621         movf    ir_rx_cmd, W
03EB   3A04           01622         xorlw   0x04                            ; set speed high
03EC   1D03           01623         btfss   STATUS, Z
03ED   2???           01624         goto    IRQ_RX2_packet_set_led1 
03EE   0832           01625         movf    ir_rx_data, W
03EF   390F           01626         andlw   0x0F
03F0   00EF           01627         movwf   speed_high
03F1   2???           01628         goto    IRQ_RX2_packet_direct_done
                      01629 
03F2                  01630 IRQ_RX2_packet_set_led1
03F2   0834           01631         movf    ir_rx_cmd, W
03F3   3A05           01632         xorlw   0x05                            ; set cust LED 1
03F4   1D03           01633         btfss   STATUS, Z
03F5   2???           01634         goto    IRQ_RX2_packet_set_led2 
03F6   0832           01635         movf    ir_rx_data, W
03F7   00EC           01636         movwf   cust_led1
03F8   2???           01637         goto    IRQ_RX2_packet_direct_done
                      01638 
03F9                  01639 IRQ_RX2_packet_set_led2
03F9   0834           01640         movf    ir_rx_cmd, W
03FA   3A06           01641         xorlw   0x06                            ; set cust LED 2
03FB   1D03           01642         btfss   STATUS, Z
03FC   2???           01643         goto    IRQ_RX2_packet_set_led3 
03FD   0832           01644         movf    ir_rx_data, W
03FE   00EB           01645         movwf   cust_led2
03FF   2???           01646         goto    IRQ_RX2_packet_direct_done
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01647 
0400                  01648 IRQ_RX2_packet_set_led3
0400   0834           01649         movf    ir_rx_cmd, W
0401   3A07           01650         xorlw   0x07                            ; set cust LED 3
0402   1D03           01651         btfss   STATUS, Z
0403   2???           01652         goto    IRQ_RX2_packet_set_led4 
0404   0832           01653         movf    ir_rx_data, W
0405   00EA           01654         movwf   cust_led3
0406   2???           01655         goto    IRQ_RX2_packet_direct_done
                      01656 
0407                  01657 IRQ_RX2_packet_set_led4
0407   0834           01658         movf    ir_rx_cmd, W
0408   3A08           01659         xorlw   0x08                            ; set cust LED 4
0409   1D03           01660         btfss   STATUS, Z
040A   2???           01661         goto    IRQ_RX2_packet_set_vibe 
040B   0832           01662         movf    ir_rx_data, W
040C   00E9           01663         movwf   cust_led4
040D   2???           01664         goto    IRQ_RX2_packet_direct_done
                      01665 
040E                  01666 IRQ_RX2_packet_set_vibe
040E   0834           01667         movf    ir_rx_cmd, W
040F   3A09           01668         xorlw   0x09                            ; set and start vibe
0410   1D03           01669         btfss   STATUS, Z
0411   2???           01670         goto    IRQ_RX2_packet_set_vibe_l       
0412   0832           01671         movf    ir_rx_data, W
0413   00E8           01672         movwf   vibe_mode
0414   3001           01673         movlw   0x01
0415   00C4           01674         movwf   vibe_cycle
0416   2???           01675         goto    IRQ_RX2_packet_direct_done
                      01676 
0417                  01677 IRQ_RX2_packet_set_vibe_l
0417   0834           01678         movf    ir_rx_cmd, W
0418   3A0A           01679         xorlw   0x0A                            ; set vibe speed low
0419   1D03           01680         btfss   STATUS, Z
041A   2???           01681         goto    IRQ_RX2_packet_set_vibe_h       
041B   0832           01682         movf    ir_rx_data, W
041C   00E5           01683         movwf   vibe_speed_l
041D   2???           01684         goto    IRQ_RX2_packet_direct_done
                      01685 
041E                  01686 IRQ_RX2_packet_set_vibe_h
041E   0834           01687         movf    ir_rx_cmd, W
041F   3A0B           01688         xorlw   0x0B                            ; set vibe high
0420   1D03           01689         btfss   STATUS, Z
0421   2???           01690         goto    IRQ_RX2_packet_direct_done      
0422   0832           01691         movf    ir_rx_data, W
0423   390F           01692         andlw   0x0F
0424   00E6           01693         movwf   vibe_speed_h
0425   2???           01694         goto    IRQ_RX2_packet_direct_done
                      01695         
                      01696         
0426                  01697 IRQ_RX2_packet_direct_done
                      01698 
                      01699         ;goto   IRQ_RX2_packet_bad
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01700         
0426                  01701 IRQ_RX2_packet_bad
                      01702         ; flush the packet here as it is bad
0426   01B3           01703         clrf    ir_rx_id
0427   01B2           01704         clrf    ir_rx_data
0428   01B4           01705         clrf    ir_rx_cmd
0429   01B1           01706         clrf    ir_rx_chksum
042A   0AB1           01707         incf    ir_rx_chksum, F
042B   3006           01708         movlw   0x06
042C   00B0           01709         movwf   ir_rx_seq
                      01710         
042D                  01711 IRQ_not_RX2
                      01712         
042D   0009           01713         retfie
                      01714 ;#######################################################################################################
                            ####################
                      01715 ; end of IRQ code
                      01716 ;#######################################################################################################
                            ####################    
                      01717         
042E                  01718 START
                      01719         ; init crap
                      01720         ;------------------
042E   0188           01721         clrf    BSR                         ; bank 0
                      01722         ;------------------
042F   018B           01723         clrf    INTCON                      ; disable interupts
0430   30DC           01724         movlw   0xDC                            
0431   0098           01725         movwf   LATA                        ; disable the LEDs and IR sender
0432   0199           01726         clrf    LATB                        ; disable the LEDs and motors
0433   30EF           01727         movlw   0xEF                            
0434   009A           01728         movwf   LATC                        ; disable the LEDs
                      01729 
0435   3022           01730         movlw   0x22
0436   0092           01731         movwf   TRISA                       ; 0 = output
0437   30BF           01732         movlw   0xBF
0438   0093           01733         movwf   TRISB                       ; 0 = output (PWM outputs off set to inputs to save power) 
0439   3010           01734         movlw   0x10
043A   0094           01735         movwf   TRISC                       ; 0 = output
043B   30FF           01736         movlw   0xFF
043C   0096           01737         movwf   TRISE                       ; 0 = output
                      01738         
043D   01F3           01739         clrf    delay_cntH
043E   01F2           01740         clrf    delay_cntL
043F   01A0           01741         clrf    LED1
0440   01A1           01742         clrf    LED2
0441   01A2           01743         clrf    LED3
0442   01A3           01744         clrf    LED4
0443   3003           01745         movlw   0x03
0444   00A4           01746         movwf   led_seq
0445   30F6           01747         movlw   BEACON_TIME_L
0446   00A8           01748         movwf   beacon_timer_l
0447   3004           01749         movlw   BEACON_TIME_H
0448   00A9           01750         movwf   beacon_timer_h
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0449   01AA           01751         clrf    ir_status
044A   3005           01752         movlw   0x05
044B   00B0           01753         movwf   ir_rx_seq
044C   01B7           01754         clrf    mode_ctl
044D   01BC           01755         clrf    mode_reg
044E   01B8           01756         clrf    no_press_cnt
044F   01C4           01757         clrf    vibe_cycle
0450   01BB           01758         clrf    sequence 
0451   01C7           01759         clrf    vibe_sequence
                      01760 
                      01761         
                      01762         ; load setting register from flash
0452   0185           01763         clrf    FSR0H                           ; address of first ram reg
0453   3065           01764         movlw   START_OF_REGS
0454   0084           01765         movwf   FSR0L   
0455   309F           01766         movlw   0x9f                            ; address of start of SAF (note flash address + 0x8000)
0456   0087           01767         movwf   FSR1H
0457   3080           01768         movlw   0x80
0458   0086           01769         movwf   FSR1L
0459                  01770 load_loop       
0459   0901           01771         comf    INDF1, W
045A   1D03           01772         btfss   STATUS, Z                       ; if the value is anything but FF go load all the regs
045B   2???           01773         goto    load_regs               
045C   0A84           01774         incf    FSR0L, F
045D   0A86           01775         incf    FSR1L, F
045E   0804           01776         movf    FSR0L, W
045F   3A70           01777         xorlw   0x70                            ; 1 past the end of the ram space
0460   1D03           01778         btfss   STATUS, Z
0461   2???           01779         goto    load_loop       
                      01780         ; all locations were FF so flash is blank so load defaults
0462   01E8           01781         clrf    vibe_mode
0463   3001           01782         movlw   0x01
0464   00E7           01783         movwf   vibe_rpt
0465   01ED           01784         clrf    led_mode_reg
0466   3020           01785         movlw   0x20
0467   00EE           01786         movwf   speed_low
0468   00E5           01787         movwf   vibe_speed_l
0469   01EF           01788         clrf    speed_high
046A   01E6           01789         clrf    vibe_speed_h
046B   3043           01790         movlw   0x43
046C   00EC           01791         movwf   cust_led1
046D   308C           01792         movlw   0x8C
046E   00EB           01793         movwf   cust_led2
046F   3001           01794         movlw   0x01
0470   00EA           01795         movwf   cust_led3
0471   3003           01796         movlw   0x03
0472   00E9           01797         movwf   cust_led4
0473   2???           01798         goto    load_done
0474                  01799 load_regs                       
                      01800         
0474   0185           01801         clrf    FSR0H                           ; address of first ram reg
0475   3065           01802         movlw   START_OF_REGS
0476   0084           01803         movwf   FSR0L   
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0477   309F           01804         movlw   0x9f                            ; address of start of SAF (note flash address + 0x8000)
0478   0087           01805         movwf   FSR1H
0479   3080           01806         movlw   0x80
047A   0086           01807         movwf   FSR1L
047B                  01808 load_loop2
047B   0801           01809         movf    INDF1, W
047C   0080           01810         movwf   INDF0
047D   0A84           01811         incf    FSR0L, F
047E   0A86           01812         incf    FSR1L, F
047F   0804           01813         movf    FSR0L, W
0480   3A70           01814         xorlw   0x70                            ; 1 past the end of the ram space
0481   1D03           01815         btfss   STATUS, Z
0482   2???           01816         goto    load_loop2      
0483                  01817 load_done               
                      01818         ; move timer for first loop
0483   086E           01819         movf    speed_low, W
0484   00B9           01820         movwf   led_timer_low
0485   086F           01821         movf    speed_high, W
0486   00BA           01822         movwf   led_timer_high
0487   0865           01823         movf    vibe_speed_l, W
0488   00C5           01824         movwf   vibe_timer_low
0489   0866           01825         movf    vibe_speed_h, W
048A   00C6           01826         movwf   vibe_timer_high
                      01827         
                      01828         
                      01829         
                      01830         
                      01831         ; TODO for debug remove this
                      01832         ;movlw  0x07
                      01833         ;movwf  led_mode_reg
                      01834         ; end TODO
                      01835         
                      01836         ;------------------
048B   3012           01837         movlw   d'18'
048C   0088           01838         movwf   BSR             
                      01839         ;------------------             
048D   3082           01840         movlw   0x82
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
048E   008C           01841         movwf   FVRCON                          ; FVR on, temp indicator off, temp low range, cmp buffer
                             off, ADC buffer on 2x
048F                  01842 FVR_startup_loop
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
048F   1F0C           01843         btfss   FVRCON, 6
0490   2???           01844         goto    FVR_startup_loop
                      01845         
                      01846         ;------------------
0491   3001           01847         movlw   d'1'
0492   0088           01848         movwf   BSR             
                      01849         ;------------------
0493   3033           01850         movlw   0x33
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0494   009E           01851         movwf   ADCON1                          ; Left justified, ADCRC, FVR + ref
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0495   019F           01852         clrf    ADACT                           ; no auto conversion
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0496   01A0           01853         clrf    adc_seq 
                      01854         ; 0x05  RA1, A 
                      01855         ; 0x15  RA5, Set
                      01856         ; 0x21  RB0, B
                      01857         ; 0x51  RC4, Sel
                      01858         ; 0xED  AVss
                      01859         ; 0xF9  FVR1 buffer
0497   30F9           01860         movlw   0xF9                            ; AVss selected, ADC on
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0498   009D           01861         movwf   ADCON0
                      01862         
                      01863         ;------------------
0499   3002           01864         movlw   d'2'
049A   0088           01865         movwf   BSR             
                      01866         ;------------------
                      01867         ; init LFSR
049B   30FF           01868         movlw   0xFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049C   00A0           01869         movwf   LFSR_0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049D   00A1           01870         movwf   LFSR_1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049E   00A2           01871         movwf   LFSR_2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049F   00A3           01872         movwf   LFSR_3
                      01873 
                      01874         ;------------------
04A0   3005           01875         movlw   d'5'
04A1   0088           01876         movwf   BSR             
                      01877         ;------------------
                      01878         ; set up timer 2 to roll over on a 38kHz period (37.9 something)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04A2   018C           01879         clrf    TMR2
04A3   30D3           01880         movlw   0xD3                        ; period reg 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04A4   008D           01881         movwf   PR2
04A5   3001           01882         movlw   0x01                        ; select Fosc/4 as the input clock
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04A6   0090           01883         movwf   T2CLKCON
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04A7   018F           01884         clrf    T2HLT                       ; mode 0 (free run standard) 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04A8   0191           01885         clrf    T2RST                       ; not used
04A9   3080           01886         movlw   0x80                        ; timer 2 on, 1:1 pre, 1:1 post
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04AA   008E           01887         movwf   T2CON
                      01888 
                      01889         ;------------------
04AB   3006           01890         movlw   d'6'
04AC   0088           01891         movwf   BSR             
                      01892         ;------------------     
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01893         ; set up PWM engine
04AD   30FF           01894         movlw   0xFF                        
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04AE   0095           01895         movwf   PWM3DCH
04AF   30C0           01896         movlw   0xC0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04B0   0094           01897         movwf   PWM3DCL
04B1   3080           01898         movlw   0x80                        ; engine on, active high
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04B2   0096           01899         movwf   PWM3CON
                      01900 
04B3   30FF           01901         movlw   0xFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04B4   0099           01902         movwf   PWM4DCH
04B5   30C0           01903         movlw   0xC0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04B6   0098           01904         movwf   PWM4DCL
04B7   3080           01905         movlw   0x80                        ; engine on, active high
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04B8   009A           01906         movwf   PWM4CON
                      01907 
04B9   3035           01908         movlw   IR_PULSE_WIDTH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04BA   009D           01909         movwf   PWM5DCH
04BB   30C0           01910         movlw   0xC0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04BC   009C           01911         movwf   PWM5DCL
04BD   3080           01912         movlw   0x80                        ; engine on, active high
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04BE   009E           01913         movwf   PWM5CON
                      01914         
                      01915         
                      01916         ;------------------
04BF   300B           01917         movlw   d'11'
04C0   0088           01918         movwf   BSR             
                      01919         ;------------------     
                      01920         ; Set up TMR0 (1/180th of a sec for 3 slices every 1/60th of a sec) 
04C1   30AC           01921         movlw   0xAC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04C2   009D           01922         movwf   TMR0H
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04C3   019C           01923         clrf    TMR0L   
04C4   3090           01924         movlw   0x90                                    ; LFINTOSC 31kHz, no sync, 1:1 prescaler
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04C5   009F           01925         movwf   T0CON1
04C6   3080           01926         movlw   0x80                                    ; timer on, 8 bit, 1:1 postscaler
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04C7   009E           01927         movwf   T0CON0
                      01928 
                      01929         ;------------------
04C8   300E           01930         movlw   d'14'
04C9   0088           01931         movwf   BSR             
                      01932         ;------------------     
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01933         ; set up interupts
04CA   3020           01934         movlw   0x20                                    ; TMR0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04CB   0096           01935         movwf   PIE0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04CC   018C           01936         clrf    PIR0
04CD   3001           01937         movlw   0x01                                    ; ADC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04CE   0097           01938         movwf   PIE1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04CF   018D           01939         clrf    PIR1
04D0   3080           01940         movlw   0x80                                    ; RC2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04D1   0099           01941         movwf   PIE3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04D2   018F           01942         clrf    PIR3
                      01943 
                      01944         ;------------------
04D3   3010           01945         movlw   d'16'
04D4   0088           01946         movwf   BSR             
                      01947         ;------------------     
                      01948         ; get the user ID data (badge ID) 
04D5   3080           01949         movlw   0x80
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04D6   009B           01950         movwf   NVMADRH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04D7   019A           01951         clrf    NVMADRL
04D8   3041           01952         movlw   0x41
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04D9   009E           01953         movwf   NVMCON1                                 ; read the config space selected
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04DA   081C           01954         movf    NVMDATL, W
                      01955         ;------------------
04DB   0188           01956         clrf    BSR             
                      01957         ;------------------     
04DC   00AB           01958         movwf   badge_id
                      01959         
                      01960         ;------------------
04DD   3014           01961         movlw   d'20'
04DE   0088           01962         movwf   BSR             
                      01963         ;------------------
                      01964         ; set up uart 2
04DF   3020           01965         movlw   0x20
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04E0   009E           01966         movwf   TX2STA                                  ; tx on, 8 bit tx, low baud 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04E1   019F           01967         clrf    BAUD2CON                                ; Pol normal, 8 bit baud, 
04E2   30A6           01968         movlw   0xA6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04E3   009B           01969         movwf   SP2BRGL                                 ; baud rate for 3000 baud -0.2% off
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04E4   019C           01970         clrf    SP2BRGH
04E5   3090           01971         movlw   0x90
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04E6   009D           01972         movwf   RC2STA                                  ; UART on, 8 bit rx, CREN on
                      01973         
                      01974         ;------------------
04E7   303C           01975         movlw   d'60'
04E8   0088           01976         movwf   BSR             
                      01977         ;------------------
                      01978         ; configure CLC for IRDA output
                      01979         
04E9   3013           01980         movlw   0x13
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04EA   0092           01981         movwf   CLC1SEL0                                ; data 1 PWM5
04EB   3021           01982         movlw   0x21
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04EC   0093           01983         movwf   CLC1SEL1                                ; data 2 TX2
04ED   3013           01984         movlw   0x13
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04EE   0094           01985         movwf   CLC1SEL2                                ; data 3 PWM5
04EF   3013           01986         movlw   0x13
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04F0   0095           01987         movwf   CLC1SEL3                                ; data 4 PWM5   
04F1   3002           01988         movlw   0x02
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04F2   0096           01989         movwf   CLC1GLS0                                ; data 1 connected to input 1 normal
04F3   3008           01990         movlw   0x08
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04F4   0097           01991         movwf   CLC1GLS1                                ; data 2 connected to input 2 normal
04F5   3000           01992         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04F6   0098           01993         movwf   CLC1GLS2                                ; nothing connected to input 3
04F7   3000           01994         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04F8   0099           01995         movwf   CLC1GLS3                                ; nothing connected to input 4
04F9   300E           01996         movlw   0x0E
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04FA   0091           01997         movwf   CLC1POL                                 ; inputs 1, 2 normal 3, 4 inverted, and output N
                            OT inverted
04FB   3082           01998         movlw   0x82                                    ; CLC enabled, no IRQs, 4 input 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
04FC   0090           01999         movwf   CLC1CON
                      02000         
                      02001         ;------------------
04FD   303D           02002         movlw   d'61'
04FE   0088           02003         movwf   BSR             
                      02004         ;------------------
                      02005         ; unlock bits
04FF   3055           02006         movlw   0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0500   008F           02007         movwf   PPSLOCK
0501   30AA           02008         movlw   0xAA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0502   008F           02009         movwf   PPSLOCK
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0503   100F           02010         bcf     PPSLOCK, PPSLOCKED
                      02011         
                      02012         ; input PPS signals
0504   3009           02013         movlw   0x09                                    ; RB1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0505   00CD           02014         movwf   RX2DTPPS        
0506   300B           02015         movlw   0x0B                                    ; RB3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0507   00C5           02016         movwf   SSP1CLKPPS
0508   300C           02017         movlw   0x0C                                    ; RB4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0509   00C6           02018         movwf   SSP1DATPPS
050A   300F           02019         movlw   0x0F                                    ; RB7
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
050B   00CB           02020         movwf   RX1DTPPS
                      02021         
                      02022         ;------------------
050C   303E           02023         movlw   d'62'
050D   0088           02024         movwf   BSR             
                      02025         ;------------------     
050E   3022           02026         movlw   0x22
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
050F   00B8           02027         movwf   ANSELA                          ; 0 = digital, 1 = analog 
0510   3001           02028         movlw   0x01
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0511   00C3           02029         movwf   ANSELB                          ; 0 = digital, 1 = analog 
0512   3010           02030         movlw   0x10
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0513   00CE           02031         movwf   ANSELC                          ; 0 = digital, 1 = analog 
                      02032 
                      02033         ; output PPS signals
0514   3001           02034         movlw   0x01                            ; CLC1OUT
                      02035 ;       movwf   RC6PPS                          ; temp for debug
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0515   0090           02036         movwf   RA0PPS                          
0516   300B           02037         movlw   0x0B                            ; PWM3OUT
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0517   009A           02038         movwf   RB2PPS                          
0518   3015           02039         movlw   0x15                            ; SCL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0519   009B           02040         movwf   RB3PPS
051A   3016           02041         movlw   0x16                            ; SDA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
051B   009C           02042         movwf   RB4PPS
051C   300C           02043         movlw   0x0C                            ; PWM4OUT
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
051D   009D           02044         movwf   RB5PPS
051E   300F           02045         movlw   0x0F                            ; TX
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
051F   009E           02046         movwf   RB6PPS
                      02047                 
                      02048         ;------------------
0520   303D           02049         movlw   d'61'
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0521   0088           02050         movwf   BSR             
                      02051         ;------------------     
                      02052         ; lock bits
0522   3055           02053         movlw   0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0523   008F           02054         movwf   PPSLOCK
0524   30AA           02055         movlw   0xAA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0525   008F           02056         movwf   PPSLOCK
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0526   140F           02057         bsf     PPSLOCK, PPSLOCKED      
                      02058         
                      02059         ;------------------
0527   0188           02060         clrf    BSR                                     ; bank 0
                      02061         ;------------------
0528   30C0           02062         movlw   0xC0
0529   008B           02063         movwf   INTCON                      ; enable interrupts
                      02064         
                      02065         
                      02066         ; firmware version display here 
052A   3033           02067         movlw   ver_a
052B   00A0           02068         movwf   LED1
052C   3000           02069         movlw   ver_b
052D   00A1           02070         movwf   LED2
052E   3000           02071         movlw   ver_c
052F   00A2           02072         movwf   LED3
0530   3000           02073         movlw   ver_d
0531   00A3           02074         movwf   LED4    
0532   01F3           02075         clrf    delay_cntH
0533   305A           02076         movlw   0x5A
0534   00F2           02077         movwf   delay_cntL
0535   2???           02078         call    _Delay  
                      02079         ; M1 selftest
0536   3018           02080         movlw   0x18
0537   008A           02081         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
0538   3007           02082         movlw   0x07
0539   2???           02083         call    _Set_M1
053A   018A           02084         clrf    PCLATH
053B   01F3           02085         clrf    delay_cntH
053C   3012           02086         movlw   0x12
053D   00F2           02087         movwf   delay_cntL
053E   2???           02088         call    _Delay  
053F   3018           02089         movlw   0x18
0540   008A           02090         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page
0541   3000           02091         movlw   0x00
0542   2???           02092         call    _Set_M1
0543   018A           02093         clrf    PCLATH
                      02094 
                      02095 #ifdef __LED_TEST_MODE__        
                      02096 debug_stop
                      02097         goto    debug_stop
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02098 #endif
                      02099         
0544   01A0           02100         clrf    LED1
0545   01A1           02101         clrf    LED2
0546   01A2           02102         clrf    LED3
0547   01A3           02103         clrf    LED4
                      02104         ;LED1 selftest
0548   3003           02105         movlw   0x03
0549   00A0           02106         movwf   LED1
054A   302D           02107         movlw   0x2d
054B   00F2           02108         movwf   delay_cntL
054C   2???           02109         call    _Delay  
054D   300C           02110         movlw   0x0C
054E   00A0           02111         movwf   LED1
054F   302D           02112         movlw   0x2d
0550   00F2           02113         movwf   delay_cntL
0551   2???           02114         call    _Delay  
0552   3030           02115         movlw   0x30
0553   00A0           02116         movwf   LED1
0554   302D           02117         movlw   0x2d
0555   00F2           02118         movwf   delay_cntL
0556   2???           02119         call    _Delay  
0557   01A0           02120         clrf    LED1
                      02121         ;LED2 selftest
0558   3003           02122         movlw   0x03
0559   00A1           02123         movwf   LED2
055A   302D           02124         movlw   0x2d
055B   00F2           02125         movwf   delay_cntL
055C   2???           02126         call    _Delay  
055D   300C           02127         movlw   0x0C
055E   00A1           02128         movwf   LED2
055F   302D           02129         movlw   0x2d
0560   00F2           02130         movwf   delay_cntL
0561   2???           02131         call    _Delay  
0562   3030           02132         movlw   0x30
0563   00A1           02133         movwf   LED2
0564   302D           02134         movlw   0x2d
0565   00F2           02135         movwf   delay_cntL
0566   2???           02136         call    _Delay  
0567   01A1           02137         clrf    LED2
                      02138         ;LED3 selftest
0568   3003           02139         movlw   0x03
0569   00A2           02140         movwf   LED3
056A   302D           02141         movlw   0x2d
056B   00F2           02142         movwf   delay_cntL
056C   2???           02143         call    _Delay  
056D   300C           02144         movlw   0x0C
056E   00A2           02145         movwf   LED3
056F   302D           02146         movlw   0x2d
0570   00F2           02147         movwf   delay_cntL
0571   2???           02148         call    _Delay  
0572   3030           02149         movlw   0x30
0573   00A2           02150         movwf   LED3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0574   302D           02151         movlw   0x2d
0575   00F2           02152         movwf   delay_cntL
0576   2???           02153         call    _Delay  
0577   01A2           02154         clrf    LED3    
                      02155         ;LED4 selftest
0578   3003           02156         movlw   0x03
0579   00A3           02157         movwf   LED4
057A   302D           02158         movlw   0x2d
057B   00F2           02159         movwf   delay_cntL
057C   2???           02160         call    _Delay  
057D   300C           02161         movlw   0x0C
057E   00A3           02162         movwf   LED4
057F   302D           02163         movlw   0x2d
0580   00F2           02164         movwf   delay_cntL
0581   2???           02165         call    _Delay  
0582   3030           02166         movlw   0x30
0583   00A3           02167         movwf   LED4
0584   302D           02168         movlw   0x2d
0585   00F2           02169         movwf   delay_cntL
0586   2???           02170         call    _Delay  
0587   01A3           02171         clrf    LED4    
                      02172         ; M2 test selftest
0588   3018           02173         movlw   0x18
0589   008A           02174         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page
058A   3007           02175         movlw   0x07
058B   2???           02176         call    _Set_M2
058C   018A           02177         clrf    PCLATH
058D   01F3           02178         clrf    delay_cntH
058E   3012           02179         movlw   0x12
058F   00F2           02180         movwf   delay_cntL
0590   2???           02181         call    _Delay  
0591   3018           02182         movlw   0x18
0592   008A           02183         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page
0593   3000           02184         movlw   0x00
0594   2???           02185         call    _Set_M2
                      02186         
0595   3008           02187         movlw   0x08
0596   008A           02188         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
0597   2???           02189         goto    MAINLOOP
                      02190 
                      02191 ;#########################################################      
                      02192 ; delay value in W * 1/60s (max 4.24s) 
                      02193 ;#########################################################      
0598                  02194 _Delay
0598   08F3           02195         movf    delay_cntH, F           ; high byte assumed cleared based on above      
0599   1D03           02196         btfss   STATUS, Z
059A   2???           02197         goto    _Delay
059B   08F2           02198         movf    delay_cntL, F           ; high byte assumed cleared based on above      
059C   1D03           02199         btfss   STATUS, Z
059D   2???           02200         goto    _Delay
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02201         
059E   0008           02202         return
                      02203         
                      02204 
                      02205         
                      02206 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
                      02207 ; start of page 1
                      02208         org             0800h
                      02209 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
0800                  02210 MAINLOOP
                      02211         
0800   1A74           02212         btfsc   buttons, 4                      ; make sure values have all been updated before evaluati
                            ng this
                      02213         ; buttons,0 = B
                      02214         ; buttons,1 = Select
                      02215         ; buttons,2 = Set
                      02216         ; buttons,3 = A
                      02217         ; buttons,4 = Values updated and ready to read  
0801   2???           02218         goto    debounce_check_start
                      02219         
0802   3010           02220         movlw   0x10
0803   008A           02221         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page
0804   2???           02222         goto    MAINLOOP_LEDS
                      02223         
0805                  02224 debounce_check_start
                      02225         ; debounce the inputs by not counting presses for x cycles
0805   0838           02226         movf    no_press_cnt, W
0806   1903           02227         btfsc   STATUS, Z
0807   2???           02228         goto    debounce_check_done
0808   03B8           02229         decf    no_press_cnt, F 
                      02230         ; if cont mode is set and set button is not pressed skip debounce check (support holding the but
                            ton(s) down)
0809   1974           02231         btfsc   buttons, 2
080A   2???           02232         goto    button_ctl_done
080B   1FB7           02233         btfss   mode_ctl, 7
080C   2???           02234         goto    button_ctl_done
080D                  02235 debounce_check_done
                      02236         
                      02237 
                      02238         ; if in reg select and mode 13 clear out ir_data_temp and pre-pop with data     
080D   0837           02239         movf    mode_ctl, W
080E   39FC           02240         andlw   0xFC                            
080F   1D03           02241         btfss   STATUS, Z
0810   2???           02242         goto    reg_set_no_prepop_13
0811   083C           02243         movf    mode_reg, W
0812   3A13           02244         xorlw   0x13                            ; beacon vibe disable (use IR data temp as a temp var) 
0813   1D03           02245         btfss   STATUS, Z
0814   2???           02246         goto    reg_set_no_prepop_13
0815   01C3           02247         clrf    ir_data_temp
0816   19AA           02248         btfsc   ir_status, 3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0817   1443           02249         bsf             ir_data_temp, 0
0818                  02250 reg_set_no_prepop_13
                      02251         
                      02252         ; check which register banks to use
0818   0187           02253         clrf    FSR1H
0819   0837           02254         movf    mode_ctl, W
081A   39FC           02255         andlw   0xFC
081B   1D03           02256         btfss   STATUS, Z
081C   2???           02257         goto    reg_set_mode_0
                      02258         ; if mode 0 to 3 use the mode reg for the led display
081D   303C           02259         movlw   mode_reg
081E   0086           02260         movwf   FSR1L
081F   2???           02261         goto    reg_set_done
0820                  02262 reg_set_mode_0  
0820   083C           02263         movf    mode_reg, W
0821   3A01           02264         xorlw   0x01                            ; speed reg
0822   1D03           02265         btfss   STATUS, Z
0823   2???           02266         goto    reg_set_mode_2
                      02267         ; speed reg
0824   306E           02268         movlw   speed_low       
0825   0086           02269         movwf   FSR1L
0826   2???           02270         goto    reg_set_done
0827                  02271 reg_set_mode_2  
0827   083C           02272         movf    mode_reg, W
0828   3A02           02273         xorlw   0x02                            ; custom led reg
0829   1D03           02274         btfss   STATUS, Z
082A   2???           02275         goto    reg_set_mode_3
082B   2???           02276         goto    reg_set_mode_3_do
082C                  02277 reg_set_mode_3  
082C   083C           02278         movf    mode_reg, W
082D   3A03           02279         xorlw   0x03                            ; custom led reg (blink)
082E   1D03           02280         btfss   STATUS, Z
082F   2???           02281         goto    reg_set_mode_4
0830                  02282 reg_set_mode_3_do       
0830   3069           02283         movlw   cust_led4
0831   0086           02284         movwf   FSR1L
0832   2???           02285         goto    reg_set_done
0833                  02286 reg_set_mode_4
0833   083C           02287         movf    mode_reg, W
0834   3A04           02288         xorlw   0x04                            ; vibe mode reg
0835   1D03           02289         btfss   STATUS, Z
0836   2???           02290         goto    reg_set_mode_5
                      02291         ; vibe mode reg
0837   3068           02292         movlw   vibe_mode       
0838   0086           02293         movwf   FSR1L
0839   2???           02294         goto    reg_set_done
083A                  02295 reg_set_mode_5
083A   083C           02296         movf    mode_reg, W
083B   3A05           02297         xorlw   0x05                            ; vibe repeat count
083C   1D03           02298         btfss   STATUS, Z
083D   2???           02299         goto    reg_set_mode_6
                      02300         ; vibe repeat count
083E   3067           02301         movlw   vibe_rpt        
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

083F   0086           02302         movwf   FSR1L
0840   2???           02303         goto    reg_set_done
0841                  02304 reg_set_mode_6
0841   083C           02305         movf    mode_reg, W
0842   3A06           02306         xorlw   0x06                            ; vibe speed regs
0843   1D03           02307         btfss   STATUS, Z
0844   2???           02308         goto    reg_set_mode_7
                      02309         ; vibe speed regs
0845   3065           02310         movlw   vibe_speed_l    
0846   0086           02311         movwf   FSR1L
0847   2???           02312         goto    reg_set_done
0848                  02313 reg_set_mode_7
                      02314         ; 7 not used
                      02315         ; 8 not used
0848   083C           02316         movf    mode_reg, W
0849   3A09           02317         xorlw   0x09                            ; rmt display mode
084A   1903           02318         btfsc   STATUS, Z
084B   2???           02319         goto    reg_set_mode_9_do
084C   083C           02320         movf    mode_reg, W
084D   3A0A           02321         xorlw   0x0A                            ; rmt speed l
084E   1903           02322         btfsc   STATUS, Z
084F   2???           02323         goto    reg_set_mode_9_do
0850   083C           02324         movf    mode_reg, W
0851   3A0B           02325         xorlw   0x0B                            ; rmt speed h
0852   1903           02326         btfsc   STATUS, Z
0853   2???           02327         goto    reg_set_mode_9_do
0854   083C           02328         movf    mode_reg, W
0855   3A0C           02329         xorlw   0x0C                            ; rmt LED1
0856   1903           02330         btfsc   STATUS, Z
0857   2???           02331         goto    reg_set_mode_9_do
0858   083C           02332         movf    mode_reg, W
0859   3A0D           02333         xorlw   0x0D                            ; rmt LED2
085A   1903           02334         btfsc   STATUS, Z
085B   2???           02335         goto    reg_set_mode_9_do
085C   083C           02336         movf    mode_reg, W
085D   3A0E           02337         xorlw   0x0E                            ; rmt LED3
085E   1903           02338         btfsc   STATUS, Z
085F   2???           02339         goto    reg_set_mode_9_do
0860   083C           02340         movf    mode_reg, W
0861   3A0F           02341         xorlw   0x0F                            ; rmt LED4
0862   1903           02342         btfsc   STATUS, Z
0863   2???           02343         goto    reg_set_mode_9_do
0864   083C           02344         movf    mode_reg, W
0865   3A10           02345         xorlw   0x10                            ; rmt vibe
0866   1903           02346         btfsc   STATUS, Z
0867   2???           02347         goto    reg_set_mode_9_do
0868   083C           02348         movf    mode_reg, W
0869   3A11           02349         xorlw   0x11                            ; rmt vibe speed l
086A   1903           02350         btfsc   STATUS, Z
086B   2???           02351         goto    reg_set_mode_9_do
086C   083C           02352         movf    mode_reg, W
086D   3A12           02353         xorlw   0x12                            ; rmt vibe speed h
086E   1903           02354         btfsc   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

086F   2???           02355         goto    reg_set_mode_9_do       
0870   083C           02356         movf    mode_reg, W
0871   3A13           02357         xorlw   0x13                            ; beacon vibe disable (use IR data temp as a temp var) 
0872   1903           02358         btfsc   STATUS, Z
0873   2???           02359         goto    reg_set_mode_9_do
0874   2???           02360         goto    reg_set_mode_A
0875                  02361 reg_set_mode_9_do       
                      02362         ; temporaray IR data reg var
0875   3043           02363         movlw   ir_data_temp    
0876   0086           02364         movwf   FSR1L
0877   2???           02365         goto    reg_set_done
0878                  02366 reg_set_mode_A
                      02367         
                      02368                 
                      02369         ; for mode 4 to 7 use led mode reg (default)
0878   306D           02370         movlw   led_mode_reg
0879   0086           02371         movwf   FSR1L
                      02372         ;goto   reg_set_done
087A                  02373 reg_set_done    
                      02374         
087A                  02375 button_ctl_chk_start    
                      02376         ; check if currently in run mode see if set button was pressed
087A   0837           02377         movf    mode_ctl, W
087B   1D03           02378         btfss   STATUS, Z
087C   2???           02379         goto    button_ctl_start
087D   0874           02380         movf    buttons, W
087E   3A14           02381         xorlw   0x14                            ; only set button pressed
087F   1D03           02382         btfss   STATUS, Z
0880   2???           02383         goto    button_ctl_done 
0881   0AB7           02384         incf    mode_ctl, F     
0882   2???           02385         goto    button_update_leds_8bit 
0883                  02386 button_ctl_start        
                      02387         
                      02388         ; check what mode of input is selected and branch there
0883   0837           02389         movf    mode_ctl, W
0884   39FC           02390         andlw   0xFC                            ; mode reg is always 8 bit 
0885   1903           02391         btfsc   STATUS, Z
0886   2???           02392         goto    button_ctl_8bit
0887   083C           02393         movf    mode_reg, W
0888   3A01           02394         xorlw   0x01                            ; speed reg
0889   1903           02395         btfsc   STATUS, Z
088A   2???           02396         goto    button_ctl_12bit
088B   083C           02397         movf    mode_reg, W
088C   3A02           02398         xorlw   0x02                            ; custom color reg
088D   1903           02399         btfsc   STATUS, Z
088E   2???           02400         goto    button_ctl_24bit
088F   083C           02401         movf    mode_reg, W
0890   3A03           02402         xorlw   0x03                            ; custom color reg (blink)
0891   1903           02403         btfsc   STATUS, Z
0892   2???           02404         goto    button_ctl_2x4bit
0893   083C           02405         movf    mode_reg, W
0894   3A06           02406         xorlw   0x06                            ; vibe speed reg
0895   1903           02407         btfsc   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0896   2???           02408         goto    button_ctl_12bit
0897   083C           02409         movf    mode_reg, W
0898   3A07           02410         xorlw   0x07                            ; save vars
0899   1903           02411         btfsc   STATUS, Z
089A   2???           02412         goto    button_ctl_save_vars
089B   083C           02413         movf    mode_reg, W
089C   3A08           02414         xorlw   0x08                            ; direct remote
089D   1903           02415         btfsc   STATUS, Z
089E   2???           02416         goto    button_ctl_direct_remote
                      02417         ; all other values are assumed to be 8 bit (led mode reg is the default for unused address and i
                            s 8 bit) 
                      02418         
                      02419         ; check if in register select and apply value as needed for A and B, advance for Select, or go t
                            o reg set if set
089F                  02420 button_ctl_8bit
089F   0874           02421         movf    buttons, W
08A0   3A14           02422         xorlw   0x14                            ; only set button pressed
08A1   1D03           02423         btfss   STATUS, Z
08A2   2???           02424         goto    button_ctl_8bit_sel
08A3   0837           02425         movf    mode_ctl, W
08A4   39FC           02426         andlw   0xFC
08A5   1D03           02427         btfss   STATUS, Z
08A6   2???           02428         goto    button_ctl_8bit_all_done        
08A7   083C           02429         movf    mode_reg, W
08A8   3A01           02430         xorlw   0x01                            ; speed reg
08A9   1D03           02431         btfss   STATUS, Z
08AA   2???           02432         goto    button_ctl_8bit_not_mode_1
08AB   3004           02433         movlw   0x04    
08AC   00B7           02434         movwf   mode_ctl
08AD   2???           02435         goto    button_update_leds_8bit         
08AE                  02436 button_ctl_8bit_not_mode_1
08AE   083C           02437         movf    mode_reg, W
08AF   3A02           02438         xorlw   0x02                            ; custom color
08B0   1D03           02439         btfss   STATUS, Z
08B1   2???           02440         goto    button_ctl_8bit_not_mode_2
08B2   3004           02441         movlw   0x04    
08B3   00B7           02442         movwf   mode_ctl
08B4   2???           02443         goto    button_update_leds_8bit         
08B5                  02444 button_ctl_8bit_not_mode_2
08B5   083C           02445         movf    mode_reg, W
08B6   3A03           02446         xorlw   0x03                            ; custom color (blink)
08B7   1D03           02447         btfss   STATUS, Z
08B8   2???           02448         goto    button_ctl_8bit_not_mode_3
08B9   3004           02449         movlw   0x04    
08BA   00B7           02450         movwf   mode_ctl
08BB   2???           02451         goto    button_update_leds_2x4bit               
08BC                  02452 button_ctl_8bit_not_mode_3      
08BC   083C           02453         movf    mode_reg, W
08BD   3A06           02454         xorlw   0x06                            ; vibe speed reg
08BE   1D03           02455         btfss   STATUS, Z
08BF   2???           02456         goto    button_ctl_8bit_not_mode_6
08C0   3004           02457         movlw   0x04    
08C1   00B7           02458         movwf   mode_ctl
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08C2   2???           02459         goto    button_update_leds_8bit         
08C3                  02460 button_ctl_8bit_not_mode_6
08C3   3005           02461         movlw   0x05    
08C4   00B7           02462         movwf   mode_ctl
08C5   2???           02463         goto    button_update_leds_8bit         
                      02464         
08C6                  02465 button_ctl_8bit_all_done        
08C6   083C           02466         movf    mode_reg, W
08C7   3A04           02467         xorlw   0x04                            ; vibe pattern
08C8   1D03           02468         btfss   STATUS, Z
08C9   2???           02469         goto    button_ctl_8bit_not_mode_4      
08CA   0867           02470         movf    vibe_rpt, W
08CB   00C4           02471         movwf   vibe_cycle      
08CC   1903           02472         btfsc   STATUS, Z
08CD   0AC4           02473         incf    vibe_cycle, F
08CE   01B7           02474         clrf    mode_ctl
08CF   2???           02475         goto    button_ctl_done 
08D0                  02476 button_ctl_8bit_not_mode_4              
08D0   083C           02477         movf    mode_reg, W
08D1   3A09           02478         xorlw   0x09                            ; rmt display mode
08D2   1D03           02479         btfss   STATUS, Z
08D3   2???           02480         goto    button_ctl_8bit_not_mode_9
08D4                  02481 button_ctl_8bit_wait_mode_9
08D4   182A           02482         btfsc   ir_status, 0            ; busy bit
08D5   2???           02483         goto    button_ctl_8bit_wait_mode_9             ; IR was busy so wait till done
08D6   142A           02484         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
08D7   3002           02485         movlw   0x02            
08D8   00AC           02486         movwf   ir_cmd                          ; set rmt cmd
08D9   2???           02487         goto    button_ctl_send_rmt_IR_cmd      
08DA                  02488 button_ctl_8bit_not_mode_9              
08DA   083C           02489         movf    mode_reg, W
08DB   3A0A           02490         xorlw   0x0A                            ; rmt speed l
08DC   1D03           02491         btfss   STATUS, Z
08DD   2???           02492         goto    button_ctl_8bit_not_mode_A
08DE                  02493 button_ctl_8bit_wait_mode_A
08DE   182A           02494         btfsc   ir_status, 0            ; busy bit
08DF   2???           02495         goto    button_ctl_8bit_wait_mode_A             ; IR was busy so wait till done
08E0   142A           02496         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
08E1   3003           02497         movlw   0x03            
08E2   00AC           02498         movwf   ir_cmd                          ; set rmt cmd
08E3   2???           02499         goto    button_ctl_send_rmt_IR_cmd      
08E4                  02500 button_ctl_8bit_not_mode_A      
08E4   083C           02501         movf    mode_reg, W
08E5   3A0B           02502         xorlw   0x0B                            ; rmt speed h
08E6   1D03           02503         btfss   STATUS, Z
08E7   2???           02504         goto    button_ctl_8bit_not_mode_B
08E8                  02505 button_ctl_8bit_wait_mode_B
08E8   182A           02506         btfsc   ir_status, 0            ; busy bit
08E9   2???           02507         goto    button_ctl_8bit_wait_mode_B             ; IR was busy so wait till done
08EA   142A           02508         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

08EB   3004           02509         movlw   0x04            
08EC   00AC           02510         movwf   ir_cmd                          ; set rmt cmd
08ED   2???           02511         goto    button_ctl_send_rmt_IR_cmd      
08EE                  02512 button_ctl_8bit_not_mode_B      
08EE   083C           02513         movf    mode_reg, W
08EF   3A0C           02514         xorlw   0x0C                            ; rmt led 1
08F0   1D03           02515         btfss   STATUS, Z
08F1   2???           02516         goto    button_ctl_8bit_not_mode_C
08F2                  02517 button_ctl_8bit_wait_mode_C
08F2   182A           02518         btfsc   ir_status, 0            ; busy bit
08F3   2???           02519         goto    button_ctl_8bit_wait_mode_C             ; IR was busy so wait till done
08F4   142A           02520         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
08F5   3005           02521         movlw   0x05            
08F6   00AC           02522         movwf   ir_cmd                          ; set rmt cmd
08F7   2???           02523         goto    button_ctl_send_rmt_IR_cmd      
08F8                  02524 button_ctl_8bit_not_mode_C
08F8   083C           02525         movf    mode_reg, W
08F9   3A0D           02526         xorlw   0x0D                            ; rmt led 2
08FA   1D03           02527         btfss   STATUS, Z
08FB   2???           02528         goto    button_ctl_8bit_not_mode_D
08FC                  02529 button_ctl_8bit_wait_mode_D
08FC   182A           02530         btfsc   ir_status, 0            ; busy bit
08FD   2???           02531         goto    button_ctl_8bit_wait_mode_D             ; IR was busy so wait till done
08FE   142A           02532         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
08FF   3006           02533         movlw   0x06            
0900   00AC           02534         movwf   ir_cmd                          ; set rmt cmd
0901   2???           02535         goto    button_ctl_send_rmt_IR_cmd      
0902                  02536 button_ctl_8bit_not_mode_D
0902   083C           02537         movf    mode_reg, W
0903   3A0E           02538         xorlw   0x0E                            ; rmt led 3
0904   1D03           02539         btfss   STATUS, Z
0905   2???           02540         goto    button_ctl_8bit_not_mode_E
0906                  02541 button_ctl_8bit_wait_mode_E
0906   182A           02542         btfsc   ir_status, 0            ; busy bit
0907   2???           02543         goto    button_ctl_8bit_wait_mode_E             ; IR was busy so wait till done
0908   142A           02544         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
0909   3007           02545         movlw   0x07            
090A   00AC           02546         movwf   ir_cmd                          ; set rmt cmd
090B   2???           02547         goto    button_ctl_send_rmt_IR_cmd      
090C                  02548 button_ctl_8bit_not_mode_E
090C   083C           02549         movf    mode_reg, W
090D   3A0F           02550         xorlw   0x0F                            ; rmt led 4
090E   1D03           02551         btfss   STATUS, Z
090F   2???           02552         goto    button_ctl_8bit_not_mode_F
0910                  02553 button_ctl_8bit_wait_mode_F
0910   182A           02554         btfsc   ir_status, 0            ; busy bit
0911   2???           02555         goto    button_ctl_8bit_wait_mode_F             ; IR was busy so wait till done
0912   142A           02556         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
0913   3008           02557         movlw   0x08            
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0914   00AC           02558         movwf   ir_cmd                          ; set rmt cmd
0915   2???           02559         goto    button_ctl_send_rmt_IR_cmd      
0916                  02560 button_ctl_8bit_not_mode_F      
0916   083C           02561         movf    mode_reg, W
0917   3A10           02562         xorlw   0x10                            ; rmt vibe
0918   1D03           02563         btfss   STATUS, Z
0919   2???           02564         goto    button_ctl_8bit_not_mode_10
091A                  02565 button_ctl_8bit_wait_mode_10
091A   182A           02566         btfsc   ir_status, 0            ; busy bit
091B   2???           02567         goto    button_ctl_8bit_wait_mode_10            ; IR was busy so wait till done
091C   142A           02568         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
091D   3009           02569         movlw   0x09            
091E   00AC           02570         movwf   ir_cmd                          ; set rmt cmd
091F   2???           02571         goto    button_ctl_send_rmt_IR_cmd      
0920                  02572 button_ctl_8bit_not_mode_10
0920   083C           02573         movf    mode_reg, W
0921   3A11           02574         xorlw   0x11                            ; rmt vibe speed l
0922   1D03           02575         btfss   STATUS, Z
0923   2???           02576         goto    button_ctl_8bit_not_mode_11
0924                  02577 button_ctl_8bit_wait_mode_11
0924   182A           02578         btfsc   ir_status, 0            ; busy bit
0925   2???           02579         goto    button_ctl_8bit_wait_mode_11            ; IR was busy so wait till done
0926   142A           02580         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
0927   300A           02581         movlw   0x0A            
0928   00AC           02582         movwf   ir_cmd                          ; set rmt cmd
0929   2???           02583         goto    button_ctl_send_rmt_IR_cmd      
092A                  02584 button_ctl_8bit_not_mode_11
092A   083C           02585         movf    mode_reg, W
092B   3A12           02586         xorlw   0x12                            ; rmt vibe speed h
092C   1D03           02587         btfss   STATUS, Z
092D   2???           02588         goto    button_ctl_8bit_not_mode_12
092E                  02589 button_ctl_8bit_wait_mode_12
092E   182A           02590         btfsc   ir_status, 0            ; busy bit
092F   2???           02591         goto    button_ctl_8bit_wait_mode_12            ; IR was busy so wait till done
0930   142A           02592         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
0931   300B           02593         movlw   0x0B            
0932   00AC           02594         movwf   ir_cmd                          ; set rmt cmd
0933   2???           02595         goto    button_ctl_send_rmt_IR_cmd      
0934                  02596 button_ctl_8bit_not_mode_12
0934   083C           02597         movf    mode_reg, W
0935   3A13           02598         xorlw   0x13                            ; beacon vibe disable bit
0936   1D03           02599         btfss   STATUS, Z
0937   2???           02600         goto    button_ctl_8bit_not_mode_13
0938   1C43           02601         btfss   ir_data_temp, 0
0939   11AA           02602         bcf             ir_status, 3            ; enable local beacon RX functions      
093A   1843           02603         btfsc   ir_data_temp, 0
093B   15AA           02604         bsf             ir_status, 3            ; disable local beacon RX functions     
093C   01B7           02605         clrf    mode_ctl
093D   2???           02606         goto    button_ctl_done 
093E                  02607 button_ctl_8bit_not_mode_13
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02608 
                      02609         
                      02610         
093E   01B7           02611         clrf    mode_ctl
093F   2???           02612         goto    button_ctl_done
                      02613         
                      02614         
0940                  02615 button_ctl_send_rmt_IR_cmd      
0940   0843           02616         movf    ir_data_temp, W
0941   00AD           02617         movwf   ir_data                         ; command data (not used for beacon)
0942   14AA           02618         bsf             ir_status, 1            ; set the calc bit              
                      02619         ;------------------
0943   300E           02620         movlw   d'14'
0944   0088           02621         movwf   BSR             
                      02622         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0945   1719           02623         bsf             PIE3, TX2IE                     ; enable Uart2 transmit IRQ     
                      02624         ;------------------
0946   0188           02625         clrf    BSR             
                      02626         ;------------------
0947   01B7           02627         clrf    mode_ctl
0948   2???           02628         goto    button_ctl_done
                      02629         
                      02630         
                      02631         
0949                  02632 button_ctl_8bit_sel     
0949   0874           02633         movf    buttons, W
094A   3A12           02634         xorlw   0x12                            ; only sel button pressed
094B   1D03           02635         btfss   STATUS, Z
094C   2???           02636         goto    button_ctl_8bit_A
094D   0AB7           02637         incf    mode_ctl, F
094E   0837           02638         movf    mode_ctl, W
094F   3903           02639         andlw   0x03
0950   1D03           02640         btfss   STATUS, Z
0951   2???           02641         goto    button_update_leds_8bit
0952   0337           02642         decf    mode_ctl, W
0953   39FC           02643         andlw   0xFC
0954   3E01           02644         addlw   0x01
0955   00B7           02645         movwf   mode_ctl
0956   2???           02646         goto    button_update_leds_8bit 
0957                  02647 button_ctl_8bit_A       
0957   0874           02648         movf    buttons, W
0958   3A18           02649         xorlw   0x18                            ; only A button pressed
0959   1D03           02650         btfss   STATUS, Z
095A   2???           02651         goto    button_ctl_8bit_B
095B   0837           02652         movf    mode_ctl, W
095C   3903           02653         andlw   0x03
095D   3A01           02654         xorlw   0x01
095E   1D03           02655         btfss   STATUS, Z
095F   2???           02656         goto    button_ctl_8bit_A_2
0960   0801           02657         movf    INDF1, W
0961   3907           02658         andlw   0x07
0962   3A07           02659         xorlw   0x07
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0963   1D03           02660         btfss   STATUS, Z
0964   2???           02661         goto    button_ctl_8bit_A_1_inc
0965   30F8           02662         movlw   0xF8
0966   0581           02663         andwf   INDF1, F
0967   2???           02664         goto    button_update_leds_8bit
0968                  02665 button_ctl_8bit_A_1_inc
0968   0A81           02666         incf    INDF1, F
0969   2???           02667         goto    button_update_leds_8bit 
096A                  02668 button_ctl_8bit_A_2     
096A   0837           02669         movf    mode_ctl, W
096B   3903           02670         andlw   0x03
096C   3A02           02671         xorlw   0x02
096D   1D03           02672         btfss   STATUS, Z
096E   2???           02673         goto    button_ctl_8bit_A_3
096F   0801           02674         movf    INDF1, W
0970   3938           02675         andlw   0x38
0971   3A38           02676         xorlw   0x38
0972   1D03           02677         btfss   STATUS, Z
0973   2???           02678         goto    button_ctl_8bit_A_2_inc
0974   30C7           02679         movlw   0xC7
0975   0581           02680         andwf   INDF1, F
0976   2???           02681         goto    button_update_leds_8bit
0977                  02682 button_ctl_8bit_A_2_inc
0977   3008           02683         movlw   0x08
0978   0781           02684         addwf   INDF1, F
0979   2???           02685         goto    button_update_leds_8bit 
097A                  02686 button_ctl_8bit_A_3     
097A   0837           02687         movf    mode_ctl, W
097B   3903           02688         andlw   0x03
097C   3A03           02689         xorlw   0x03
097D   1D03           02690         btfss   STATUS, Z
097E   2???           02691         goto    button_update_leds_8bit
097F   0801           02692         movf    INDF1, W
0980   39C0           02693         andlw   0xC0
0981   3AC0           02694         xorlw   0xC0
0982   1D03           02695         btfss   STATUS, Z
0983   2???           02696         goto    button_ctl_8bit_A_3_inc
0984   303F           02697         movlw   0x3F
0985   0581           02698         andwf   INDF1, F
0986   2???           02699         goto    button_update_leds_8bit
0987                  02700 button_ctl_8bit_A_3_inc
0987   3040           02701         movlw   0x40
0988   0781           02702         addwf   INDF1, F
0989   2???           02703         goto    button_update_leds_8bit         
098A                  02704 button_ctl_8bit_B
098A   0874           02705         movf    buttons, W
098B   3A11           02706         xorlw   0x11                            ; only B button pressed
098C   1D03           02707         btfss   STATUS, Z
098D   2???           02708         goto    button_update_leds_8bit
098E   0837           02709         movf    mode_ctl, W
098F   3903           02710         andlw   0x03
0990   3A01           02711         xorlw   0x01
0991   1D03           02712         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0992   2???           02713         goto    button_ctl_8bit_B_2
0993   0801           02714         movf    INDF1, W
0994   3907           02715         andlw   0x07
0995   1D03           02716         btfss   STATUS, Z
0996   2???           02717         goto    button_ctl_8bit_B_1_dec
0997   3007           02718         movlw   0x07
0998   0481           02719         iorwf   INDF1, F
0999   2???           02720         goto    button_update_leds_8bit
099A                  02721 button_ctl_8bit_B_1_dec
099A   0381           02722         decf    INDF1, F
099B   2???           02723         goto    button_update_leds_8bit 
099C                  02724 button_ctl_8bit_B_2     
099C   0837           02725         movf    mode_ctl, W
099D   3903           02726         andlw   0x03
099E   3A02           02727         xorlw   0x02
099F   1D03           02728         btfss   STATUS, Z
09A0   2???           02729         goto    button_ctl_8bit_B_3
09A1   0801           02730         movf    INDF1, W
09A2   3938           02731         andlw   0x38
09A3   1D03           02732         btfss   STATUS, Z
09A4   2???           02733         goto    button_ctl_8bit_B_2_dec
09A5   3038           02734         movlw   0x38
09A6   0481           02735         iorwf   INDF1, F
09A7   2???           02736         goto    button_update_leds_8bit
09A8                  02737 button_ctl_8bit_B_2_dec
09A8   3008           02738         movlw   0x08
09A9   0281           02739         subwf   INDF1, F
09AA   2???           02740         goto    button_update_leds_8bit 
09AB                  02741 button_ctl_8bit_B_3     
09AB   0837           02742         movf    mode_ctl, W
09AC   3903           02743         andlw   0x03
09AD   3A03           02744         xorlw   0x03
09AE   1D03           02745         btfss   STATUS, Z
09AF   2???           02746         goto    button_update_leds_8bit
09B0   0801           02747         movf    INDF1, W
09B1   39C0           02748         andlw   0xC0
09B2   1D03           02749         btfss   STATUS, Z
09B3   2???           02750         goto    button_ctl_8bit_B_3_dec
09B4   30C0           02751         movlw   0xC0
09B5   0481           02752         iorwf   INDF1, F
09B6   2???           02753         goto    button_update_leds_8bit
09B7                  02754 button_ctl_8bit_B_3_dec
09B7   3040           02755         movlw   0x40
09B8   0281           02756         subwf   INDF1, F
09B9   2???           02757         goto    button_update_leds_8bit 
                      02758         
09BA                  02759 button_update_leds_8bit
                      02760         ; for states 1,2,3 display the mode reg
09BA   01A3           02761         clrf    LED4
09BB   1C01           02762         btfss   INDF1, 0
09BC   2???           02763         goto    button_update_leds_8bit_1
09BD   1423           02764         bsf             LED4, 0
09BE   14A3           02765         bsf             LED4, 1
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09BF                  02766 button_update_leds_8bit_1       
09BF   1C81           02767         btfss   INDF1, 1
09C0   2???           02768         goto    button_update_leds_8bit_2
09C1   1523           02769         bsf             LED4, 2
09C2   15A3           02770         bsf             LED4, 3
09C3                  02771 button_update_leds_8bit_2       
09C3   1D01           02772         btfss   INDF1, 2
09C4   2???           02773         goto    button_update_leds_8bit_3
09C5   1623           02774         bsf             LED4, 4
09C6   16A3           02775         bsf             LED4, 5
09C7                  02776 button_update_leds_8bit_3       
09C7   01A2           02777         clrf    LED3
09C8   1D81           02778         btfss   INDF1, 3
09C9   2???           02779         goto    button_update_leds_8bit_4
09CA   1422           02780         bsf             LED3, 0
09CB   14A2           02781         bsf             LED3, 1
09CC                  02782 button_update_leds_8bit_4       
09CC   1E01           02783         btfss   INDF1, 4
09CD   2???           02784         goto    button_update_leds_8bit_5
09CE   1522           02785         bsf             LED3, 2
09CF   15A2           02786         bsf             LED3, 3
09D0                  02787 button_update_leds_8bit_5       
09D0   1E81           02788         btfss   INDF1, 5
09D1   2???           02789         goto    button_update_leds_8bit_6
09D2   1622           02790         bsf             LED3, 4
09D3   16A2           02791         bsf             LED3, 5
09D4                  02792 button_update_leds_8bit_6       
09D4   01A1           02793         clrf    LED2
09D5   1F01           02794         btfss   INDF1, 6
09D6   2???           02795         goto    button_update_leds_8bit_7
09D7   1421           02796         bsf             LED2, 0
09D8   14A1           02797         bsf             LED2, 1
09D9                  02798 button_update_leds_8bit_7       
09D9   1F81           02799         btfss   INDF1, 7
09DA   2???           02800         goto    button_update_leds_8bit_8
09DB   1521           02801         bsf             LED2, 2
09DC   15A1           02802         bsf             LED2, 3
09DD                  02803 button_update_leds_8bit_8
09DD   01A0           02804         clrf    LED1
                      02805         ; set the led selected to blink
09DE   0837           02806         movf    mode_ctl, W
09DF   3903           02807         andlw   0x03
09E0   3A01           02808         xorlw   0x01
09E1   1903           02809         btfsc   STATUS, Z
09E2   17A3           02810         bsf             LED4, 7         
09E3   0837           02811         movf    mode_ctl, W
09E4   3903           02812         andlw   0x03
09E5   3A02           02813         xorlw   0x02
09E6   1903           02814         btfsc   STATUS, Z
09E7   17A2           02815         bsf             LED3, 7         
09E8   0837           02816         movf    mode_ctl, W
09E9   3903           02817         andlw   0x03
09EA   3A03           02818         xorlw   0x03
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

09EB   1903           02819         btfsc   STATUS, Z
09EC   17A1           02820         bsf             LED2, 7         
09ED   2???           02821         goto    button_ctl_done
                      02822 
                      02823 
                      02824         ; check if in register select and apply value as needed for A and B, advance for Select, or go t
                            o reg set if set
09EE                  02825 button_ctl_12bit
09EE   0874           02826         movf    buttons, W
09EF   3A14           02827         xorlw   0x14                            ; only set button pressed
09F0   1D03           02828         btfss   STATUS, Z
09F1   2???           02829         goto    button_ctl_12bit_sel
09F2   01B7           02830         clrf    mode_ctl
09F3   2???           02831         goto    button_ctl_done
09F4                  02832 button_ctl_12bit_sel    
09F4   0874           02833         movf    buttons, W
09F5   3A12           02834         xorlw   0x12                            ; only sel button pressed
09F6   1D03           02835         btfss   STATUS, Z
09F7   2???           02836         goto    button_ctl_12bit_A
09F8   0AB7           02837         incf    mode_ctl, F
09F9   0837           02838         movf    mode_ctl, W
09FA   3903           02839         andlw   0x03
09FB   1D03           02840         btfss   STATUS, Z
09FC   2???           02841         goto    button_update_leds_12bit
09FD   0337           02842         decf    mode_ctl, W
09FE   39FC           02843         andlw   0xFC
09FF   00B7           02844         movwf   mode_ctl
0A00   2???           02845         goto    button_update_leds_12bit        
0A01                  02846 button_ctl_12bit_A      
0A01   0874           02847         movf    buttons, W
0A02   3A18           02848         xorlw   0x18                            ; only A button pressed
0A03   1D03           02849         btfss   STATUS, Z
0A04   2???           02850         goto    button_ctl_12bit_B
0A05   0837           02851         movf    mode_ctl, W
0A06   3903           02852         andlw   0x03
0A07   1D03           02853         btfss   STATUS, Z
0A08   2???           02854         goto    button_ctl_12bit_A_2
0A09   0801           02855         movf    INDF1, W
0A0A   3907           02856         andlw   0x07
0A0B   3A07           02857         xorlw   0x07
0A0C   1D03           02858         btfss   STATUS, Z
0A0D   2???           02859         goto    button_ctl_12bit_A_1_inc
0A0E   30F8           02860         movlw   0xF8
0A0F   0581           02861         andwf   INDF1, F
0A10   2???           02862         goto    button_update_leds_12bit
0A11                  02863 button_ctl_12bit_A_1_inc
0A11   0A81           02864         incf    INDF1, F
0A12   2???           02865         goto    button_update_leds_12bit        
0A13                  02866 button_ctl_12bit_A_2    
0A13   0837           02867         movf    mode_ctl, W
0A14   3903           02868         andlw   0x03
0A15   3A01           02869         xorlw   0x01
0A16   1D03           02870         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A17   2???           02871         goto    button_ctl_12bit_A_3
0A18   0801           02872         movf    INDF1, W
0A19   3938           02873         andlw   0x38
0A1A   3A38           02874         xorlw   0x38
0A1B   1D03           02875         btfss   STATUS, Z
0A1C   2???           02876         goto    button_ctl_12bit_A_2_inc
0A1D   30C7           02877         movlw   0xC7
0A1E   0581           02878         andwf   INDF1, F
0A1F   2???           02879         goto    button_update_leds_12bit
0A20                  02880 button_ctl_12bit_A_2_inc
0A20   3008           02881         movlw   0x08
0A21   0781           02882         addwf   INDF1, F
0A22   2???           02883         goto    button_update_leds_12bit
                      02884         
0A23                  02885 button_ctl_12bit_A_3    
0A23   0837           02886         movf    mode_ctl, W
0A24   3903           02887         andlw   0x03
0A25   3A02           02888         xorlw   0x02
0A26   1D03           02889         btfss   STATUS, Z
0A27   2???           02890         goto    button_ctl_12bit_A_4
0A28   0801           02891         movf    INDF1, W
0A29   00BF           02892         movwf   temp3
0A2A   1003           02893         bcf             STATUS, C
0A2B   0CBF           02894         rrf             temp3, F
0A2C   0A86           02895         incf    FSR1L, F                        ; pick the high register
0A2D   1801           02896         btfsc   INDF1, 0
0A2E   17BF           02897         bsf             temp3, 7
0A2F   083F           02898         movf    temp3, W
0A30   39E0           02899         andlw   0xE0
0A31   3AE0           02900         xorlw   0xE0
0A32   1D03           02901         btfss   STATUS, Z
0A33   2???           02902         goto    button_ctl_12bit_A_3_inc
0A34   1001           02903         bcf             INDF1, 0
0A35   0386           02904         decf    FSR1L, F                        ; pick low register
0A36   1301           02905         bcf             INDF1, 6
0A37   1381           02906         bcf             INDF1, 7
0A38   2???           02907         goto    button_update_leds_12bit
0A39                  02908 button_ctl_12bit_A_3_inc
0A39   3020           02909         movlw   0x20
0A3A   07BF           02910         addwf   temp3, F
0A3B   1001           02911         bcf             INDF1, 0
0A3C   1BBF           02912         btfsc   temp3, 7
0A3D   1401           02913         bsf             INDF1, 0
0A3E   0386           02914         decf    FSR1L, F                        ; pick low register
0A3F   303F           02915         movlw   0x3F
0A40   0581           02916         andwf   INDF1, F
0A41   0D3F           02917         rlf             temp3, W
0A42   39C0           02918         andlw   0xC0
0A43   0481           02919         iorwf   INDF1, F
0A44   2???           02920         goto    button_update_leds_12bit                
                      02921         
0A45                  02922 button_ctl_12bit_A_4    
0A45   0837           02923         movf    mode_ctl, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A46   3903           02924         andlw   0x03
0A47   3A03           02925         xorlw   0x03
0A48   1D03           02926         btfss   STATUS, Z
0A49   2???           02927         goto    button_update_leds_12bit
0A4A   0A86           02928         incf    FSR1L, F                        ; pick the high register
0A4B   0801           02929         movf    INDF1, W
0A4C   390E           02930         andlw   0x0E
0A4D   3A0E           02931         xorlw   0x0E
0A4E   1D03           02932         btfss   STATUS, Z
0A4F   2???           02933         goto    button_ctl_12bit_A_4_inc
0A50   30F1           02934         movlw   0xF1
0A51   0581           02935         andwf   INDF1, F
0A52   0386           02936         decf    FSR1L, F                        ; pick low register
0A53   2???           02937         goto    button_update_leds_12bit
0A54                  02938 button_ctl_12bit_A_4_inc
0A54   3002           02939         movlw   0x02
0A55   0781           02940         addwf   INDF1, F
0A56   0386           02941         decf    FSR1L, F                        ; pick low register
0A57   2???           02942         goto    button_update_leds_12bit                                
0A58                  02943 button_ctl_12bit_B
0A58   0874           02944         movf    buttons, W
0A59   3A11           02945         xorlw   0x11                            ; only B button pressed
0A5A   1D03           02946         btfss   STATUS, Z
0A5B   2???           02947         goto    button_update_leds_12bit
0A5C   0837           02948         movf    mode_ctl, W
0A5D   3903           02949         andlw   0x03
0A5E   1D03           02950         btfss   STATUS, Z
0A5F   2???           02951         goto    button_ctl_12bit_B_2
0A60   0801           02952         movf    INDF1, W
0A61   3907           02953         andlw   0x07
0A62   1D03           02954         btfss   STATUS, Z
0A63   2???           02955         goto    button_ctl_12bit_B_1_dec
0A64   3007           02956         movlw   0x07
0A65   0481           02957         iorwf   INDF1, F
0A66   2???           02958         goto    button_update_leds_12bit
0A67                  02959 button_ctl_12bit_B_1_dec
0A67   0381           02960         decf    INDF1, F
0A68   2???           02961         goto    button_update_leds_12bit        
0A69                  02962 button_ctl_12bit_B_2    
0A69   0837           02963         movf    mode_ctl, W
0A6A   3903           02964         andlw   0x03
0A6B   3A01           02965         xorlw   0x01
0A6C   1D03           02966         btfss   STATUS, Z
0A6D   2???           02967         goto    button_ctl_12bit_B_3
0A6E   0801           02968         movf    INDF1, W
0A6F   3938           02969         andlw   0x38
0A70   1D03           02970         btfss   STATUS, Z
0A71   2???           02971         goto    button_ctl_12bit_B_2_dec
0A72   3038           02972         movlw   0x38
0A73   0481           02973         iorwf   INDF1, F
0A74   2???           02974         goto    button_update_leds_12bit
0A75                  02975 button_ctl_12bit_B_2_dec
0A75   3008           02976         movlw   0x08
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0A76   0281           02977         subwf   INDF1, F
0A77   2???           02978         goto    button_update_leds_12bit                
0A78                  02979 button_ctl_12bit_B_3    
0A78   0837           02980         movf    mode_ctl, W
0A79   3903           02981         andlw   0x03
0A7A   3A02           02982         xorlw   0x02
0A7B   1D03           02983         btfss   STATUS, Z
0A7C   2???           02984         goto    button_ctl_12bit_B_4
0A7D   0801           02985         movf    INDF1, W
0A7E   00BF           02986         movwf   temp3
0A7F   1003           02987         bcf             STATUS, C
0A80   0CBF           02988         rrf             temp3, F
0A81   0A86           02989         incf    FSR1L, F                        ; pick the high register
0A82   1801           02990         btfsc   INDF1, 0
0A83   17BF           02991         bsf             temp3, 7
0A84   083F           02992         movf    temp3, W
0A85   39E0           02993         andlw   0xE0
0A86   1D03           02994         btfss   STATUS, Z
0A87   2???           02995         goto    button_ctl_12bit_B_3_dec
0A88   1401           02996         bsf             INDF1, 0
0A89   0386           02997         decf    FSR1L, F                        ; pick low register
0A8A   1701           02998         bsf             INDF1, 6
0A8B   1781           02999         bsf             INDF1, 7
0A8C   2???           03000         goto    button_update_leds_12bit
0A8D                  03001 button_ctl_12bit_B_3_dec
0A8D   3020           03002         movlw   0x20
0A8E   02BF           03003         subwf   temp3, F
0A8F   1001           03004         bcf             INDF1, 0
0A90   1BBF           03005         btfsc   temp3, 7
0A91   1401           03006         bsf             INDF1, 0
0A92   0386           03007         decf    FSR1L, F                        ; pick low register
0A93   303F           03008         movlw   0x3F
0A94   0581           03009         andwf   INDF1, F
0A95   0D3F           03010         rlf             temp3, W
0A96   39C0           03011         andlw   0xC0
0A97   0481           03012         iorwf   INDF1, F
0A98   2???           03013         goto    button_update_leds_12bit                
0A99                  03014 button_ctl_12bit_B_4    
0A99   0837           03015         movf    mode_ctl, W
0A9A   3903           03016         andlw   0x03
0A9B   3A03           03017         xorlw   0x03
0A9C   1D03           03018         btfss   STATUS, Z
0A9D   2???           03019         goto    button_update_leds_12bit
0A9E   0A86           03020         incf    FSR1L, F                        ; pick the high register        
0A9F   0801           03021         movf    INDF1, W
0AA0   390E           03022         andlw   0x0E
0AA1   1D03           03023         btfss   STATUS, Z
0AA2   2???           03024         goto    button_ctl_12bit_B_4_dec
0AA3   300E           03025         movlw   0x0E
0AA4   0481           03026         iorwf   INDF1, F
0AA5   0386           03027         decf    FSR1L, F                        ; pick low register     
0AA6   2???           03028         goto    button_update_leds_12bit
0AA7                  03029 button_ctl_12bit_B_4_dec
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AA7   3002           03030         movlw   0x02
0AA8   0281           03031         subwf   INDF1, F
0AA9   0386           03032         decf    FSR1L, F                        ; pick low register     
0AAA   2???           03033         goto    button_update_leds_12bit        
                      03034         
0AAB                  03035 button_update_leds_12bit
                      03036         ; for states 1,2,3,4 display the mode reg
0AAB   01A3           03037         clrf    LED4
0AAC   1C01           03038         btfss   INDF1, 0
0AAD   2???           03039         goto    button_update_leds_12bit_1
0AAE   1423           03040         bsf             LED4, 0
0AAF   14A3           03041         bsf             LED4, 1
0AB0                  03042 button_update_leds_12bit_1      
0AB0   1C81           03043         btfss   INDF1, 1
0AB1   2???           03044         goto    button_update_leds_12bit_2
0AB2   1523           03045         bsf             LED4, 2
0AB3   15A3           03046         bsf             LED4, 3
0AB4                  03047 button_update_leds_12bit_2      
0AB4   1D01           03048         btfss   INDF1, 2
0AB5   2???           03049         goto    button_update_leds_12bit_3
0AB6   1623           03050         bsf             LED4, 4
0AB7   16A3           03051         bsf             LED4, 5
0AB8                  03052 button_update_leds_12bit_3      
0AB8   01A2           03053         clrf    LED3
0AB9   1D81           03054         btfss   INDF1, 3
0ABA   2???           03055         goto    button_update_leds_12bit_4
0ABB   1422           03056         bsf             LED3, 0
0ABC   14A2           03057         bsf             LED3, 1
0ABD                  03058 button_update_leds_12bit_4      
0ABD   1E01           03059         btfss   INDF1, 4
0ABE   2???           03060         goto    button_update_leds_12bit_5
0ABF   1522           03061         bsf             LED3, 2
0AC0   15A2           03062         bsf             LED3, 3
0AC1                  03063 button_update_leds_12bit_5      
0AC1   1E81           03064         btfss   INDF1, 5
0AC2   2???           03065         goto    button_update_leds_12bit_6
0AC3   1622           03066         bsf             LED3, 4
0AC4   16A2           03067         bsf             LED3, 5
0AC5                  03068 button_update_leds_12bit_6      
0AC5   01A1           03069         clrf    LED2
0AC6   1F01           03070         btfss   INDF1, 6
0AC7   2???           03071         goto    button_update_leds_12bit_7
0AC8   1421           03072         bsf             LED2, 0
0AC9   14A1           03073         bsf             LED2, 1
0ACA                  03074 button_update_leds_12bit_7      
0ACA   1F81           03075         btfss   INDF1, 7
0ACB   2???           03076         goto    button_update_leds_12bit_8
0ACC   1521           03077         bsf             LED2, 2
0ACD   15A1           03078         bsf             LED2, 3
0ACE                  03079 button_update_leds_12bit_8
0ACE   0A86           03080         incf    FSR1L, F
0ACF   1C01           03081         btfss   INDF1, 0
0AD0   2???           03082         goto    button_update_leds_12bit_9
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AD1   1621           03083         bsf             LED2, 4
0AD2   16A1           03084         bsf             LED2, 5
0AD3                  03085 button_update_leds_12bit_9      
0AD3   01A0           03086         clrf    LED1
0AD4   1C81           03087         btfss   INDF1, 1
0AD5   2???           03088         goto    button_update_leds_12bit_10
0AD6   1420           03089         bsf             LED1, 0
0AD7   14A0           03090         bsf             LED1, 1
0AD8                  03091 button_update_leds_12bit_10
0AD8   1D01           03092         btfss   INDF1, 2
0AD9   2???           03093         goto    button_update_leds_12bit_11
0ADA   1520           03094         bsf             LED1, 2
0ADB   15A0           03095         bsf             LED1, 3
0ADC                  03096 button_update_leds_12bit_11
0ADC   1D81           03097         btfss   INDF1, 3
0ADD   2???           03098         goto    button_update_leds_12bit_12
0ADE   1620           03099         bsf             LED1, 4
0ADF   16A0           03100         bsf             LED1, 5
0AE0                  03101 button_update_leds_12bit_12
                      03102 
0AE0                  03103 button_4_led_blink_select       
                      03104         ; set the led selected to blink
0AE0   0837           03105         movf    mode_ctl, W
0AE1   3903           03106         andlw   0x03
0AE2   1903           03107         btfsc   STATUS, Z
0AE3   17A3           03108         bsf             LED4, 7         
0AE4   0837           03109         movf    mode_ctl, W
0AE5   3903           03110         andlw   0x03
0AE6   3A01           03111         xorlw   0x01
0AE7   1903           03112         btfsc   STATUS, Z
0AE8   17A2           03113         bsf             LED3, 7         
0AE9   0837           03114         movf    mode_ctl, W
0AEA   3903           03115         andlw   0x03
0AEB   3A02           03116         xorlw   0x02
0AEC   1903           03117         btfsc   STATUS, Z
0AED   17A1           03118         bsf             LED2, 7         
0AEE   0837           03119         movf    mode_ctl, W
0AEF   3903           03120         andlw   0x03
0AF0   3A03           03121         xorlw   0x03
0AF1   1903           03122         btfsc   STATUS, Z
0AF2   17A0           03123         bsf             LED1, 7         
0AF3   2???           03124         goto    button_ctl_done 
                      03125         
                      03126         ; check if in register select and apply value as needed for A and B, advance for Select, or go t
                            o reg set if set
0AF4                  03127 button_ctl_24bit
0AF4   0874           03128         movf    buttons, W
0AF5   3A14           03129         xorlw   0x14                            ; only set button pressed
0AF6   1D03           03130         btfss   STATUS, Z
0AF7   2???           03131         goto    button_ctl_24bit_sel
0AF8   01B7           03132         clrf    mode_ctl
0AF9   2???           03133         goto    button_ctl_done
0AFA                  03134 button_ctl_24bit_sel    
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0AFA   0874           03135         movf    buttons, W
0AFB   3A12           03136         xorlw   0x12                            ; only sel button pressed
0AFC   1D03           03137         btfss   STATUS, Z
0AFD   2???           03138         goto    button_ctl_24bit_A
0AFE   0AB7           03139         incf    mode_ctl, F
0AFF   0837           03140         movf    mode_ctl, W
0B00   3903           03141         andlw   0x03
0B01   1D03           03142         btfss   STATUS, Z
0B02   2???           03143         goto    button_update_leds_24bit
0B03   0337           03144         decf    mode_ctl, W
0B04   39FC           03145         andlw   0xFC
0B05   00B7           03146         movwf   mode_ctl
0B06   2???           03147         goto    button_update_leds_24bit        
0B07                  03148 button_ctl_24bit_A      
0B07   0874           03149         movf    buttons, W
0B08   3A18           03150         xorlw   0x18                            ; only A button pressed
0B09   1D03           03151         btfss   STATUS, Z
0B0A   2???           03152         goto    button_ctl_24bit_B
0B0B   0837           03153         movf    mode_ctl, W
0B0C   3903           03154         andlw   0x03
0B0D   1D03           03155         btfss   STATUS, Z
0B0E   2???           03156         goto    button_ctl_24bit_A_2
0B0F   0801           03157         movf    INDF1, W
0B10   393F           03158         andlw   0x3F
0B11   3A3F           03159         xorlw   0x3F
0B12   1D03           03160         btfss   STATUS, Z
0B13   2???           03161         goto    button_ctl_24bit_A_1_inc
0B14   30C0           03162         movlw   0xC0
0B15   0581           03163         andwf   INDF1, F
0B16   2???           03164         goto    button_update_leds_24bit
0B17                  03165 button_ctl_24bit_A_1_inc
0B17   0A81           03166         incf    INDF1, F
0B18   2???           03167         goto    button_update_leds_24bit        
0B19                  03168 button_ctl_24bit_A_2    
0B19   0837           03169         movf    mode_ctl, W
0B1A   3903           03170         andlw   0x03
0B1B   3A01           03171         xorlw   0x01
0B1C   1D03           03172         btfss   STATUS, Z
0B1D   2???           03173         goto    button_ctl_24bit_A_3
0B1E   0A86           03174         incf    FSR1L, F                        ; select next led reg
0B1F   0801           03175         movf    INDF1, W
0B20   393F           03176         andlw   0x3F
0B21   3A3F           03177         xorlw   0x3F
0B22   1D03           03178         btfss   STATUS, Z
0B23   2???           03179         goto    button_ctl_24bit_A_2_inc
0B24   30C0           03180         movlw   0xC0
0B25   0581           03181         andwf   INDF1, F
0B26   0386           03182         decf    FSR1L,F                         ; select previous reg
0B27   2???           03183         goto    button_update_leds_24bit
0B28                  03184 button_ctl_24bit_A_2_inc
0B28   0A81           03185         incf    INDF1, F
0B29   0386           03186         decf    FSR1L,F                         ; select previous reg
0B2A   2???           03187         goto    button_update_leds_24bit
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B2B                  03188 button_ctl_24bit_A_3    
0B2B   0837           03189         movf    mode_ctl, W
0B2C   3903           03190         andlw   0x03
0B2D   3A02           03191         xorlw   0x02
0B2E   1D03           03192         btfss   STATUS, Z
0B2F   2???           03193         goto    button_ctl_24bit_A_4
0B30   0A86           03194         incf    FSR1L, F                        ; select next led reg
0B31   0A86           03195         incf    FSR1L, F                        ; select next led reg
0B32   0801           03196         movf    INDF1, W
0B33   393F           03197         andlw   0x3F
0B34   3A3F           03198         xorlw   0x3F
0B35   1D03           03199         btfss   STATUS, Z
0B36   2???           03200         goto    button_ctl_24bit_A_3_inc
0B37   30C0           03201         movlw   0xC0
0B38   0581           03202         andwf   INDF1, F
0B39   0386           03203         decf    FSR1L,F                         ; select previous reg
0B3A   0386           03204         decf    FSR1L,F                         ; select previous reg
0B3B   2???           03205         goto    button_update_leds_24bit
0B3C                  03206 button_ctl_24bit_A_3_inc
0B3C   0A81           03207         incf    INDF1, F
0B3D   0386           03208         decf    FSR1L,F                         ; select previous reg
0B3E   0386           03209         decf    FSR1L,F                         ; select previous reg
0B3F   2???           03210         goto    button_update_leds_24bit
0B40                  03211 button_ctl_24bit_A_4    
0B40   0837           03212         movf    mode_ctl, W
0B41   3903           03213         andlw   0x03
0B42   3A03           03214         xorlw   0x03
0B43   1D03           03215         btfss   STATUS, Z
0B44   2???           03216         goto    button_update_leds_24bit
0B45   3003           03217         movlw   0x03
0B46   0786           03218         addwf   FSR1L, F                        ; select next led reg
0B47   0801           03219         movf    INDF1, W
0B48   393F           03220         andlw   0x3F
0B49   3A3F           03221         xorlw   0x3F
0B4A   1D03           03222         btfss   STATUS, Z
0B4B   2???           03223         goto    button_ctl_24bit_A_4_inc
0B4C   30C0           03224         movlw   0xC0
0B4D   0581           03225         andwf   INDF1, F
0B4E   3003           03226         movlw   0x03
0B4F   0286           03227         subwf   FSR1L,F                         ; select previous reg (F-W)
0B50   2???           03228         goto    button_update_leds_24bit
0B51                  03229 button_ctl_24bit_A_4_inc
0B51   0A81           03230         incf    INDF1, F
0B52   3003           03231         movlw   0x03
0B53   0286           03232         subwf   FSR1L,F                         ; select previous reg (F-W)
0B54   2???           03233         goto    button_update_leds_24bit
                      03234 
                      03235         
                      03236         
0B55                  03237 button_ctl_24bit_B
0B55   0874           03238         movf    buttons, W
0B56   3A11           03239         xorlw   0x11                            ; only B button pressed
0B57   1D03           03240         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B58   2???           03241         goto    button_update_leds_24bit
0B59   0837           03242         movf    mode_ctl, W
0B5A   3903           03243         andlw   0x03
0B5B   1D03           03244         btfss   STATUS, Z
0B5C   2???           03245         goto    button_ctl_24bit_B_2
0B5D   0801           03246         movf    INDF1, W
0B5E   393F           03247         andlw   0x3F
0B5F   1D03           03248         btfss   STATUS, Z
0B60   2???           03249         goto    button_ctl_24bit_B_1_dec
0B61   303F           03250         movlw   0x3F
0B62   0481           03251         iorwf   INDF1, F
0B63   2???           03252         goto    button_update_leds_24bit
0B64                  03253 button_ctl_24bit_B_1_dec
0B64   0381           03254         decf    INDF1, F
0B65   2???           03255         goto    button_update_leds_24bit        
0B66                  03256 button_ctl_24bit_B_2    
0B66   0837           03257         movf    mode_ctl, W
0B67   3903           03258         andlw   0x03
0B68   3A01           03259         xorlw   0x01
0B69   1D03           03260         btfss   STATUS, Z
0B6A   2???           03261         goto    button_ctl_24bit_B_3
0B6B   0A86           03262         incf    FSR1L, F                        ; select next led reg
0B6C   0801           03263         movf    INDF1, W
0B6D   393F           03264         andlw   0x3F
0B6E   1D03           03265         btfss   STATUS, Z
0B6F   2???           03266         goto    button_ctl_24bit_B_2_dec
0B70   303F           03267         movlw   0x3F
0B71   0481           03268         iorwf   INDF1, F
0B72   0386           03269         decf    FSR1L,F                         ; select previous reg
0B73   2???           03270         goto    button_update_leds_24bit
0B74                  03271 button_ctl_24bit_B_2_dec
0B74   0381           03272         decf    INDF1, F
0B75   0386           03273         decf    FSR1L,F                         ; select previous reg
0B76   2???           03274         goto    button_update_leds_24bit        
0B77                  03275 button_ctl_24bit_B_3    
0B77   0837           03276         movf    mode_ctl, W
0B78   3903           03277         andlw   0x03
0B79   3A02           03278         xorlw   0x02
0B7A   1D03           03279         btfss   STATUS, Z
0B7B   2???           03280         goto    button_ctl_24bit_B_4
0B7C   0A86           03281         incf    FSR1L, F                        ; select next led reg
0B7D   0A86           03282         incf    FSR1L, F                        ; select next led reg
0B7E   0801           03283         movf    INDF1, W
0B7F   393F           03284         andlw   0x3F
0B80   1D03           03285         btfss   STATUS, Z
0B81   2???           03286         goto    button_ctl_24bit_B_3_dec
0B82   303F           03287         movlw   0x3F
0B83   0481           03288         iorwf   INDF1, F
0B84   0386           03289         decf    FSR1L,F                         ; select previous reg
0B85   0386           03290         decf    FSR1L,F                         ; select previous reg
0B86   2???           03291         goto    button_update_leds_24bit
0B87                  03292 button_ctl_24bit_B_3_dec
0B87   0381           03293         decf    INDF1, F
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0B88   0386           03294         decf    FSR1L,F                         ; select previous reg
0B89   0386           03295         decf    FSR1L,F                         ; select previous reg
0B8A   2???           03296         goto    button_update_leds_24bit        
0B8B                  03297 button_ctl_24bit_B_4    
0B8B   0837           03298         movf    mode_ctl, W
0B8C   3903           03299         andlw   0x03
0B8D   3A03           03300         xorlw   0x03
0B8E   1D03           03301         btfss   STATUS, Z
0B8F   2???           03302         goto    button_update_leds_24bit
0B90   3003           03303         movlw   0x03
0B91   0786           03304         addwf   FSR1L, F                        ; select next led reg
0B92   0801           03305         movf    INDF1, W
0B93   393F           03306         andlw   0x3F
0B94   1D03           03307         btfss   STATUS, Z
0B95   2???           03308         goto    button_ctl_24bit_B_4_dec
0B96   303F           03309         movlw   0x3F
0B97   0481           03310         iorwf   INDF1, F
0B98   3003           03311         movlw   0x03
0B99   0286           03312         subwf   FSR1L,F                         ; select previous reg (F-W)
0B9A   2???           03313         goto    button_update_leds_24bit
0B9B                  03314 button_ctl_24bit_B_4_dec
0B9B   0381           03315         decf    INDF1, F
0B9C   3003           03316         movlw   0x03
0B9D   0286           03317         subwf   FSR1L,F                         ; select previous reg (F-W)
0B9E   2???           03318         goto    button_update_leds_24bit                
                      03319         
0B9F                  03320 button_update_leds_24bit
                      03321         ; for led color selection display the current custom led reg value minus the blink bits (set bel
                            ow)
0B9F   0801           03322         movf    INDF1, W
0BA0   393F           03323         andlw   0x3F
0BA1   00A3           03324         movwf   LED4
0BA2   0A86           03325         incf    FSR1L, F
0BA3   0801           03326         movf    INDF1, W
0BA4   393F           03327         andlw   0x3F
0BA5   00A2           03328         movwf   LED3
0BA6   0A86           03329         incf    FSR1L, F
0BA7   0801           03330         movf    INDF1, W
0BA8   393F           03331         andlw   0x3F
0BA9   00A1           03332         movwf   LED2
0BAA   0A86           03333         incf    FSR1L, F
0BAB   0801           03334         movf    INDF1, W
0BAC   393F           03335         andlw   0x3F
0BAD   00A0           03336         movwf   LED1
0BAE   2???           03337         goto    button_4_led_blink_select
                      03338 
                      03339         
                      03340         ; check if in register select and apply value as needed for A and B, advance for Select, or go t
                            o reg set if set
0BAF                  03341 button_ctl_2x4bit
0BAF   0874           03342         movf    buttons, W
0BB0   3A14           03343         xorlw   0x14                            ; only set button pressed
0BB1   1D03           03344         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0BB2   2???           03345         goto    button_ctl_2x4bit_sel
0BB3   01B7           03346         clrf    mode_ctl
0BB4   2???           03347         goto    button_ctl_done
0BB5                  03348 button_ctl_2x4bit_sel   
0BB5   0874           03349         movf    buttons, W
0BB6   3A12           03350         xorlw   0x12                            ; only sel button pressed
0BB7   1D03           03351         btfss   STATUS, Z
0BB8   2???           03352         goto    button_ctl_2x4bit_A
0BB9   0AB7           03353         incf    mode_ctl, F
0BBA   0837           03354         movf    mode_ctl, W
0BBB   3903           03355         andlw   0x03
0BBC   1D03           03356         btfss   STATUS, Z
0BBD   2???           03357         goto    button_update_leds_2x4bit
0BBE   0337           03358         decf    mode_ctl, W
0BBF   39FC           03359         andlw   0xFC
0BC0   00B7           03360         movwf   mode_ctl
0BC1   2???           03361         goto    button_update_leds_2x4bit       
0BC2                  03362 button_ctl_2x4bit_A             
0BC2   0874           03363         movf    buttons, W
0BC3   3A18           03364         xorlw   0x18                            ; only A button pressed
0BC4   1D03           03365         btfss   STATUS, Z
0BC5   2???           03366         goto    button_ctl_2x4bit_B
0BC6   0837           03367         movf    mode_ctl, W
0BC7   3903           03368         andlw   0x03
0BC8   1D03           03369         btfss   STATUS, Z
0BC9   2???           03370         goto    button_ctl_2x4bit_A_2
0BCA   0801           03371         movf    INDF1, W
0BCB   39C0           03372         andlw   0xC0
0BCC   3AC0           03373         xorlw   0xC0
0BCD   1D03           03374         btfss   STATUS, Z
0BCE   2???           03375         goto    button_ctl_2x4bit_A_1_inc
0BCF   303F           03376         movlw   0x3F
0BD0   0581           03377         andwf   INDF1, F
0BD1   2???           03378         goto    button_update_leds_2x4bit
0BD2                  03379 button_ctl_2x4bit_A_1_inc
0BD2   3040           03380         movlw   0x40
0BD3   0781           03381         addwf   INDF1, F
0BD4   2???           03382         goto    button_update_leds_2x4bit       
0BD5                  03383 button_ctl_2x4bit_A_2   
0BD5   0837           03384         movf    mode_ctl, W
0BD6   3903           03385         andlw   0x03
0BD7   3A01           03386         xorlw   0x01
0BD8   1D03           03387         btfss   STATUS, Z
0BD9   2???           03388         goto    button_ctl_2x4bit_A_3
0BDA   0A86           03389         incf    FSR1L, F                        ; pick next var
0BDB   0801           03390         movf    INDF1, W
0BDC   39C0           03391         andlw   0xC0
0BDD   3AC0           03392         xorlw   0xC0
0BDE   1D03           03393         btfss   STATUS, Z
0BDF   2???           03394         goto    button_ctl_2x4bit_A_2_inc
0BE0   303F           03395         movlw   0x3F
0BE1   0581           03396         andwf   INDF1, F
0BE2   0386           03397         decf    FSR1L, F                        ; move back to first var
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0BE3   2???           03398         goto    button_update_leds_2x4bit
0BE4                  03399 button_ctl_2x4bit_A_2_inc
0BE4   3040           03400         movlw   0x40
0BE5   0781           03401         addwf   INDF1, F
0BE6   0386           03402         decf    FSR1L, F                        ; move back to first var
0BE7   2???           03403         goto    button_update_leds_2x4bit
0BE8                  03404 button_ctl_2x4bit_A_3   
0BE8   0837           03405         movf    mode_ctl, W
0BE9   3903           03406         andlw   0x03
0BEA   3A02           03407         xorlw   0x02
0BEB   1D03           03408         btfss   STATUS, Z
0BEC   2???           03409         goto    button_ctl_2x4bit_A_4
0BED   0A86           03410         incf    FSR1L, F                        ; pick next var
0BEE   0A86           03411         incf    FSR1L, F                        ; pick next var
0BEF   0801           03412         movf    INDF1, W
0BF0   39C0           03413         andlw   0xC0
0BF1   3AC0           03414         xorlw   0xC0
0BF2   1D03           03415         btfss   STATUS, Z
0BF3   2???           03416         goto    button_ctl_2x4bit_A_3_inc
0BF4   303F           03417         movlw   0x3F
0BF5   0581           03418         andwf   INDF1, F
0BF6   0386           03419         decf    FSR1L, F                        ; move back to first var
0BF7   0386           03420         decf    FSR1L, F                        ; move back to first var
0BF8   2???           03421         goto    button_update_leds_2x4bit
0BF9                  03422 button_ctl_2x4bit_A_3_inc
0BF9   3040           03423         movlw   0x40
0BFA   0781           03424         addwf   INDF1, F
0BFB   0386           03425         decf    FSR1L, F                        ; move back to first var
0BFC   0386           03426         decf    FSR1L, F                        ; move back to first var
0BFD   2???           03427         goto    button_update_leds_2x4bit                       
0BFE                  03428 button_ctl_2x4bit_A_4   
0BFE   0837           03429         movf    mode_ctl, W
0BFF   3903           03430         andlw   0x03
0C00   3A03           03431         xorlw   0x03
0C01   1D03           03432         btfss   STATUS, Z
0C02   2???           03433         goto    button_update_leds_2x4bit
0C03   3003           03434         movlw   0x03
0C04   0786           03435         addwf   FSR1L, F                        ; pick the high register
0C05   0801           03436         movf    INDF1, W
0C06   39C0           03437         andlw   0xC0
0C07   3AC0           03438         xorlw   0xC0
0C08   1D03           03439         btfss   STATUS, Z
0C09   2???           03440         goto    button_ctl_2x4bit_A_4_inc
0C0A   303F           03441         movlw   0x3F
0C0B   0581           03442         andwf   INDF1, F
0C0C   3003           03443         movlw   0x03
0C0D   0286           03444         subwf   FSR1L, F                        ; pick low register      = F - W
0C0E   2???           03445         goto    button_update_leds_2x4bit
0C0F                  03446 button_ctl_2x4bit_A_4_inc
0C0F   3040           03447         movlw   0x40
0C10   0781           03448         addwf   INDF1, F
0C11   3003           03449         movlw   0x03
0C12   0286           03450         subwf   FSR1L, F                        ; pick low register      = F - W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C13   2???           03451         goto    button_update_leds_2x4bit               
0C14                  03452 button_ctl_2x4bit_B
0C14   0874           03453         movf    buttons, W
0C15   3A11           03454         xorlw   0x11                            ; only B button pressed
0C16   1D03           03455         btfss   STATUS, Z
0C17   2???           03456         goto    button_update_leds_2x4bit
0C18   0837           03457         movf    mode_ctl, W
0C19   3903           03458         andlw   0x03
0C1A   1D03           03459         btfss   STATUS, Z
0C1B   2???           03460         goto    button_ctl_2x4bit_B_2
0C1C   0801           03461         movf    INDF1, W
0C1D   39C0           03462         andlw   0xC0
0C1E   1D03           03463         btfss   STATUS, Z
0C1F   2???           03464         goto    button_ctl_2x4bit_B_1_dec
0C20   30C0           03465         movlw   0xC0
0C21   0481           03466         iorwf   INDF1, F
0C22   2???           03467         goto    button_update_leds_2x4bit
0C23                  03468 button_ctl_2x4bit_B_1_dec
0C23   3040           03469         movlw   0x40
0C24   0281           03470         subwf   INDF1, F
0C25   2???           03471         goto    button_update_leds_2x4bit       
0C26                  03472 button_ctl_2x4bit_B_2   
0C26   0837           03473         movf    mode_ctl, W
0C27   3903           03474         andlw   0x03
0C28   3A01           03475         xorlw   0x01
0C29   1D03           03476         btfss   STATUS, Z
0C2A   2???           03477         goto    button_ctl_2x4bit_B_3
0C2B   0A86           03478         incf    FSR1L, F                        ; pick next var
0C2C   0801           03479         movf    INDF1, W
0C2D   39C0           03480         andlw   0xC0
0C2E   1D03           03481         btfss   STATUS, Z
0C2F   2???           03482         goto    button_ctl_2x4bit_B_2_dec
0C30   30C0           03483         movlw   0xC0
0C31   0481           03484         iorwf   INDF1, F
0C32   0386           03485         decf    FSR1L, F                        ; move back to first var
0C33   2???           03486         goto    button_update_leds_2x4bit
0C34                  03487 button_ctl_2x4bit_B_2_dec
0C34   3040           03488         movlw   0x40
0C35   0281           03489         subwf   INDF1, F
0C36   0386           03490         decf    FSR1L, F                        ; move back to first var
0C37   2???           03491         goto    button_update_leds_2x4bit               
0C38                  03492 button_ctl_2x4bit_B_3   
0C38   0837           03493         movf    mode_ctl, W
0C39   3903           03494         andlw   0x03
0C3A   3A02           03495         xorlw   0x02
0C3B   1D03           03496         btfss   STATUS, Z
0C3C   2???           03497         goto    button_ctl_2x4bit_B_4
0C3D   0A86           03498         incf    FSR1L, F                        ; pick next var
0C3E   0A86           03499         incf    FSR1L, F                        ; pick next var
0C3F   0801           03500         movf    INDF1, W
0C40   39C0           03501         andlw   0xC0
0C41   1D03           03502         btfss   STATUS, Z
0C42   2???           03503         goto    button_ctl_2x4bit_B_3_dec
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C43   30C0           03504         movlw   0xC0
0C44   0481           03505         iorwf   INDF1, F
0C45   0386           03506         decf    FSR1L, F                        ; move back to first var
0C46   0386           03507         decf    FSR1L, F                        ; move back to first var
0C47   2???           03508         goto    button_update_leds_2x4bit
0C48                  03509 button_ctl_2x4bit_B_3_dec
0C48   3040           03510         movlw   0x40
0C49   0281           03511         subwf   INDF1, F
0C4A   0386           03512         decf    FSR1L, F                        ; move back to first var
0C4B   0386           03513         decf    FSR1L, F                        ; move back to first var
0C4C   2???           03514         goto    button_update_leds_2x4bit               
0C4D                  03515 button_ctl_2x4bit_B_4   
0C4D   0837           03516         movf    mode_ctl, W
0C4E   3903           03517         andlw   0x03
0C4F   3A03           03518         xorlw   0x03
0C50   1D03           03519         btfss   STATUS, Z
0C51   2???           03520         goto    button_update_leds_2x4bit
0C52   3003           03521         movlw   0x03
0C53   0786           03522         addwf   FSR1L, F                        ; pick next var 
0C54   0801           03523         movf    INDF1, W
0C55   39C0           03524         andlw   0xC0
0C56   1D03           03525         btfss   STATUS, Z
0C57   2???           03526         goto    button_ctl_2x4bit_B_4_dec
0C58   30C0           03527         movlw   0xC0
0C59   0481           03528         iorwf   INDF1, F
0C5A   3003           03529         movlw   0x03
0C5B   0286           03530         subwf   FSR1L, F                        ; move back to first var        = F - W
0C5C   2???           03531         goto    button_update_leds_2x4bit
0C5D                  03532 button_ctl_2x4bit_B_4_dec
0C5D   3040           03533         movlw   0x40
0C5E   0281           03534         subwf   INDF1, F
0C5F   3003           03535         movlw   0x03
0C60   0286           03536         subwf   FSR1L, F                        ; move back to first var
0C61   2???           03537         goto    button_update_leds_2x4bit       
                      03538         
0C62                  03539 button_update_leds_2x4bit       
                      03540         ; for states 1,2,3,4 display the mode reg
0C62   01A3           03541         clrf    LED4
0C63   0801           03542         movf    INDF1, W
0C64   39C0           03543         andlw   0xC0
0C65   3A40           03544         xorlw   0x40
0C66   1D03           03545         btfss   STATUS,Z
0C67   2???           03546         goto    button_update_leds_2x4bit_1
0C68   1423           03547         bsf             LED4, 0
0C69   14A3           03548         bsf             LED4, 1
0C6A                  03549 button_update_leds_2x4bit_1     
0C6A   0801           03550         movf    INDF1, W
0C6B   39C0           03551         andlw   0xC0
0C6C   3A80           03552         xorlw   0x80
0C6D   1D03           03553         btfss   STATUS,Z
0C6E   2???           03554         goto    button_update_leds_2x4bit_2
0C6F   1523           03555         bsf             LED4, 2
0C70   15A3           03556         bsf             LED4, 3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C71                  03557 button_update_leds_2x4bit_2     
0C71   0801           03558         movf    INDF1, W
0C72   39C0           03559         andlw   0xC0
0C73   3AC0           03560         xorlw   0xC0
0C74   1D03           03561         btfss   STATUS,Z
0C75   2???           03562         goto    button_update_leds_2x4bit_3
0C76   1623           03563         bsf             LED4, 4
0C77   16A3           03564         bsf             LED4, 5
0C78                  03565 button_update_leds_2x4bit_3     
0C78   01A2           03566         clrf    LED3
0C79   0A86           03567         incf    FSR1L, F
0C7A   0801           03568         movf    INDF1, W
0C7B   39C0           03569         andlw   0xC0
0C7C   3A40           03570         xorlw   0x40
0C7D   1D03           03571         btfss   STATUS,Z
0C7E   2???           03572         goto    button_update_leds_2x4bit_4
0C7F   1422           03573         bsf             LED3, 0
0C80   14A2           03574         bsf             LED3, 1
0C81                  03575 button_update_leds_2x4bit_4     
0C81   0801           03576         movf    INDF1, W
0C82   39C0           03577         andlw   0xC0
0C83   3A80           03578         xorlw   0x80
0C84   1D03           03579         btfss   STATUS,Z
0C85   2???           03580         goto    button_update_leds_2x4bit_5
0C86   1522           03581         bsf             LED3, 2
0C87   15A2           03582         bsf             LED3, 3
0C88                  03583 button_update_leds_2x4bit_5     
0C88   0801           03584         movf    INDF1, W
0C89   39C0           03585         andlw   0xC0
0C8A   3AC0           03586         xorlw   0xC0
0C8B   1D03           03587         btfss   STATUS,Z
0C8C   2???           03588         goto    button_update_leds_2x4bit_6
0C8D   1622           03589         bsf             LED3, 4
0C8E   16A2           03590         bsf             LED3, 5
0C8F                  03591 button_update_leds_2x4bit_6     
0C8F   01A1           03592         clrf    LED2
0C90   0A86           03593         incf    FSR1L, F
0C91   0801           03594         movf    INDF1, W
0C92   39C0           03595         andlw   0xC0
0C93   3A40           03596         xorlw   0x40
0C94   1D03           03597         btfss   STATUS,Z
0C95   2???           03598         goto    button_update_leds_2x4bit_7
0C96   1421           03599         bsf             LED2, 0
0C97   14A1           03600         bsf             LED2, 1
0C98                  03601 button_update_leds_2x4bit_7     
0C98   0801           03602         movf    INDF1, W
0C99   39C0           03603         andlw   0xC0
0C9A   3A80           03604         xorlw   0x80
0C9B   1D03           03605         btfss   STATUS,Z
0C9C   2???           03606         goto    button_update_leds_2x4bit_8
0C9D   1521           03607         bsf             LED2, 2
0C9E   15A1           03608         bsf             LED2, 3
0C9F                  03609 button_update_leds_2x4bit_8
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0C9F   0801           03610         movf    INDF1, W
0CA0   39C0           03611         andlw   0xC0
0CA1   3AC0           03612         xorlw   0xC0
0CA2   1D03           03613         btfss   STATUS,Z
0CA3   2???           03614         goto    button_update_leds_2x4bit_9
0CA4   1621           03615         bsf             LED2, 4
0CA5   16A1           03616         bsf             LED2, 5
0CA6                  03617 button_update_leds_2x4bit_9     
0CA6   01A0           03618         clrf    LED1
0CA7   0A86           03619         incf    FSR1L, F
0CA8   0801           03620         movf    INDF1, W
0CA9   39C0           03621         andlw   0xC0
0CAA   3A40           03622         xorlw   0x40
0CAB   1D03           03623         btfss   STATUS,Z
0CAC   2???           03624         goto    button_update_leds_2x4bit_10
0CAD   1420           03625         bsf             LED1, 0
0CAE   14A0           03626         bsf             LED1, 1
0CAF                  03627 button_update_leds_2x4bit_10
0CAF   0801           03628         movf    INDF1, W
0CB0   39C0           03629         andlw   0xC0
0CB1   3A80           03630         xorlw   0x80
0CB2   1D03           03631         btfss   STATUS,Z
0CB3   2???           03632         goto    button_update_leds_2x4bit_11
0CB4   1520           03633         bsf             LED1, 2
0CB5   15A0           03634         bsf             LED1, 3
0CB6                  03635 button_update_leds_2x4bit_11
0CB6   0801           03636         movf    INDF1, W
0CB7   39C0           03637         andlw   0xC0
0CB8   3AC0           03638         xorlw   0xC0
0CB9   1D03           03639         btfss   STATUS,Z
0CBA   2???           03640         goto    button_update_leds_2x4bit_12
0CBB   1620           03641         bsf             LED1, 4
0CBC   16A0           03642         bsf             LED1, 5
0CBD                  03643 button_update_leds_2x4bit_12
0CBD   2???           03644         goto    button_4_led_blink_select
                      03645         
                      03646 
0CBE                  03647 button_ctl_save_vars
0CBE   2???           03648         call    _SAVE_VARS
0CBF   01B7           03649         clrf    mode_ctl
0CC0   2???           03650         goto    button_ctl_done 
                      03651 
                      03652         
0CC1                  03653 button_ctl_direct_remote
0CC1   01A0           03654         clrf    LED1
0CC2   01A1           03655         clrf    LED2
0CC3   01A2           03656         clrf    LED3
0CC4   01A3           03657         clrf    LED4
0CC5   152A           03658         bsf             ir_status, 2            ; disable local beacon TX functions
0CC6   15AA           03659         bsf             ir_status, 3            ; disable local beacon RX functions
0CC7   17B7           03660         bsf             mode_ctl, 7                     ; enable cont button presses 
0CC8   0874           03661         movf    buttons, W
0CC9   3A14           03662         xorlw   0x14                            ; only set button pressed
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0CCA   1D03           03663         btfss   STATUS, Z
0CCB   2???           03664         goto    button_ctl_direct_remote_A
0CCC   01B7           03665         clrf    mode_ctl
0CCD   112A           03666         bcf             ir_status, 2            ; enable local beacon TX functions      
0CCE   11AA           03667         bcf             ir_status, 3            ; enable local beacon RX functions      
0CCF   2???           03668         goto    button_ctl_done
0CD0                  03669 button_ctl_direct_remote_A
0CD0   0874           03670         movf    buttons, W
0CD1   39FE           03671         andlw   0xFE                            ; ignore the B button
0CD2   3A18           03672         xorlw   0x18                            ; only A or A + B button pressed
0CD3   1D03           03673         btfss   STATUS, Z
0CD4   2???           03674         goto    button_ctl_direct_remote_B      
0CD5   2???           03675         goto    button_ctl_direct_remote_send
0CD6                  03676 button_ctl_direct_remote_B      
0CD6   0874           03677         movf    buttons, W
0CD7   3A11           03678         xorlw   0x11                            ; only B button pressed
0CD8   1D03           03679         btfss   STATUS, Z
0CD9   2???           03680         goto    button_ctl_done
0CDA                  03681 button_ctl_direct_remote_send   
0CDA   182A           03682         btfsc   ir_status, 0            ; busy bit
0CDB   2???           03683         goto    button_ctl_done         ; IR was busy so back off and try again next time
0CDC   142A           03684         bsf             ir_status, 0            ; set the busy bit so other modules do not overwrite the
                             data.
0CDD   3001           03685         movlw   0x01            
0CDE   00AC           03686         movwf   ir_cmd                          ; direct remote cmd
0CDF   01AD           03687         clrf    ir_data                         ; command data (not used for beacon)
0CE0   1874           03688         btfsc   buttons, 0                      ; button B
0CE1   142D           03689         bsf             ir_data, 0                      ; MT1
0CE2   19F4           03690         btfsc   buttons, 3                      ; button A
0CE3   14AD           03691         bsf             ir_data, 1                      ; MT2
0CE4   14AA           03692         bsf             ir_status, 1            ; set the calc bit              
                      03693         ;------------------
0CE5   300E           03694         movlw   d'14'
0CE6   0088           03695         movwf   BSR             
                      03696         ;------------------     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0CE7   1719           03697         bsf             PIE3, TX2IE                     ; enable Uart2 transmit IRQ     
                      03698         ;------------------
0CE8   0188           03699         clrf    BSR             
                      03700         ;------------------
0CE9   2???           03701         goto    button_ctl_done
                      03702 
                      03703         
0CEA                  03704 button_ctl_done 
                      03705         ; if the button was pressed reset the no_press_cnt timer
0CEA   0874           03706         movf    buttons, W
0CEB   390F           03707         andlw   0x0F
0CEC   1903           03708         btfsc   STATUS, Z
0CED   2???           03709         goto    button_ctl_no_press
0CEE   3002           03710         movlw   BUTTON_DEBOUNCE
0CEF   00B8           03711         movwf   no_press_cnt
0CF0                  03712 button_ctl_no_press     
0CF0   01F4           03713         clrf    buttons
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      03714 
0CF1   3010           03715         movlw   0x10
0CF2   008A           03716         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
0CF3   2???           03717         goto    MAINLOOP_LEDS
                      03718 
                      03719         
                      03720 
                      03721         
                      03722 ; http://ww1.microchip.com/downloads/en/DeviceDoc/PIC16(L)F15354_55%20Data%20Sheet%2040001853C.pdf      
                      03723 ; RB3(24)       SCL
                      03724 ; RB4(25)       SDA
                      03725 ; RB6(27)       [ISPCLK] BBtx
                      03726 ; RB7(28)       [ICSPDAT] BBrx
                      03727         
                      03728 
                      03729 ;#########################################################      
                      03730 ; save vars to flash
                      03731 ;#########################################################      
0CF4                  03732 _SAVE_VARS
                      03733         ;------------------
0CF4   3010           03734         movlw   d'16'
0CF5   0088           03735         movwf   BSR             
                      03736         ;------------------     
                      03737         ; erase row of flash (32 words) 
0CF6   301F           03738         movlw   0x1F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0CF7   009B           03739         movwf   NVMADRH
0CF8   3080           03740         movlw   0x80
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0CF9   009A           03741         movwf   NVMADRL
0CFA   3014           03742         movlw   0x14                            ; access program flash, flash erase, write enable 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0CFB   009E           03743         movwf   NVMCON1
0CFC   2???           03744         call    _UNLOCK_NVM                     ; unlock NVM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0CFD   111E           03745         bcf             NVMCON1, WREN           ; disable write latch
                      03746 
                      03747         ; write row of flash (32 words)
0CFE   0185           03748         clrf    FSR0H                           ; address of first ram reg
0CFF   3065           03749         movlw   START_OF_REGS
0D00   0084           03750         movwf   FSR0L   
0D01   301F           03751         movlw   0x1F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D02   009B           03752         movwf   NVMADRH
0D03   3080           03753         movlw   0x80
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D04   009A           03754         movwf   NVMADRL
0D05   3024           03755         movlw   0x24                            ; access program flash, flash write latch only, write en
                            able 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D06   009E           03756         movwf   NVMCON1
                      03757 
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0D07                  03758 _SAVE_VARS_load_loop    
0D07   0012           03759         moviw   FSR0++                          ; movw INDF0 to W and increment to next address
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D08   009C           03760         movwf   NVMDATL
0D09   303F           03761         movlw   0x3F                            ; upper bits unused leave in cleared state
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D0A   009D           03762         movwf   NVMDATH
0D0B   2???           03763         call    _UNLOCK_NVM                     ; unlock NVM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D0C   0A9A           03764         incf    NVMADRL, F
0D0D   0804           03765         movf    FSR0L, W
0D0E   3A70           03766         xorlw   0x70                            ; 1 past the end of the ram space
0D0F   1D03           03767         btfss   STATUS, Z
0D10   2???           03768         goto    _SAVE_VARS_load_loop
0D11                  03769 _SAVE_VARS_pad_loop     
0D11   30FF           03770         movlw   0xff
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D12   009C           03771         movwf   NVMDATL
0D13   303F           03772         movlw   0x3f
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D14   009D           03773         movwf   NVMDATH
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D15   0A9A           03774         incf    NVMADRL, F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D16   081A           03775         movf    NVMADRL, W
0D17   391F           03776         andlw   0x1F                            ; check if on a 32 word boundary (end of row)
0D18   3A1F           03777         xorlw   0x1F
0D19   1903           03778         btfsc   STATUS, Z
0D1A   2???           03779         goto    _SAVE_VARS_load_done    
0D1B   2???           03780         call    _UNLOCK_NVM                     ; unlock NVM
0D1C   2???           03781         goto    _SAVE_VARS_pad_loop     
0D1D                  03782 _SAVE_VARS_load_done    
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D1D   129E           03783         bcf             NVMCON1, LWLO           ; next write programs row vs latches
0D1E   2???           03784         call    _UNLOCK_NVM                     ; unlock NVM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D1F   111E           03785         bcf             NVMCON1, WREN           ; clear write enable bit
                      03786         
                      03787         ;------------------
0D20   0188           03788         clrf    BSR             
                      03789         ;------------------     
                      03790         
0D21   0008           03791         return
                      03792         
                      03793 ;#########################################################      
                      03794 ; unlock the NVM for write / erase
                      03795 ;#########################################################      
0D22                  03796 _UNLOCK_NVM
                      03797         ; unlock seq
0D22   138B           03798         bcf             INTCON, GIE                     ; disable IRQs for unlock
0D23   3055           03799         movlw   0x55
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D24   009F           03800         movwf   NVMCON2
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0D25   30AA           03801         movlw   0xAA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D26   009F           03802         movwf   NVMCON2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0D27   149E           03803         bsf             NVMCON1, WR                     ; kick off write or erase
0D28   178B           03804         bsf             INTCON, GIE                     ; enable IRQs again
                      03805         
0D29   0008           03806         return
                      03807         
                      03808 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
                      03809 ; start of page 1
                      03810         org             1000h
                      03811 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
                      03812         
                      03813         ; ************************************************************
1000                  03814 MAINLOOP_LEDS   
                      03815         ; verfiy not in control mode
1000   0837           03816         movf    mode_ctl, W
1001   1903           03817         btfsc   STATUS, Z
1002   2???           03818         goto    LEDS_start
                      03819         
1003   3018           03820         movlw   0x18
1004   008A           03821         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
1005   2???           03822         goto    MAINLOOP_VIBE           ; jump down to the vibe checks
                      03823         
1006                  03824 LEDS_start      
                      03825         ; check if the led timers have expired yet
Message[305]: Using default destination of 1 (file).
1006   08BA           03826         movf    led_timer_high
1007   1D03           03827         btfss   STATUS, Z
1008   2???           03828         goto    skip_leds
Message[305]: Using default destination of 1 (file).
1009   08B9           03829         movf    led_timer_low
100A   1D03           03830         btfss   STATUS, Z
100B   2???           03831         goto    skip_leds
                      03832         
                      03833         
100C   086D           03834         movf    led_mode_reg, W
100D   3A01           03835         xorlw   0x01
100E   1D03           03836         btfss   STATUS, Z
100F   2???           03837         goto    led_mode_2
                      03838         ; rainbow right
1010   083B           03839         movf    sequence, W
1011   2???           03840         call    _RGB_rotate
1012   00A3           03841         movwf   LED4
1013   083B           03842         movf    sequence, W
1014   3E01           03843         addlw   0x01
1015   2???           03844         call    _RGB_rotate
1016   00A2           03845         movwf   LED3
1017   083B           03846         movf    sequence, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 79


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1018   3E02           03847         addlw   0x02
1019   2???           03848         call    _RGB_rotate
101A   00A1           03849         movwf   LED2
101B   083B           03850         movf    sequence, W
101C   3E03           03851         addlw   0x03
101D   2???           03852         call    _RGB_rotate
101E   00A0           03853         movwf   LED1
101F   0ABB           03854         incf    sequence, F
1020   083B           03855         movf    sequence, W
1021   3C11           03856         sublw   0x11                ; W <= k C = 1
1022   1C03           03857         btfss   STATUS, C
1023   01BB           03858         clrf    sequence        
1024   086F           03859         movf    speed_high, W
1025   00BA           03860         movwf   led_timer_high
1026   086E           03861         movf    speed_low, W
1027   00B9           03862         movwf   led_timer_low   
1028   2???           03863         goto    skip_leds
                      03864         
1029                  03865 led_mode_2      
1029   086D           03866         movf    led_mode_reg, W
102A   3A02           03867         xorlw   0x02
102B   1D03           03868         btfss   STATUS, Z
102C   2???           03869         goto    led_mode_3              
                      03870         ; static custom LED display
102D   086C           03871         movf    cust_led1, W
102E   00A0           03872         movwf   LED1
102F   086B           03873         movf    cust_led2, W
1030   00A1           03874         movwf   LED2
1031   086A           03875         movf    cust_led3, W
1032   00A2           03876         movwf   LED3
1033   0869           03877         movf    cust_led4, W
1034   00A3           03878         movwf   LED4
                      03879         ; even though this is static still refresh it every so often incase overwritten by menu leds. (a
                            lso needed for the cycle option..) 
1035   086F           03880         movf    speed_high, W
1036   00BA           03881         movwf   led_timer_high
1037   086E           03882         movf    speed_low, W
1038   00B9           03883         movwf   led_timer_low   
1039   2???           03884         goto    skip_leds
                      03885             
103A                  03886 led_mode_3      
103A   086D           03887         movf    led_mode_reg, W
103B   3A03           03888         xorlw   0x03
103C   1D03           03889         btfss   STATUS, Z
103D   2???           03890         goto    led_mode_4
                      03891         ; LFSR display (random)
103E   2???           03892         call    _CYCLE_LFSR
103F   00A0           03893         movwf   LED1
1040   2???           03894         call    _CYCLE_LFSR
1041   00A1           03895         movwf   LED2
1042   2???           03896         call    _CYCLE_LFSR
1043   00A2           03897         movwf   LED3
1044   2???           03898         call    _CYCLE_LFSR
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 80


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1045   00A3           03899         movwf   LED4
                      03900         ; set up next led timer
1046   086F           03901         movf    speed_high, W
1047   00BA           03902         movwf   led_timer_high
1048   086E           03903         movf    speed_low, W
1049   00B9           03904         movwf   led_timer_low   
104A   2???           03905         goto    skip_leds
                      03906         
104B                  03907 led_mode_4
104B   086D           03908         movf    led_mode_reg, W
104C   3A04           03909         xorlw   0x04
104D   1D03           03910         btfss   STATUS, Z
104E   2???           03911         goto    led_mode_5
                      03912         ; Larson custom single color (use custom led 4 and led 3 (trail) 
104F   083B           03913         movf    sequence, W
1050   1D03           03914         btfss   STATUS, Z
1051   2???           03915         goto    led_mode_4_1
1052   0869           03916         movf    cust_led4, W
1053   00A0           03917         movwf   LED1
1054   01A1           03918         clrf    LED2
1055   01A2           03919         clrf    LED3
1056   01A3           03920         clrf    LED4
1057   2???           03921         goto    led_mode_4_done                 
1058                  03922 led_mode_4_1    
1058   083B           03923         movf    sequence, W
1059   3A01           03924         xorlw   0x01
105A   1D03           03925         btfss   STATUS, Z
105B   2???           03926         goto    led_mode_4_2
105C   086A           03927         movf    cust_led3, W
105D   00A0           03928         movwf   LED1
105E   0869           03929         movf    cust_led4, W
105F   00A1           03930         movwf   LED2
1060   01A2           03931         clrf    LED3
1061   01A3           03932         clrf    LED4
1062   2???           03933         goto    led_mode_4_done                 
1063                  03934 led_mode_4_2
1063   083B           03935         movf    sequence, W
1064   3A02           03936         xorlw   0x02
1065   1D03           03937         btfss   STATUS, Z
1066   2???           03938         goto    led_mode_4_3
1067   01A0           03939         clrf    LED1
1068   086A           03940         movf    cust_led3, W
1069   00A1           03941         movwf   LED2
106A   0869           03942         movf    cust_led4, W
106B   00A2           03943         movwf   LED3
106C   01A3           03944         clrf    LED4
106D   2???           03945         goto    led_mode_4_done                 
106E                  03946 led_mode_4_3
106E   083B           03947         movf    sequence, W
106F   3A03           03948         xorlw   0x03
1070   1D03           03949         btfss   STATUS, Z
1071   2???           03950         goto    led_mode_4_4
1072   01A0           03951         clrf    LED1
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 81


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1073   01A1           03952         clrf    LED2
1074   086A           03953         movf    cust_led3, W
1075   00A2           03954         movwf   LED3
1076   0869           03955         movf    cust_led4, W
1077   00A3           03956         movwf   LED4
1078   2???           03957         goto    led_mode_4_done                 
1079                  03958 led_mode_4_4
1079   083B           03959         movf    sequence, W
107A   3A04           03960         xorlw   0x04
107B   1D03           03961         btfss   STATUS, Z
107C   2???           03962         goto    led_mode_4_5
107D   01A0           03963         clrf    LED1
107E   01A1           03964         clrf    LED2
107F   01A2           03965         clrf    LED3
1080   0869           03966         movf    cust_led4, W
1081   00A3           03967         movwf   LED4
1082   2???           03968         goto    led_mode_4_done                 
1083                  03969 led_mode_4_5
1083   083B           03970         movf    sequence, W
1084   3A05           03971         xorlw   0x05
1085   1D03           03972         btfss   STATUS, Z
1086   2???           03973         goto    led_mode_4_6
1087   01A0           03974         clrf    LED1
1088   01A1           03975         clrf    LED2
1089   01A2           03976         clrf    LED3
108A   0869           03977         movf    cust_led4, W
108B   00A3           03978         movwf   LED4
108C   2???           03979         goto    led_mode_4_done                 
108D                  03980 led_mode_4_6
108D   083B           03981         movf    sequence, W
108E   3A06           03982         xorlw   0x06
108F   1D03           03983         btfss   STATUS, Z
1090   2???           03984         goto    led_mode_4_7
1091   01A0           03985         clrf    LED1
1092   01A1           03986         clrf    LED2
1093   0869           03987         movf    cust_led4, W
1094   00A2           03988         movwf   LED3
1095   086A           03989         movf    cust_led3, W
1096   00A3           03990         movwf   LED4
1097   2???           03991         goto    led_mode_4_done                 
1098                  03992 led_mode_4_7
1098   083B           03993         movf    sequence, W
1099   3A07           03994         xorlw   0x07
109A   1D03           03995         btfss   STATUS, Z
109B   2???           03996         goto    led_mode_4_8
109C   01A0           03997         clrf    LED1
109D   0869           03998         movf    cust_led4, W
109E   00A1           03999         movwf   LED2
109F   086A           04000         movf    cust_led3, W
10A0   00A2           04001         movwf   LED3
10A1   01A3           04002         clrf    LED4
10A2   2???           04003         goto    led_mode_4_done                 
10A3                  04004 led_mode_4_8
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 82


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

10A3   083B           04005         movf    sequence, W
10A4   3A08           04006         xorlw   0x08
10A5   1D03           04007         btfss   STATUS, Z
10A6   2???           04008         goto    led_mode_4_9
10A7   0869           04009         movf    cust_led4, W
10A8   00A0           04010         movwf   LED1
10A9   086A           04011         movf    cust_led3, W
10AA   00A1           04012         movwf   LED2
10AB   01A2           04013         clrf    LED3
10AC   01A3           04014         clrf    LED4
10AD   2???           04015         goto    led_mode_4_done                 
10AE                  04016 led_mode_4_9
10AE   083B           04017         movf    sequence, W
10AF   3A09           04018         xorlw   0x09
10B0   1D03           04019         btfss   STATUS, Z
10B1   2???           04020         goto    led_mode_4_A
10B2   0869           04021         movf    cust_led4, W
10B3   00A0           04022         movwf   LED1
10B4   01A1           04023         clrf    LED2
10B5   01A2           04024         clrf    LED3
10B6   01A3           04025         clrf    LED4
10B7   30FF           04026         movlw   0xFF
10B8   00BB           04027         movwf   sequence                        ; end of loop
10B9   2???           04028         goto    led_mode_4_done                 
10BA                  04029 led_mode_4_A
10BA   01BB           04030         clrf    sequence                        ; past the end of the loop clear seq
10BB                  04031 led_mode_4_done         
10BB   0ABB           04032         incf    sequence, F
                      04033         ; set up next led timer
10BC   086F           04034         movf    speed_high, W
10BD   00BA           04035         movwf   led_timer_high
10BE   086E           04036         movf    speed_low, W
10BF   00B9           04037         movwf   led_timer_low
10C0   2???           04038         goto    skip_leds
                      04039         
                      04040         
10C1                  04041 led_mode_5
10C1   086D           04042         movf    led_mode_reg, W
10C2   3A05           04043         xorlw   0x05
10C3   1D03           04044         btfss   STATUS, Z
10C4   2???           04045         goto    led_mode_6
                      04046         
                      04047 ;       movlw   0x0C
                      04048 ;       movwf   led_display_seq
                      04049         
                      04050         ; Larson custom RGB swap on every swipe 
10C5   083B           04051         movf    sequence, W
10C6   1D03           04052         btfss   STATUS, Z
10C7   2???           04053         goto    led_mode_5_1
10C8   083D           04054         movf    led_display_seq, W
10C9   00A0           04055         movwf   LED1
10CA   01A1           04056         clrf    LED2
10CB   01A2           04057         clrf    LED3
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 83


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

10CC   01A3           04058         clrf    LED4
10CD   2???           04059         goto    led_mode_5_done                 
10CE                  04060 led_mode_5_1    
10CE   083B           04061         movf    sequence, W
10CF   3A01           04062         xorlw   0x01
10D0   1D03           04063         btfss   STATUS, Z
10D1   2???           04064         goto    led_mode_5_2
10D2   083D           04065         movf    led_display_seq, W
10D3   3915           04066         andlw   0x15
10D4   00A0           04067         movwf   LED1
10D5   083D           04068         movf    led_display_seq, W
10D6   00A1           04069         movwf   LED2
10D7   01A2           04070         clrf    LED3
10D8   01A3           04071         clrf    LED4
10D9   2???           04072         goto    led_mode_5_done                 
10DA                  04073 led_mode_5_2
10DA   083B           04074         movf    sequence, W
10DB   3A02           04075         xorlw   0x02
10DC   1D03           04076         btfss   STATUS, Z
10DD   2???           04077         goto    led_mode_5_3
10DE   01A0           04078         clrf    LED1
10DF   083D           04079         movf    led_display_seq, W
10E0   3915           04080         andlw   0x15
10E1   00A1           04081         movwf   LED2
10E2   083D           04082         movf    led_display_seq, W
10E3   00A2           04083         movwf   LED3
10E4   01A3           04084         clrf    LED4
10E5   2???           04085         goto    led_mode_5_done                 
10E6                  04086 led_mode_5_3
10E6   083B           04087         movf    sequence, W
10E7   3A03           04088         xorlw   0x03
10E8   1D03           04089         btfss   STATUS, Z
10E9   2???           04090         goto    led_mode_5_4
10EA   01A0           04091         clrf    LED1
10EB   01A1           04092         clrf    LED2
10EC   083D           04093         movf    led_display_seq, W
10ED   3915           04094         andlw   0x15
10EE   00A2           04095         movwf   LED3
10EF   083D           04096         movf    led_display_seq, W
10F0   00A3           04097         movwf   LED4
10F1   2???           04098         goto    led_mode_5_done                 
10F2                  04099 led_mode_5_4
10F2   083B           04100         movf    sequence, W
10F3   3A04           04101         xorlw   0x04
10F4   1D03           04102         btfss   STATUS, Z
10F5   2???           04103         goto    led_mode_5_5
10F6   01A0           04104         clrf    LED1
10F7   01A1           04105         clrf    LED2
10F8   01A2           04106         clrf    LED3
10F9   083D           04107         movf    led_display_seq, W
10FA   00A3           04108         movwf   LED4
                      04109         
                      04110         ; update led_seq
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 84


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

10FB   083D           04111         movf    led_display_seq, W
10FC   3A03           04112         xorlw   0x03
10FD   1D03           04113         btfss   STATUS, Z
10FE   2???           04114         goto    led_mode_5_update1_0C
10FF   300C           04115         movlw   0x0C
1100   00BD           04116         movwf   led_display_seq
1101   2???           04117         goto    led_mode_5_update1_done
1102                  04118 led_mode_5_update1_0C
1102   083D           04119         movf    led_display_seq, W
1103   3A0C           04120         xorlw   0x0C
1104   1D03           04121         btfss   STATUS, Z
1105   2???           04122         goto    led_mode_5_update1_30
1106   3030           04123         movlw   0x30
1107   00BD           04124         movwf   led_display_seq
1108   2???           04125         goto    led_mode_5_update1_done
1109                  04126 led_mode_5_update1_30
1109   3003           04127         movlw   0x03
110A   00BD           04128         movwf   led_display_seq
110B                  04129 led_mode_5_update1_done 
                      04130         
110B   2???           04131         goto    led_mode_5_done                 
110C                  04132 led_mode_5_5
                      04133         
110C   083B           04134         movf    sequence, W
110D   3A05           04135         xorlw   0x05
110E   1D03           04136         btfss   STATUS, Z
110F   2???           04137         goto    led_mode_5_6    
1110   01A0           04138         clrf    LED1
1111   01A1           04139         clrf    LED2
1112   01A2           04140         clrf    LED3
1113   083D           04141         movf    led_display_seq, W
1114   00A3           04142         movwf   LED4
1115   2???           04143         goto    led_mode_5_done                 
1116                  04144 led_mode_5_6
1116   083B           04145         movf    sequence, W
1117   3A06           04146         xorlw   0x06
1118   1D03           04147         btfss   STATUS, Z
1119   2???           04148         goto    led_mode_5_7
111A   01A0           04149         clrf    LED1
111B   01A1           04150         clrf    LED2
111C   083D           04151         movf    led_display_seq, W
111D   00A2           04152         movwf   LED3
111E   083D           04153         movf    led_display_seq, W
111F   3915           04154         andlw   0x15
1120   00A3           04155         movwf   LED4
1121   2???           04156         goto    led_mode_5_done                 
1122                  04157 led_mode_5_7
1122   083B           04158         movf    sequence, W
1123   3A07           04159         xorlw   0x07
1124   1D03           04160         btfss   STATUS, Z
1125   2???           04161         goto    led_mode_5_8
1126   01A0           04162         clrf    LED1
1127   083D           04163         movf    led_display_seq, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 85


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1128   00A1           04164         movwf   LED2
1129   083D           04165         movf    led_display_seq, W
112A   3915           04166         andlw   0x15
112B   00A2           04167         movwf   LED3
112C   01A3           04168         clrf    LED4
112D   2???           04169         goto    led_mode_5_done                 
112E                  04170 led_mode_5_8
112E   083B           04171         movf    sequence, W
112F   3A08           04172         xorlw   0x08
1130   1D03           04173         btfss   STATUS, Z
1131   2???           04174         goto    led_mode_5_9
1132   083D           04175         movf    led_display_seq, W
1133   00A0           04176         movwf   LED1
1134   083D           04177         movf    led_display_seq, W
1135   3915           04178         andlw   0x15
1136   00A1           04179         movwf   LED2
1137   01A2           04180         clrf    LED3
1138   01A3           04181         clrf    LED4
1139   2???           04182         goto    led_mode_5_done                 
113A                  04183 led_mode_5_9
113A   083B           04184         movf    sequence, W
113B   3A09           04185         xorlw   0x09
113C   1D03           04186         btfss   STATUS, Z
113D   2???           04187         goto    led_mode_5_A
113E   083D           04188         movf    led_display_seq, W
113F   00A0           04189         movwf   LED1
1140   01A1           04190         clrf    LED2
1141   01A2           04191         clrf    LED3
1142   01A3           04192         clrf    LED4
1143   30FF           04193         movlw   0xFF
1144   00BB           04194         movwf   sequence                        ; end of loop
                      04195 
                      04196         ; update led_seq
1145   083D           04197         movf    led_display_seq, W
1146   3A03           04198         xorlw   0x03
1147   1D03           04199         btfss   STATUS, Z
1148   2???           04200         goto    led_mode_5_update2_0C
1149   300C           04201         movlw   0x0C
114A   00BD           04202         movwf   led_display_seq
114B   2???           04203         goto    led_mode_5_update2_done
114C                  04204 led_mode_5_update2_0C
114C   083D           04205         movf    led_display_seq, W
114D   3A0C           04206         xorlw   0x0C
114E   1D03           04207         btfss   STATUS, Z
114F   2???           04208         goto    led_mode_5_update2_30
1150   3030           04209         movlw   0x30
1151   00BD           04210         movwf   led_display_seq
1152   2???           04211         goto    led_mode_5_update2_done
1153                  04212 led_mode_5_update2_30
1153   3003           04213         movlw   0x03
1154   00BD           04214         movwf   led_display_seq
1155                  04215 led_mode_5_update2_done
                      04216         
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 86


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1155   2???           04217         goto    led_mode_5_done                 
1156                  04218 led_mode_5_A
1156   01BB           04219         clrf    sequence                        ; past the end of the loop clear seq    
1157                  04220 led_mode_5_done         
1157   0ABB           04221         incf    sequence, F
                      04222         ; set up next led timer
1158   086F           04223         movf    speed_high, W
1159   00BA           04224         movwf   led_timer_high
115A   086E           04225         movf    speed_low, W
115B   00B9           04226         movwf   led_timer_low
115C   2???           04227         goto    skip_leds
                      04228         
                      04229         
115D                  04230 led_mode_6      
115D   086D           04231         movf    led_mode_reg, W
115E   3A06           04232         xorlw   0x06
115F   1D03           04233         btfss   STATUS, Z
1160   2???           04234         goto    led_mode_7
                      04235         
                      04236 ;       movlw   0x0C
                      04237 ;       movwf   led_display_seq
                      04238         
                      04239         ; Larson custom RGB swap on every other swipe 
1161   083B           04240         movf    sequence, W
1162   1D03           04241         btfss   STATUS, Z
1163   2???           04242         goto    led_mode_6_1
1164   083D           04243         movf    led_display_seq, W
1165   00A0           04244         movwf   LED1
1166   01A1           04245         clrf    LED2
1167   01A2           04246         clrf    LED3
1168   01A3           04247         clrf    LED4
1169   2???           04248         goto    led_mode_6_done                 
116A                  04249 led_mode_6_1    
116A   083B           04250         movf    sequence, W
116B   3A01           04251         xorlw   0x01
116C   1D03           04252         btfss   STATUS, Z
116D   2???           04253         goto    led_mode_6_2
116E   083D           04254         movf    led_display_seq, W
116F   3915           04255         andlw   0x15
1170   00A0           04256         movwf   LED1
1171   083D           04257         movf    led_display_seq, W
1172   00A1           04258         movwf   LED2
1173   01A2           04259         clrf    LED3
1174   01A3           04260         clrf    LED4
1175   2???           04261         goto    led_mode_6_done                 
1176                  04262 led_mode_6_2
1176   083B           04263         movf    sequence, W
1177   3A02           04264         xorlw   0x02
1178   1D03           04265         btfss   STATUS, Z
1179   2???           04266         goto    led_mode_6_3
117A   01A0           04267         clrf    LED1
117B   083D           04268         movf    led_display_seq, W
117C   3915           04269         andlw   0x15
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 87


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

117D   00A1           04270         movwf   LED2
117E   083D           04271         movf    led_display_seq, W
117F   00A2           04272         movwf   LED3
1180   01A3           04273         clrf    LED4
1181   2???           04274         goto    led_mode_6_done                 
1182                  04275 led_mode_6_3
1182   083B           04276         movf    sequence, W
1183   3A03           04277         xorlw   0x03
1184   1D03           04278         btfss   STATUS, Z
1185   2???           04279         goto    led_mode_6_4
1186   01A0           04280         clrf    LED1
1187   01A1           04281         clrf    LED2
1188   083D           04282         movf    led_display_seq, W
1189   3915           04283         andlw   0x15
118A   00A2           04284         movwf   LED3
118B   083D           04285         movf    led_display_seq, W
118C   00A3           04286         movwf   LED4
118D   2???           04287         goto    led_mode_6_done                 
118E                  04288 led_mode_6_4
118E   083B           04289         movf    sequence, W
118F   3A04           04290         xorlw   0x04
1190   1D03           04291         btfss   STATUS, Z
1191   2???           04292         goto    led_mode_6_5
1192   01A0           04293         clrf    LED1
1193   01A1           04294         clrf    LED2
1194   01A2           04295         clrf    LED3
1195   083D           04296         movf    led_display_seq, W
1196   00A3           04297         movwf   LED4
1197   2???           04298         goto    led_mode_6_done                 
1198                  04299 led_mode_6_5
                      04300         
1198   083B           04301         movf    sequence, W
1199   3A05           04302         xorlw   0x05
119A   1D03           04303         btfss   STATUS, Z
119B   2???           04304         goto    led_mode_6_6    
119C   01A0           04305         clrf    LED1
119D   01A1           04306         clrf    LED2
119E   01A2           04307         clrf    LED3
119F   083D           04308         movf    led_display_seq, W
11A0   00A3           04309         movwf   LED4
11A1   2???           04310         goto    led_mode_6_done                 
11A2                  04311 led_mode_6_6
11A2   083B           04312         movf    sequence, W
11A3   3A06           04313         xorlw   0x06
11A4   1D03           04314         btfss   STATUS, Z
11A5   2???           04315         goto    led_mode_6_7
11A6   01A0           04316         clrf    LED1
11A7   01A1           04317         clrf    LED2
11A8   083D           04318         movf    led_display_seq, W
11A9   00A2           04319         movwf   LED3
11AA   083D           04320         movf    led_display_seq, W
11AB   3915           04321         andlw   0x15
11AC   00A3           04322         movwf   LED4
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 88


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

11AD   2???           04323         goto    led_mode_6_done                 
11AE                  04324 led_mode_6_7
11AE   083B           04325         movf    sequence, W
11AF   3A07           04326         xorlw   0x07
11B0   1D03           04327         btfss   STATUS, Z
11B1   2???           04328         goto    led_mode_6_8
11B2   01A0           04329         clrf    LED1
11B3   083D           04330         movf    led_display_seq, W
11B4   00A1           04331         movwf   LED2
11B5   083D           04332         movf    led_display_seq, W
11B6   3915           04333         andlw   0x15
11B7   00A2           04334         movwf   LED3
11B8   01A3           04335         clrf    LED4
11B9   2???           04336         goto    led_mode_6_done                 
11BA                  04337 led_mode_6_8
11BA   083B           04338         movf    sequence, W
11BB   3A08           04339         xorlw   0x08
11BC   1D03           04340         btfss   STATUS, Z
11BD   2???           04341         goto    led_mode_6_9
11BE   083D           04342         movf    led_display_seq, W
11BF   00A0           04343         movwf   LED1
11C0   083D           04344         movf    led_display_seq, W
11C1   3915           04345         andlw   0x15
11C2   00A1           04346         movwf   LED2
11C3   01A2           04347         clrf    LED3
11C4   01A3           04348         clrf    LED4
11C5   2???           04349         goto    led_mode_6_done                 
11C6                  04350 led_mode_6_9
11C6   083B           04351         movf    sequence, W
11C7   3A09           04352         xorlw   0x09
11C8   1D03           04353         btfss   STATUS, Z
11C9   2???           04354         goto    led_mode_6_A
11CA   083D           04355         movf    led_display_seq, W
11CB   00A0           04356         movwf   LED1
11CC   01A1           04357         clrf    LED2
11CD   01A2           04358         clrf    LED3
11CE   01A3           04359         clrf    LED4
11CF   30FF           04360         movlw   0xFF
11D0   00BB           04361         movwf   sequence                        ; end of loop
                      04362 
                      04363         ; update led_seq
11D1   083D           04364         movf    led_display_seq, W
11D2   3A03           04365         xorlw   0x03
11D3   1D03           04366         btfss   STATUS, Z
11D4   2???           04367         goto    led_mode_6_update2_0C
11D5   300C           04368         movlw   0x0C
11D6   00BD           04369         movwf   led_display_seq
11D7   2???           04370         goto    led_mode_6_update2_done
11D8                  04371 led_mode_6_update2_0C
11D8   083D           04372         movf    led_display_seq, W
11D9   3A0C           04373         xorlw   0x0C
11DA   1D03           04374         btfss   STATUS, Z
11DB   2???           04375         goto    led_mode_6_update2_30
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 89


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

11DC   3030           04376         movlw   0x30
11DD   00BD           04377         movwf   led_display_seq
11DE   2???           04378         goto    led_mode_6_update2_done
11DF                  04379 led_mode_6_update2_30
11DF   3003           04380         movlw   0x03
11E0   00BD           04381         movwf   led_display_seq
11E1                  04382 led_mode_6_update2_done
                      04383         
11E1   2???           04384         goto    led_mode_6_done                 
11E2                  04385 led_mode_6_A
11E2   01BB           04386         clrf    sequence                        ; past the end of the loop clear seq    
11E3                  04387 led_mode_6_done         
11E3   0ABB           04388         incf    sequence, F
                      04389         ; set up next led timer
11E4   086F           04390         movf    speed_high, W
11E5   00BA           04391         movwf   led_timer_high
11E6   086E           04392         movf    speed_low, W
11E7   00B9           04393         movwf   led_timer_low
11E8   2???           04394         goto    skip_leds
                      04395         
                      04396         
11E9                  04397 led_mode_7      
11E9   086D           04398         movf    led_mode_reg, W
11EA   3A07           04399         xorlw   0x07
11EB   1D03           04400         btfss   STATUS, Z
11EC   2???           04401         goto    led_mode_8
                      04402 
                      04403         
                      04404         ; update led_seq
11ED   083D           04405         movf    led_display_seq, W
                      04406         ; make sure W does not skip past the end of the list
11EE   3C14           04407         sublw   0x14                ; W <= k, C = 1
11EF   1C03           04408         btfss   STATUS, C
11F0   01BD           04409         clrf    led_display_seq
11F1   083D           04410         movf    led_display_seq, W      
11F2   2???           04411         call    _RGB_rotate
11F3   3915           04412         andlw   0x15
11F4   00BE           04413         movwf   temp2
11F5   0ABD           04414         incf    led_display_seq, F
11F6   083D           04415         movf    led_display_seq, W
                      04416         ; make sure W does not skip past the end of the list
11F7   3C14           04417         sublw   0x14                ; W <= k, C = 1
11F8   1C03           04418         btfss   STATUS, C
11F9   01BD           04419         clrf    led_display_seq
11FA   083D           04420         movf    led_display_seq, W      
11FB   2???           04421         call    _RGB_rotate
11FC   00BF           04422         movwf   temp3   
                      04423         
                      04424         ; Larson custom RGB swap on every led
11FD   083B           04425         movf    sequence, W
11FE   1D03           04426         btfss   STATUS, Z
11FF   2???           04427         goto    led_mode_7_1
1200   083F           04428         movf    temp3, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 90


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1201   00A0           04429         movwf   LED1
1202   01A1           04430         clrf    LED2
1203   01A2           04431         clrf    LED3
1204   01A3           04432         clrf    LED4
1205   2???           04433         goto    led_mode_7_done                 
1206                  04434 led_mode_7_1    
1206   083B           04435         movf    sequence, W
1207   3A01           04436         xorlw   0x01
1208   1D03           04437         btfss   STATUS, Z
1209   2???           04438         goto    led_mode_7_2
120A   083E           04439         movf    temp2, W
120B   00A0           04440         movwf   LED1
120C   083F           04441         movf    temp3, W
120D   00A1           04442         movwf   LED2
120E   01A2           04443         clrf    LED3
120F   01A3           04444         clrf    LED4
1210   2???           04445         goto    led_mode_7_done                 
1211                  04446 led_mode_7_2
1211   083B           04447         movf    sequence, W
1212   3A02           04448         xorlw   0x02
1213   1D03           04449         btfss   STATUS, Z
1214   2???           04450         goto    led_mode_7_3
1215   01A0           04451         clrf    LED1
1216   083E           04452         movf    temp2, W
1217   00A1           04453         movwf   LED2
1218   083F           04454         movf    temp3, W
1219   00A2           04455         movwf   LED3
121A   01A3           04456         clrf    LED4
121B   2???           04457         goto    led_mode_7_done                 
121C                  04458 led_mode_7_3
121C   083B           04459         movf    sequence, W
121D   3A03           04460         xorlw   0x03
121E   1D03           04461         btfss   STATUS, Z
121F   2???           04462         goto    led_mode_7_4
1220   01A0           04463         clrf    LED1
1221   01A1           04464         clrf    LED2
1222   083E           04465         movf    temp2, W
1223   00A2           04466         movwf   LED3
1224   083F           04467         movf    temp3, W
1225   00A3           04468         movwf   LED4
1226   2???           04469         goto    led_mode_7_done                 
1227                  04470 led_mode_7_4
1227   083B           04471         movf    sequence, W
1228   3A04           04472         xorlw   0x04
1229   1D03           04473         btfss   STATUS, Z
122A   2???           04474         goto    led_mode_7_5
122B   01A0           04475         clrf    LED1
122C   01A1           04476         clrf    LED2
122D   01A2           04477         clrf    LED3
122E   083F           04478         movf    temp3, W
122F   00A3           04479         movwf   LED4
1230   2???           04480         goto    led_mode_7_done                 
1231                  04481 led_mode_7_5
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 91


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      04482         
1231   083B           04483         movf    sequence, W
1232   3A05           04484         xorlw   0x05
1233   1D03           04485         btfss   STATUS, Z
1234   2???           04486         goto    led_mode_7_6    
1235   01A0           04487         clrf    LED1
1236   01A1           04488         clrf    LED2
1237   01A2           04489         clrf    LED3
1238   083F           04490         movf    temp3, W
1239   00A3           04491         movwf   LED4
123A   2???           04492         goto    led_mode_7_done                 
123B                  04493 led_mode_7_6
123B   083B           04494         movf    sequence, W
123C   3A06           04495         xorlw   0x06
123D   1D03           04496         btfss   STATUS, Z
123E   2???           04497         goto    led_mode_7_7
123F   01A0           04498         clrf    LED1
1240   01A1           04499         clrf    LED2
1241   083F           04500         movf    temp3, W
1242   00A2           04501         movwf   LED3
1243   083E           04502         movf    temp2, W
1244   00A3           04503         movwf   LED4
1245   2???           04504         goto    led_mode_7_done                 
1246                  04505 led_mode_7_7
1246   083B           04506         movf    sequence, W
1247   3A07           04507         xorlw   0x07
1248   1D03           04508         btfss   STATUS, Z
1249   2???           04509         goto    led_mode_7_8
124A   01A0           04510         clrf    LED1
124B   083F           04511         movf    temp3, W
124C   00A1           04512         movwf   LED2
124D   083E           04513         movf    temp2, W
124E   00A2           04514         movwf   LED3
124F   01A3           04515         clrf    LED4
1250   2???           04516         goto    led_mode_7_done                 
1251                  04517 led_mode_7_8
1251   083B           04518         movf    sequence, W
1252   3A08           04519         xorlw   0x08
1253   1D03           04520         btfss   STATUS, Z
1254   2???           04521         goto    led_mode_7_9
1255   083F           04522         movf    temp3, W
1256   00A0           04523         movwf   LED1
1257   083E           04524         movf    temp2, W
1258   00A1           04525         movwf   LED2
1259   01A2           04526         clrf    LED3
125A   01A3           04527         clrf    LED4
125B   2???           04528         goto    led_mode_7_done                 
125C                  04529 led_mode_7_9
125C   083B           04530         movf    sequence, W
125D   3A09           04531         xorlw   0x09
125E   1D03           04532         btfss   STATUS, Z
125F   2???           04533         goto    led_mode_7_A
1260   083F           04534         movf    temp3, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 92


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1261   00A0           04535         movwf   LED1
1262   01A1           04536         clrf    LED2
1263   01A2           04537         clrf    LED3
1264   01A3           04538         clrf    LED4
1265   30FF           04539         movlw   0xFF
1266   00BB           04540         movwf   sequence                        ; end of loop   
1267   2???           04541         goto    led_mode_7_done                 
1268                  04542 led_mode_7_A
1268   01BB           04543         clrf    sequence                        ; past the end of the loop clear seq    
1269                  04544 led_mode_7_done         
1269   0ABB           04545         incf    sequence, F
                      04546         ; set up next led timer
126A   086F           04547         movf    speed_high, W
126B   00BA           04548         movwf   led_timer_high
126C   086E           04549         movf    speed_low, W
126D   00B9           04550         movwf   led_timer_low
126E   2???           04551         goto    skip_leds
                      04552         
126F                  04553 led_mode_8
126F   086D           04554         movf    led_mode_reg, W
1270   3A08           04555         xorlw   0x08
1271   1D03           04556         btfss   STATUS, Z
1272   2???           04557         goto    led_mode_9
                      04558         ; custom color ride me
1273   083B           04559         movf    sequence, W
1274   2???           04560         call    _RIDE_ME
1275   00BF           04561         movwf   temp3
1276   1CBF           04562         btfss   temp3, 1
1277   2???           04563         goto    led_move_8_dot
1278   086A           04564         movf    cust_led3, W
1279   00A0           04565         movwf   LED1
127A   00A1           04566         movwf   LED2
127B   00A2           04567         movwf   LED3
127C   00A3           04568         movwf   LED4
127D   2???           04569         goto    led_move_8_done
127E                  04570 led_move_8_dot
127E   1C3F           04571         btfss   temp3, 0
127F   2???           04572         goto    led_move_8_gap
1280   0869           04573         movf    cust_led4, W
1281   00A0           04574         movwf   LED1
1282   00A1           04575         movwf   LED2
1283   00A2           04576         movwf   LED3
1284   00A3           04577         movwf   LED4
1285   2???           04578         goto    led_move_8_done
1286                  04579 led_move_8_gap
1286   01A0           04580         clrf    LED1
1287   01A1           04581         clrf    LED2
1288   01A2           04582         clrf    LED3
1289   01A3           04583         clrf    LED4    
128A                  04584 led_move_8_done 
128A   0ABB           04585         incf    sequence, F
128B   083B           04586         movf    sequence, W
128C   3C33           04587         sublw   0x33                ; W <= k C = 1
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 93


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

128D   1C03           04588         btfss   STATUS, C
128E   01BB           04589         clrf    sequence        
128F   086F           04590         movf    speed_high, W
1290   00BA           04591         movwf   led_timer_high
1291   086E           04592         movf    speed_low, W
1292   00B9           04593         movwf   led_timer_low   
1293   2???           04594         goto    skip_leds       
                      04595 
1294                  04596 led_mode_9
1294   086D           04597         movf    led_mode_reg, W
1295   3A09           04598         xorlw   0x09
1296   1D03           04599         btfss   STATUS, Z
1297   2???           04600         goto    led_mode_a
1298   083D           04601         movf    led_display_seq, W
                      04602         ; make sure W does not skip past the end of the list
1299   3C14           04603         sublw   0x14                ; W <= k, C = 1
129A   1C03           04604         btfss   STATUS, C
129B   01BD           04605         clrf    led_display_seq
129C   083D           04606         movf    led_display_seq, W      
129D   2???           04607         call    _RGB_rotate
129E   00BE           04608         movwf   temp2
129F   0ABD           04609         incf    led_display_seq, F
                      04610         ; rainbow ride me
12A0   083B           04611         movf    sequence, W
12A1   2???           04612         call    _RIDE_ME
12A2   00BF           04613         movwf   temp3
12A3   1CBF           04614         btfss   temp3, 1
12A4   2???           04615         goto    led_mode_9_dot
12A5   083E           04616         movf    temp2, W
12A6   00A0           04617         movwf   LED1
12A7   00A1           04618         movwf   LED2
12A8   00A2           04619         movwf   LED3
12A9   00A3           04620         movwf   LED4
12AA   2???           04621         goto    led_mode_9_done
12AB                  04622 led_mode_9_dot
12AB   1C3F           04623         btfss   temp3, 0
12AC   2???           04624         goto    led_mode_9_gap
12AD   083E           04625         movf    temp2, W
12AE   00A0           04626         movwf   LED1
12AF   00A1           04627         movwf   LED2
12B0   00A2           04628         movwf   LED3
12B1   00A3           04629         movwf   LED4
12B2   2???           04630         goto    led_mode_9_done
12B3                  04631 led_mode_9_gap
12B3   01A0           04632         clrf    LED1
12B4   01A1           04633         clrf    LED2
12B5   01A2           04634         clrf    LED3
12B6   01A3           04635         clrf    LED4    
12B7                  04636 led_mode_9_done 
12B7   0ABB           04637         incf    sequence, F
12B8   083B           04638         movf    sequence, W
12B9   3C33           04639         sublw   0x33                ; W <= k C = 1
12BA   1C03           04640         btfss   STATUS, C
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 94


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

12BB   01BB           04641         clrf    sequence        
12BC   086F           04642         movf    speed_high, W
12BD   00BA           04643         movwf   led_timer_high
12BE   086E           04644         movf    speed_low, W
12BF   00B9           04645         movwf   led_timer_low   
12C0   2???           04646         goto    skip_leds       
                      04647 
12C1                  04648 led_mode_a      
12C1   086D           04649         movf    led_mode_reg, W
12C2   3A0A           04650         xorlw   0x0a
12C3   1D03           04651         btfss   STATUS, Z
12C4   2???           04652         goto    led_mode_b
                      04653         ; custom leds binary count
12C5   0ABB           04654         incf    sequence, F
12C6   01A0           04655         clrf    LED1
12C7   1C3B           04656         btfss   sequence, 0 
12C8   2???           04657         goto    led_mode_a_1
12C9   086C           04658         movf    cust_led1, W
12CA   00A0           04659         movwf   LED1
12CB                  04660 led_mode_a_1    
12CB   01A1           04661         clrf    LED2
12CC   1CBB           04662         btfss   sequence, 1 
12CD   2???           04663         goto    led_mode_a_2
12CE   086B           04664         movf    cust_led2, W
12CF   00A1           04665         movwf   LED2
12D0                  04666 led_mode_a_2    
12D0   01A2           04667         clrf    LED3
12D1   1D3B           04668         btfss   sequence, 2 
12D2   2???           04669         goto    led_mode_a_3
12D3   086A           04670         movf    cust_led3, W
12D4   00A2           04671         movwf   LED3
12D5                  04672 led_mode_a_3    
12D5   01A3           04673         clrf    LED4
12D6   1DBB           04674         btfss   sequence, 3 
12D7   2???           04675         goto    led_mode_a_4
12D8   0869           04676         movf    cust_led4, W
12D9   00A3           04677         movwf   LED4
12DA                  04678 led_mode_a_4
                      04679         
12DA   086F           04680         movf    speed_high, W
12DB   00BA           04681         movwf   led_timer_high
12DC   086E           04682         movf    speed_low, W
12DD   00B9           04683         movwf   led_timer_low   
                      04684         
12DE   2???           04685         goto    skip_leds
                      04686         
12DF                  04687 led_mode_b
12DF   086D           04688         movf    led_mode_reg, W
12E0   3A0B           04689         xorlw   0x0b
12E1   1D03           04690         btfss   STATUS, Z
12E2   2???           04691         goto    led_mode_c
                      04692         ; custom leds same color rainbow
12E3   083D           04693         movf    led_display_seq, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 95


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      04694         ; make sure W does not skip past the end of the list
12E4   3C14           04695         sublw   0x14                ; W <= k, C = 1
12E5   1C03           04696         btfss   STATUS, C
12E6   01BD           04697         clrf    led_display_seq
12E7   083D           04698         movf    led_display_seq, W      
12E8   2???           04699         call    _RGB_rotate
12E9   00BE           04700         movwf   temp2
12EA   0ABD           04701         incf    led_display_seq, F
12EB   0ABB           04702         incf    sequence, F
12EC   01A0           04703         clrf    LED1
12ED   1C3B           04704         btfss   sequence, 0 
12EE   2???           04705         goto    led_mode_b_1
12EF   083E           04706         movf    temp2, W
12F0   00A0           04707         movwf   LED1
12F1                  04708 led_mode_b_1    
12F1   01A1           04709         clrf    LED2
12F2   1CBB           04710         btfss   sequence, 1 
12F3   2???           04711         goto    led_mode_b_2
12F4   083E           04712         movf    temp2, W
12F5   00A1           04713         movwf   LED2
12F6                  04714 led_mode_b_2    
12F6   01A2           04715         clrf    LED3
12F7   1D3B           04716         btfss   sequence, 2 
12F8   2???           04717         goto    led_mode_b_3
12F9   083E           04718         movf    temp2, W
12FA   00A2           04719         movwf   LED3
12FB                  04720 led_mode_b_3    
12FB   01A3           04721         clrf    LED4
12FC   1DBB           04722         btfss   sequence, 3 
12FD   2???           04723         goto    led_mode_b_4
12FE   083E           04724         movf    temp2, W
12FF   00A3           04725         movwf   LED4
1300                  04726 led_mode_b_4
                      04727         
1300   086F           04728         movf    speed_high, W
1301   00BA           04729         movwf   led_timer_high
1302   086E           04730         movf    speed_low, W
1303   00B9           04731         movwf   led_timer_low   
                      04732         
1304   2???           04733         goto    skip_leds
                      04734         
1305                  04735 led_mode_c      
1305   086D           04736         movf    led_mode_reg, W
1306   3A0C           04737         xorlw   0x0c
1307   1D03           04738         btfss   STATUS, Z
1308   2???           04739         goto    led_mode_d
                      04740         ; custom leds different color rainbow
1309   0ABB           04741         incf    sequence, F
130A   01A0           04742         clrf    LED1
130B   1C3B           04743         btfss   sequence, 0 
130C   2???           04744         goto    led_mode_c_1
130D   083D           04745         movf    led_display_seq, W
                      04746         ; make sure W does not skip past the end of the list
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 96


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

130E   3C14           04747         sublw   0x14                ; W <= k, C = 1
130F   1C03           04748         btfss   STATUS, C
1310   01BD           04749         clrf    led_display_seq
1311   083D           04750         movf    led_display_seq, W      
1312   2???           04751         call    _RGB_rotate
1313   00BE           04752         movwf   temp2
1314   0ABD           04753         incf    led_display_seq, F
1315   083E           04754         movf    temp2, W
1316   00A0           04755         movwf   LED1
1317                  04756 led_mode_c_1    
1317   01A1           04757         clrf    LED2
1318   1CBB           04758         btfss   sequence, 1 
1319   2???           04759         goto    led_mode_c_2
131A   083D           04760         movf    led_display_seq, W
                      04761         ; make sure W does not skip past the end of the list
131B   3C14           04762         sublw   0x14                ; W <= k, C = 1
131C   1C03           04763         btfss   STATUS, C
131D   01BD           04764         clrf    led_display_seq
131E   083D           04765         movf    led_display_seq, W      
131F   2???           04766         call    _RGB_rotate
1320   00BE           04767         movwf   temp2
1321   0ABD           04768         incf    led_display_seq, F      
1322   083E           04769         movf    temp2, W
1323   00A1           04770         movwf   LED2
1324                  04771 led_mode_c_2    
1324   01A2           04772         clrf    LED3
1325   1D3B           04773         btfss   sequence, 2 
1326   2???           04774         goto    led_mode_c_3
1327   083D           04775         movf    led_display_seq, W
                      04776         ; make sure W does not skip past the end of the list
1328   3C14           04777         sublw   0x14                ; W <= k, C = 1
1329   1C03           04778         btfss   STATUS, C
132A   01BD           04779         clrf    led_display_seq
132B   083D           04780         movf    led_display_seq, W      
132C   2???           04781         call    _RGB_rotate
132D   00BE           04782         movwf   temp2
132E   0ABD           04783         incf    led_display_seq, F
132F   083E           04784         movf    temp2, W
1330   00A2           04785         movwf   LED3
1331                  04786 led_mode_c_3    
1331   01A3           04787         clrf    LED4
1332   1DBB           04788         btfss   sequence, 3 
1333   2???           04789         goto    led_mode_c_4
1334   083D           04790         movf    led_display_seq, W
                      04791         ; make sure W does not skip past the end of the list
1335   3C14           04792         sublw   0x14                ; W <= k, C = 1
1336   1C03           04793         btfss   STATUS, C
1337   01BD           04794         clrf    led_display_seq
1338   083D           04795         movf    led_display_seq, W      
1339   2???           04796         call    _RGB_rotate
133A   00BE           04797         movwf   temp2
133B   0ABD           04798         incf    led_display_seq, F
133C   083E           04799         movf    temp2, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 97


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

133D   00A3           04800         movwf   LED4
133E                  04801 led_mode_c_4
                      04802         
133E   086F           04803         movf    speed_high, W
133F   00BA           04804         movwf   led_timer_high
1340   086E           04805         movf    speed_low, W
1341   00B9           04806         movwf   led_timer_low   
                      04807         
1342   2???           04808         goto    skip_leds
                      04809         
1343                  04810 led_mode_d
1343   086D           04811         movf    led_mode_reg, W
1344   3A0D           04812         xorlw   0x0d
1345   1D03           04813         btfss   STATUS, Z
1346   2???           04814         goto    led_mode_e
                      04815         ; custom leds binary count
1347   0ABB           04816         incf    sequence, F
1348   01A0           04817         clrf    LED1
1349   1DBB           04818         btfss   sequence, 3 
134A   2???           04819         goto    led_mode_d_1
134B   086C           04820         movf    cust_led1, W
134C   00A0           04821         movwf   LED1
134D                  04822 led_mode_d_1    
134D   01A1           04823         clrf    LED2
134E   1D3B           04824         btfss   sequence, 2 
134F   2???           04825         goto    led_mode_d_2
1350   086B           04826         movf    cust_led2, W
1351   00A1           04827         movwf   LED2
1352                  04828 led_mode_d_2    
1352   01A2           04829         clrf    LED3
1353   1CBB           04830         btfss   sequence, 1 
1354   2???           04831         goto    led_mode_d_3
1355   086A           04832         movf    cust_led3, W
1356   00A2           04833         movwf   LED3
1357                  04834 led_mode_d_3    
1357   01A3           04835         clrf    LED4
1358   1C3B           04836         btfss   sequence, 0 
1359   2???           04837         goto    led_mode_d_4
135A   0869           04838         movf    cust_led4, W
135B   00A3           04839         movwf   LED4
135C                  04840 led_mode_d_4
                      04841         
135C   086F           04842         movf    speed_high, W
135D   00BA           04843         movwf   led_timer_high
135E   086E           04844         movf    speed_low, W
135F   00B9           04845         movwf   led_timer_low   
                      04846         
1360   2???           04847         goto    skip_leds
                      04848         
1361                  04849 led_mode_e
1361   086D           04850         movf    led_mode_reg, W
1362   3A0E           04851         xorlw   0x0e
1363   1D03           04852         btfss   STATUS, Z
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 98


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1364   2???           04853         goto    led_mode_f
                      04854         ; custom leds same color rainbow
1365   083D           04855         movf    led_display_seq, W
                      04856         ; make sure W does not skip past the end of the list
1366   3C14           04857         sublw   0x14                ; W <= k, C = 1
1367   1C03           04858         btfss   STATUS, C
1368   01BD           04859         clrf    led_display_seq
1369   083D           04860         movf    led_display_seq, W      
136A   2???           04861         call    _RGB_rotate
136B   00BE           04862         movwf   temp2
136C   0ABD           04863         incf    led_display_seq, F
136D   0ABB           04864         incf    sequence, F
136E   01A0           04865         clrf    LED1
136F   1DBB           04866         btfss   sequence, 3 
1370   2???           04867         goto    led_mode_e_1
1371   083E           04868         movf    temp2, W
1372   00A0           04869         movwf   LED1
1373                  04870 led_mode_e_1    
1373   01A1           04871         clrf    LED2
1374   1D3B           04872         btfss   sequence, 2 
1375   2???           04873         goto    led_mode_e_2
1376   083E           04874         movf    temp2, W
1377   00A1           04875         movwf   LED2
1378                  04876 led_mode_e_2    
1378   01A2           04877         clrf    LED3
1379   1CBB           04878         btfss   sequence, 1 
137A   2???           04879         goto    led_mode_e_3
137B   083E           04880         movf    temp2, W
137C   00A2           04881         movwf   LED3
137D                  04882 led_mode_e_3    
137D   01A3           04883         clrf    LED4
137E   1C3B           04884         btfss   sequence, 0 
137F   2???           04885         goto    led_mode_e_4
1380   083E           04886         movf    temp2, W
1381   00A3           04887         movwf   LED4
1382                  04888 led_mode_e_4
                      04889         
1382   086F           04890         movf    speed_high, W
1383   00BA           04891         movwf   led_timer_high
1384   086E           04892         movf    speed_low, W
1385   00B9           04893         movwf   led_timer_low   
                      04894         
1386   2???           04895         goto    skip_leds
                      04896         
1387                  04897 led_mode_f      
1387   086D           04898         movf    led_mode_reg, W
1388   3A0F           04899         xorlw   0x0f
1389   1D03           04900         btfss   STATUS, Z
138A   2???           04901         goto    led_mode_10
                      04902         ; custom leds different color rainbow
138B   0ABB           04903         incf    sequence, F
138C   01A0           04904         clrf    LED1
138D   1DBB           04905         btfss   sequence, 3 
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 99


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

138E   2???           04906         goto    led_mode_f_1
138F   083D           04907         movf    led_display_seq, W
                      04908         ; make sure W does not skip past the end of the list
1390   3C14           04909         sublw   0x14                ; W <= k, C = 1
1391   1C03           04910         btfss   STATUS, C
1392   01BD           04911         clrf    led_display_seq
1393   083D           04912         movf    led_display_seq, W      
1394   2???           04913         call    _RGB_rotate
1395   00BE           04914         movwf   temp2
1396   0ABD           04915         incf    led_display_seq, F
1397   083E           04916         movf    temp2, W
1398   00A0           04917         movwf   LED1
1399                  04918 led_mode_f_1    
1399   01A1           04919         clrf    LED2
139A   1D3B           04920         btfss   sequence, 2 
139B   2???           04921         goto    led_mode_f_2
139C   083D           04922         movf    led_display_seq, W
                      04923         ; make sure W does not skip past the end of the list
139D   3C14           04924         sublw   0x14                ; W <= k, C = 1
139E   1C03           04925         btfss   STATUS, C
139F   01BD           04926         clrf    led_display_seq
13A0   083D           04927         movf    led_display_seq, W      
13A1   2???           04928         call    _RGB_rotate
13A2   00BE           04929         movwf   temp2
13A3   0ABD           04930         incf    led_display_seq, F      
13A4   083E           04931         movf    temp2, W
13A5   00A1           04932         movwf   LED2
13A6                  04933 led_mode_f_2    
13A6   01A2           04934         clrf    LED3
13A7   1CBB           04935         btfss   sequence, 1 
13A8   2???           04936         goto    led_mode_f_3
13A9   083D           04937         movf    led_display_seq, W
                      04938         ; make sure W does not skip past the end of the list
13AA   3C14           04939         sublw   0x14                ; W <= k, C = 1
13AB   1C03           04940         btfss   STATUS, C
13AC   01BD           04941         clrf    led_display_seq
13AD   083D           04942         movf    led_display_seq, W      
13AE   2???           04943         call    _RGB_rotate
13AF   00BE           04944         movwf   temp2
13B0   0ABD           04945         incf    led_display_seq, F
13B1   083E           04946         movf    temp2, W
13B2   00A2           04947         movwf   LED3
13B3                  04948 led_mode_f_3    
13B3   01A3           04949         clrf    LED4
13B4   1C3B           04950         btfss   sequence, 0 
13B5   2???           04951         goto    led_mode_f_4
13B6   083D           04952         movf    led_display_seq, W
                      04953         ; make sure W does not skip past the end of the list
13B7   3C14           04954         sublw   0x14                ; W <= k, C = 1
13B8   1C03           04955         btfss   STATUS, C
13B9   01BD           04956         clrf    led_display_seq
13BA   083D           04957         movf    led_display_seq, W      
13BB   2???           04958         call    _RGB_rotate
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 100


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

13BC   00BE           04959         movwf   temp2
13BD   0ABD           04960         incf    led_display_seq, F
13BE   083E           04961         movf    temp2, W
13BF   00A3           04962         movwf   LED4
13C0                  04963 led_mode_f_4
                      04964         
13C0   086F           04965         movf    speed_high, W
13C1   00BA           04966         movwf   led_timer_high
13C2   086E           04967         movf    speed_low, W
13C3   00B9           04968         movwf   led_timer_low   
                      04969         
13C4   2???           04970         goto    skip_leds
                      04971         
13C5                  04972 led_mode_10     
                      04973         
                      04974         
                      04975         ; TODO check led mode here
                      04976         
                      04977                 
                      04978         ; default mode if no other matches (rainbow left)
13C5   083B           04979         movf    sequence, W
13C6   2???           04980         call    _RGB_rotate
13C7   00A0           04981         movwf   LED1
13C8   083B           04982         movf    sequence, W
13C9   3E01           04983         addlw   0x01
13CA   2???           04984         call    _RGB_rotate
13CB   00A1           04985         movwf   LED2
13CC   083B           04986         movf    sequence, W
13CD   3E02           04987         addlw   0x02
13CE   2???           04988         call    _RGB_rotate
13CF   00A2           04989         movwf   LED3
13D0   083B           04990         movf    sequence, W
13D1   3E03           04991         addlw   0x03
13D2   2???           04992         call    _RGB_rotate
13D3   00A3           04993         movwf   LED4
13D4   0ABB           04994         incf    sequence, F
13D5   083B           04995         movf    sequence, W
13D6   3C11           04996         sublw   0x11                ; W <= k C = 1
13D7   1C03           04997         btfss   STATUS, C
13D8   01BB           04998         clrf    sequence        
13D9   086F           04999         movf    speed_high, W
13DA   00BA           05000         movwf   led_timer_high
13DB   086E           05001         movf    speed_low, W
13DC   00B9           05002         movwf   led_timer_low
                      05003         
13DD                  05004 skip_leds
                      05005         
                      05006         ; TODO add motor control here
                      05007 
13DD   3018           05008         movlw   0x18
13DE   008A           05009         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
13DF   2???           05010         goto    MAINLOOP_VIBE           ; jump down to the vibe checks
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 101


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      05011         
                      05012 
                      05013 
                      05014     
13E0                  05015 ENDLOOP
13E0   2???           05016         goto    ENDLOOP
                      05017 
                      05018         
                      05019 
                      05020 ;#########################################################      
                      05021 ; RGB_rotate Picks the correct value for the led based on the seq number in W
                      05022 ;#########################################################      
13E1                  05023 _RIDE_ME
                      05024         ; make sure W does not skip past the end of the list
13E1   00C0           05025         movwf   call_temp
13E2   3C33           05026         sublw   0x33                ; W <= k, C = 1
13E3   1C03           05027         btfss   STATUS, C
13E4   01C0           05028         clrf    call_temp
13E5   0840           05029         movf    call_temp, W
13E6   000B           05030         brw
13E7   3401           05031         retlw   0x01                ; Dot
13E8   3400           05032         retlw   0x00                ; gap
13E9   3403           05033         retlw   0x03                ; Dash
13EA   3403           05034         retlw   0x03                ; Dash
13EB   3403           05035         retlw   0x03                ; Dash
13EC   3400           05036         retlw   0x00                ; gap
13ED   3401           05037         retlw   0x01                ; Dot
13EE   3400           05038         retlw   0x00                ; char end
13EF   3400           05039         retlw   0x00                ; char end
13F0   3400           05040         retlw   0x00                ; char end
13F1   3401           05041         retlw   0x01                ; Dot
13F2   3400           05042         retlw   0x00                ; gap
13F3   3401           05043         retlw   0x01                ; Dot
13F4   3400           05044         retlw   0x00                ; char end
13F5   3400           05045         retlw   0x00                ; char end
13F6   3400           05046         retlw   0x00                ; char end
13F7   3403           05047         retlw   0x03                ; Dash
13F8   3403           05048         retlw   0x03                ; Dash
13F9   3403           05049         retlw   0x03                ; Dash
13FA   3400           05050         retlw   0x00                ; gap
13FB   3401           05051         retlw   0x01                ; Dot
13FC   3400           05052         retlw   0x00                ; gap
13FD   3401           05053         retlw   0x01                ; Dot
13FE   3400           05054         retlw   0x00                ; char end
13FF   3400           05055         retlw   0x00                ; char end
1400   3400           05056         retlw   0x00                ; char end
1401   3401           05057         retlw   0x01                ; Dot
1402   3400           05058         retlw   0x00                ; space
1403   3400           05059         retlw   0x00                ; space
1404   3400           05060         retlw   0x00                ; space
1405   3400           05061         retlw   0x00                ; space
1406   3400           05062         retlw   0x00                ; space
1407   3400           05063         retlw   0x00                ; space
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 102


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1408   3400           05064         retlw   0x00                ; space
1409   3403           05065         retlw   0x03                ; Dash
140A   3403           05066         retlw   0x03                ; Dash
140B   3403           05067         retlw   0x03                ; Dash
140C   3400           05068         retlw   0x00                ; gap
140D   3403           05069         retlw   0x03                ; Dash
140E   3403           05070         retlw   0x03                ; Dash
140F   3403           05071         retlw   0x03                ; Dash
1410   3400           05072         retlw   0x00                ; char end
1411   3400           05073         retlw   0x00                ; char end
1412   3400           05074         retlw   0x00                ; char end
1413   3401           05075         retlw   0x01                ; Dot
1414   3400           05076         retlw   0x00                ; space
1415   3400           05077         retlw   0x00                ; space
1416   3400           05078         retlw   0x00                ; space
1417   3400           05079         retlw   0x00                ; space
1418   3400           05080         retlw   0x00                ; space
1419   3400           05081         retlw   0x00                ; space
141A   3400           05082         retlw   0x00                ; space
                      05083         
                      05084 ;#########################################################      
                      05085 ; RGB_rotate Picks the correct value for the led based on the seq number in W
                      05086 ;#########################################################      
141B                  05087 _RGB_rotate
                      05088         ; make sure W does not skip past the end of the list
141B   00C0           05089         movwf   call_temp
141C   3C14           05090         sublw   0x14                ; W <= k, C = 1
141D   1C03           05091         btfss   STATUS, C
141E   01C0           05092         clrf    call_temp
141F   0840           05093         movf    call_temp, W
1420   000B           05094         brw
1421   3403           05095         retlw   0x03
1422   3407           05096         retlw   0x07
1423   340B           05097         retlw   0x0B
1424   340F           05098         retlw   0x0F
1425   340E           05099         retlw   0x0E
1426   340D           05100         retlw   0x0D
1427   340C           05101         retlw   0x0C
1428   341C           05102         retlw   0x1C
1429   342C           05103         retlw   0x2C
142A   343C           05104         retlw   0x3C
142B   3438           05105         retlw   0x38
142C   3434           05106         retlw   0x34
142D   3430           05107         retlw   0x30
142E   3431           05108         retlw   0x31
142F   3432           05109         retlw   0x32
1430   3433           05110         retlw   0x33
1431   3423           05111         retlw   0x23
1432   3413           05112         retlw   0x13
1433   3403           05113         retlw   0x03
1434   3407           05114         retlw   0x07
1435   340B           05115         retlw   0x0B
                      05116         
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 103


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      05117 ;#########################################################
                      05118 ; cycle the LFSR generator 8 bits and return the new result in W
                      05119 ; assumes user is in bank 0 before calling!!
                      05120 ;#########################################################
1436                  05121 _CYCLE_LFSR
                      05122         ;------------------
1436   3002           05123         movlw   d'2'
1437   0088           05124         movwf   BSR             
                      05125         ;------------------
                      05126         ; seed register with inial value
1438   1040           05127         bcf             call_temp, 0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1439   1820           05128         btfsc   LFSR_0, 0
143A   1440           05129         bsf             call_temp, 0
                      05130         ; test bit invert result if set
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
143B   1920           05131         btfsc   LFSR_0, 2
143C   09C0           05132         comf    call_temp, f
                      05133         ; test bit invert result if set
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
143D   1B20           05134         btfsc   LFSR_0, 6
143E   09C0           05135         comf    call_temp, f
                      05136         ; test bit invert result if set
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
143F   1BA0           05137         btfsc   LFSR_0, 7
1440   09C0           05138         comf    call_temp, f
                      05139         
                      05140         ; set carry bit
1441   1003           05141         bcf             STATUS, C
1442   1840           05142         btfsc   call_temp, 0
1443   1403           05143         bsf             STATUS, C
                      05144         
                      05145         ; rotat the bits 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1444   0CA3           05146         rrf             LFSR_3, F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1445   0CA2           05147         rrf             LFSR_2, F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1446   0CA1           05148         rrf             LFSR_1, F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1447   0CA0           05149         rrf             LFSR_0, F
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
1448   0820           05150         movf    LFSR_0, W
                      05151         ;------------------
1449   0188           05152         clrf    BSR             
                      05153         ;------------------
144A   0008           05154         return
                      05155 
                      05156         
                      05157         
                      05158 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
                      05159 ; start of page 1
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 104


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      05160         org             1800h
                      05161 ;-------------------------------------------------------------------------------------------------------
                            -----------------------------------------------------------------------------
                      05162         
                      05163         ; ************************************************************
1800                  05164 MAINLOOP_VIBE   
                      05165         ; verfiy not in control mode
1800   0837           05166         movf    mode_ctl, W
1801   1D03           05167         btfss   STATUS, Z       
1802   2???           05168         goto    VIBE_done
                      05169         
                      05170         ; check if vibe cycle is running
1803   0844           05171         movf    vibe_cycle, W
1804   1903           05172         btfsc   STATUS, Z
1805   2???           05173         goto    VIBE_done
                      05174 
                      05175         ; check if the led timers have expired yet
Message[305]: Using default destination of 1 (file).
1806   08C6           05176         movf    vibe_timer_high
1807   1D03           05177         btfss   STATUS, Z
1808   2???           05178         goto    VIBE_done
Message[305]: Using default destination of 1 (file).
1809   08C5           05179         movf    vibe_timer_low
180A   1D03           05180         btfss   STATUS, Z
180B   2???           05181         goto    VIBE_done
                      05182         
                      05183         ; check subloop counter if 0 
Message[305]: Using default destination of 1 (file).
180C   08CA           05184         movf    vibe_subloop
180D   1D03           05185         btfss   STATUS, Z
180E   2???           05186         goto    VIBE_subloop    
                      05187         
                      05188         ; check if vibe_sequence is > vibe_stop if so stop and reset seq
180F   0847           05189         movf    vibe_sequence, W
1810   0248           05190         subwf   vibe_stop, W                            ; F - W, W > F C = 0, W <= F C = 1
1811   1803           05191         btfsc   STATUS, C
1812   2???           05192         goto    VIBE_next
1813   01C7           05193         clrf    vibe_sequence
1814   03C4           05194         decf    vibe_cycle, F
                      05195         ; if vibe cycle is 0 done with loops disable motors
1815   0844           05196         movf    vibe_cycle, W
1816   1D03           05197         btfss   STATUS, Z
1817   2???           05198         goto    VIBE_done       
1818   3000           05199         movlw   0x00
1819   2???           05200         call    _Set_M1
181A   3000           05201         movlw   0x00
181B   2???           05202         call    _Set_M2
181C   2???           05203         goto    VIBE_done
                      05204         
                      05205         ; sub delay expired set up next pattern in seq  
181D                  05206 VIBE_next
                      05207         
                      05208         ; check which pattern to use here vibe_mode             
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 105


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

181D   0868           05209         movf    vibe_mode, W
181E   3A01           05210         xorlw   0x01
181F   1D03           05211         btfss   STATUS, Z
1820   2???           05212         goto    VIBE_option_2
1821   0847           05213         movf    vibe_sequence, W
1822   2???           05214         call    _VIBE_up_down_stop
1823   2???           05215         goto    VIBE_option_done
1824                  05216 VIBE_option_2
1824   0868           05217         movf    vibe_mode, W
1825   3A02           05218         xorlw   0x02
1826   1D03           05219         btfss   STATUS, Z
1827   2???           05220         goto    VIBE_option_3
1828   0847           05221         movf    vibe_sequence, W
1829   2???           05222         call    _VIBE_up_down_dual      
182A   2???           05223         goto    VIBE_option_done
182B                  05224 VIBE_option_3
                      05225 
                      05226         
                      05227 
                      05228         ; default option
182B   0847           05229         movf    vibe_sequence, W
182C   2???           05230         call    _VIBE_up_down           
182D                  05231 VIBE_option_done        
                      05232         
                      05233         
                      05234 
                      05235         ; load pattern into M1, M2, and subloop counter
182D   00C9           05236         movwf   vibe_temp
182E   2???           05237         call    _Set_M1
182F   1003           05238         bcf             STATUS, C
1830   0CC9           05239         rrf             vibe_temp, F
1831   1003           05240         bcf             STATUS, C
1832   0CC9           05241         rrf             vibe_temp, F
1833   1003           05242         bcf             STATUS, C
1834   0CC9           05243         rrf             vibe_temp, F
1835   0849           05244         movf    vibe_temp, W
1836   2???           05245         call    _Set_M2
1837   1003           05246         bcf             STATUS, C
1838   0CC9           05247         rrf             vibe_temp, F
1839   1003           05248         bcf             STATUS, C
183A   0CC9           05249         rrf             vibe_temp, F
183B   1003           05250         bcf             STATUS, C
183C   0CC9           05251         rrf             vibe_temp, F
183D   0A49           05252         incf    vibe_temp, W
183E   00CA           05253         movwf   vibe_subloop
183F   0AC7           05254         incf    vibe_sequence, F
                      05255         
1840                  05256 VIBE_subloop
Message[305]: Using default destination of 1 (file).
1840   03CA           05257         decf    vibe_subloop
1841   0866           05258         movf    vibe_speed_h, W
1842   00C6           05259         movwf   vibe_timer_high
1843   0865           05260         movf    vibe_speed_l, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 106


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1844   00C5           05261         movwf   vibe_timer_low          
                      05262         
1845                  05263 VIBE_done
1845   3008           05264         movlw   0x08
1846   008A           05265         movwf   PCLATH                          ; set upper bits of the address so next goto jumps to th
                            e next page     
1847   2???           05266         goto    MAINLOOP                        ; TOOD make this jump down to vibe checks
                      05267 
                      05268         
                      05269 
                      05270 ;#########################################################      
                      05271 ; simple vibe up down on one motor
                      05272 ;#########################################################      
1848                  05273 _VIBE_up_down_dual
1848   00C0           05274         movwf   call_temp
                      05275         ; move stop count to vibe_stop
1849   301B           05276         movlw   0x1B
184A   00C8           05277         movwf   vibe_stop
                      05278         ; make sure W does not skip past the end of the list
184B   0840           05279         movf    call_temp, W
184C   3C1B           05280         sublw   0x1B                ; W <= k, C = 1
184D   1C03           05281         btfss   STATUS, C
184E   01C0           05282         clrf    call_temp
184F   0840           05283         movf    call_temp, W
1850   000B           05284         brw
1851   3400           05285         retlw   0x00
1852   3401           05286         retlw   0x01
1853   3402           05287         retlw   0x02    
1854   3403           05288         retlw   0x03    
1855   3404           05289         retlw   0x04    
1856   3405           05290         retlw   0x05    
1857   3406           05291         retlw   0x06    
1858   3407           05292         retlw   0x07    
1859   340F           05293         retlw   0x0F    
185A   3417           05294         retlw   0x17    
185B   341F           05295         retlw   0x1F    
185C   3427           05296         retlw   0x27    
185D   342F           05297         retlw   0x2F    
185E   3437           05298         retlw   0x37
185F   343F           05299         retlw   0x3F
1860   343E           05300         retlw   0x3E
1861   343D           05301         retlw   0x3D
1862   343C           05302         retlw   0x3C    
1863   343B           05303         retlw   0x3B
1864   343A           05304         retlw   0x3A
1865   3439           05305         retlw   0x39
1866   3438           05306         retlw   0x38
1867   3430           05307         retlw   0x30
1868   3428           05308         retlw   0x28
1869   3420           05309         retlw   0x20
186A   3418           05310         retlw   0x18
186B   3410           05311         retlw   0x10
186C   3408           05312         retlw   0x08
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 107


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      05313         
                      05314         
                      05315         
                      05316 ;#########################################################      
                      05317 ; simple vibe up down on one motor
                      05318 ;#########################################################      
186D                  05319 _VIBE_up_down_stop
186D   00C0           05320         movwf   call_temp
                      05321         ; move stop count to vibe_stop
186E   300D           05322         movlw   0x0D
186F   00C8           05323         movwf   vibe_stop
                      05324         ; make sure W does not skip past the end of the list
1870   0840           05325         movf    call_temp, W
1871   3C0D           05326         sublw   0x0D                ; W <= k, C = 1
1872   1C03           05327         btfss   STATUS, C
1873   01C0           05328         clrf    call_temp
1874   0840           05329         movf    call_temp, W
1875   000B           05330         brw
1876   3400           05331         retlw   0x00
1877   3401           05332         retlw   0x01
1878   3402           05333         retlw   0x02    
1879   3403           05334         retlw   0x03    
187A   3404           05335         retlw   0x04    
187B   3405           05336         retlw   0x05    
187C   3406           05337         retlw   0x06    
187D   3407           05338         retlw   0x07    
187E   3406           05339         retlw   0x06    
187F   3405           05340         retlw   0x05    
1880   3404           05341         retlw   0x04    
1881   3403           05342         retlw   0x03    
1882   3402           05343         retlw   0x02    
1883   3401           05344         retlw   0x01
                      05345 
                      05346 ;#########################################################      
                      05347 ; simple vibe up down on one motor
                      05348 ;#########################################################      
1884                  05349 _VIBE_up_down
1884   00C0           05350         movwf   call_temp
                      05351         ; move stop count to vibe_stop
1885   300B           05352         movlw   0x0B
1886   00C8           05353         movwf   vibe_stop
                      05354         ; make sure W does not skip past the end of the list
1887   0840           05355         movf    call_temp, W
1888   3C0B           05356         sublw   0x0B                ; W <= k, C = 1
1889   1C03           05357         btfss   STATUS, C
188A   01C0           05358         clrf    call_temp
188B   0840           05359         movf    call_temp, W
188C   000B           05360         brw
188D   3401           05361         retlw   0x01
188E   3402           05362         retlw   0x02    
188F   3403           05363         retlw   0x03    
1890   3404           05364         retlw   0x04    
1891   3405           05365         retlw   0x05    
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 108


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

1892   3406           05366         retlw   0x06    
1893   3407           05367         retlw   0x07    
1894   3406           05368         retlw   0x06    
1895   3405           05369         retlw   0x05    
1896   3404           05370         retlw   0x04    
1897   3403           05371         retlw   0x03    
1898   3402           05372         retlw   0x02    
                      05373         
                      05374         
                      05375 ;#########################################################      
                      05376 ; set PWM engine controlling motor off + 7 PWM levels
                      05377 ;#########################################################      
1899                  05378 _Set_M1 
                      05379         ; mask off then save W
1899   3907           05380         andlw   0x07
189A   00F1           05381         movwf   gtemp
                      05382         
                      05383         ; save the BSR
189B   0808           05384         movf    BSR, W
189C   00F0           05385         movwf   bsr_save
                      05386         
                      05387         ; check if set value is 0 (turn off motor)
189D   08F1           05388         movf    gtemp, F
189E   1D03           05389         btfss   STATUS, Z
189F   2???           05390         goto    Set_M1_on
                      05391         ;------------------
18A0   0188           05392         clrf    BSR
                      05393         ;------------------
18A1   1513           05394         bsf             TRISB, 2                    ; PWM output off (tristate). 
18A2   2???           05395         goto    Set_M1_done
                      05396         
18A3                  05397 Set_M1_on       
                      05398         ;------------------
18A3   3006           05399         movlw   d'6'
18A4   0088           05400         movwf   BSR             
                      05401         ;------------------     
                      05402         ; set up PWM engine
18A5   1003           05403         bcf             STATUS, C
18A6   0DF1           05404         rlf             gtemp, F
18A7   0DF1           05405         rlf             gtemp, F
18A8   0D71           05406         rlf             gtemp, W                        
18A9   3E63           05407         addlw   0x63                            ; min speed seems to be around 0x70 @ 3V in. Max speed i
                            s 0xD3 at any input voltage (PR2 of the timer) 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
18AA   0095           05408         movwf   PWM3DCH 
                      05409         ;------------------
18AB   0188           05410         clrf    BSR
                      05411         ;------------------
18AC   1113           05412         bcf             TRISB, 2                    ; PWM output on. 
                      05413         
18AD                  05414 Set_M1_done     
                      05415         ; restore BSR
18AD   0870           05416         movf    bsr_save, W
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 109


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

18AE   0088           05417         movwf   BSR
                      05418         
18AF   0008           05419         return
                      05420 
                      05421 ;#########################################################      
                      05422 ; set PWM engine controlling motor off + 7 PWM levels
                      05423 ;#########################################################      
18B0                  05424 _Set_M2 
                      05425         ; mask off then save W
18B0   3907           05426         andlw   0x07
18B1   00F1           05427         movwf   gtemp
                      05428         
                      05429         ; save the BSR
18B2   0808           05430         movf    BSR, W
18B3   00F0           05431         movwf   bsr_save
                      05432         
                      05433         ; check if set value is 0 (turn off motor)
18B4   08F1           05434         movf    gtemp, F
18B5   1D03           05435         btfss   STATUS, Z
18B6   2???           05436         goto    Set_M2_on
                      05437         ;------------------
18B7   0188           05438         clrf    BSR
                      05439         ;------------------
18B8   1693           05440         bsf             TRISB, 5                    ; PWM output off (tristate). 
18B9   2???           05441         goto    Set_M2_done
                      05442         
18BA                  05443 Set_M2_on       
                      05444         ;------------------
18BA   3006           05445         movlw   d'6'
18BB   0088           05446         movwf   BSR             
                      05447         ;------------------     
                      05448         ; set up PWM engine
18BC   0DF1           05449         rlf             gtemp, F
18BD   0DF1           05450         rlf             gtemp, F
18BE   0D71           05451         rlf             gtemp, W                        
18BF   3E63           05452         addlw   0x63                            ; min speed seems to be around 0x70 @ 3V in. Max speed i
                            s 0xD3 at any input voltage (PR2 of the timer) 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
18C0   0099           05453         movwf   PWM4DCH 
                      05454         ;------------------
18C1   0188           05455         clrf    BSR
                      05456         ;------------------
18C2   1293           05457         bcf             TRISB, 5                    ; PWM output on. 
                      05458         
18C3                  05459 Set_M2_done     
                      05460         ; restore BSR
18C3   0870           05461         movf    bsr_save, W
18C4   0088           05462         movwf   BSR
                      05463         
18C5   0008           05464         return
                      05465         
                      05466         
                      05467         
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 110


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      05468         
                      05469         ;### end of program ###
3F8C 37FD 3F9F 1DEF 3F05470         end     
       FE 
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 111


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACKTIM                            00000007
ADACT                             0000009F
ADACT0                            00000000
ADACT1                            00000001
ADACT2                            00000002
ADACT3                            00000003
ADACT4                            00000004
ADACTPPS                          00001EC3
ADACTPPS0                         00000000
ADACTPPS1                         00000001
ADACTPPS2                         00000002
ADACTPPS3                         00000003
ADACTPPS4                         00000004
ADACTPPS5                         00000005
ADCMD                             00000005
ADCON0                            0000009D
ADCON1                            0000009E
ADCS0                             00000004
ADCS1                             00000005
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADFVR0                            00000000
ADFVR1                            00000001
ADIE                              00000000
ADIF                              00000000
ADMSK1                            00000001
ADMSK2                            00000002
ADMSK3                            00000003
ADMSK4                            00000004
ADMSK5                            00000005
ADOEN                             00000002
ADON                              00000000
ADOR                              00000002
ADPREF0                           00000000
ADPREF1                           00000001
ADRES                             0000009B
ADRESH                            0000009C
ADRESH0                           00000000
ADRESH1                           00000001
ADRESH2                           00000002
ADRESH3                           00000003
ADRESH4                           00000004
ADRESH5                           00000005
ADRESH6                           00000006
ADRESH7                           00000007
ADRESL                            0000009B
ADRESL0                           00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 112


SYMBOL TABLE
  LABEL                             VALUE 

ADRESL1                           00000001
ADRESL2                           00000002
ADRESL3                           00000003
ADRESL4                           00000004
ADRESL5                           00000005
ADRESL6                           00000006
ADRESL7                           00000007
ADTIE                             00000001
ADTIF                             00000001
AHEN                              00000001
ANSA0                             00000000
ANSA1                             00000001
ANSA2                             00000002
ANSA3                             00000003
ANSA4                             00000004
ANSA5                             00000005
ANSA6                             00000006
ANSA7                             00000007
ANSB0                             00000000
ANSB1                             00000001
ANSB2                             00000002
ANSB3                             00000003
ANSB4                             00000004
ANSB5                             00000005
ANSB6                             00000006
ANSB7                             00000007
ANSC0                             00000000
ANSC1                             00000001
ANSC2                             00000002
ANSC3                             00000003
ANSC4                             00000004
ANSC5                             00000005
ANSC6                             00000006
ANSC7                             00000007
ANSELA                            00001F38
ANSELB                            00001F43
ANSELC                            00001F4E
AS0E                              00000000
AS1E                              00000001
AS2E                              00000002
AS3E                              00000003
AS4E                              00000004
BAUD1CON                          0000011F
BAUD2CON                          00000A1F
BAUDCON                           0000011F
BAUDCON1                          0000011F
BAUDCON2                          00000A1F
BAUDCTL                           0000011F
BAUDCTL1                          0000011F
BAUDCTL2                          00000A1F
BCL1IE                            00000001
BCL1IF                            00000001
BCL2IE                            00000003
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 113


SYMBOL TABLE
  LABEL                             VALUE 

BCL2IF                            00000003
BEACON_TIME_H                     00000004
BEACON_TIME_L                     000000F6
BF                                00000000
BOEN                              00000004
BORCON                            00000811
BORRDY                            00000000
BRG16                             00000003
BRGH                              00000002
BSR                               00000008
BSR0                              00000000
BSR1                              00000001
BSR2                              00000002
BSR3                              00000003
BSR4                              00000004
BSR5                              00000005
BSR_SHAD                          00001FE6
BUTTON_DEBOUNCE                   00000002
C                                 00000000
C1EN                              00000007
C1HYS                             00000001
C1IE                              00000000
C1IF                              00000000
C1INTN                            00000000
C1INTP                            00000001
C1NCH0                            00000000
C1NCH1                            00000001
C1NCH2                            00000002
C1OUT_CM1CON0                     00000006
C1OUT_CMOUT                       00000000
C1OUT_CMSTAT                      00000000
C1PCH0                            00000000
C1PCH1                            00000001
C1PCH2                            00000002
C1POL                             00000004
C1SYNC                            00000000
C2EN                              00000007
C2HYS                             00000001
C2IE                              00000001
C2IF                              00000001
C2INTN                            00000000
C2INTP                            00000001
C2NCH0                            00000000
C2NCH1                            00000001
C2NCH2                            00000002
C2OUT_CM2CON0                     00000006
C2OUT_CMOUT                       00000001
C2OUT_CMSTAT                      00000001
C2PCH0                            00000000
C2PCH1                            00000001
C2PCH2                            00000002
C2POL                             00000004
C2SYNC                            00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 114


SYMBOL TABLE
  LABEL                             VALUE 

CCP1CAP                           0000030F
CCP1CON                           0000030E
CCP1CTS0                          00000000
CCP1CTS1                          00000001
CCP1CTS2                          00000002
CCP1EN                            00000007
CCP1FMT                           00000004
CCP1IE                            00000000
CCP1IF                            00000000
CCP1MD                            00000000
CCP1MODE0                         00000000
CCP1MODE1                         00000001
CCP1MODE2                         00000002
CCP1MODE3                         00000003
CCP1OUT                           00000005
CCP1PPS                           00001EA1
CCP1PPS0                          00000000
CCP1PPS1                          00000001
CCP1PPS2                          00000002
CCP1PPS3                          00000003
CCP1PPS4                          00000004
CCP1PPS5                          00000005
CCP2CAP                           00000313
CCP2CON                           00000312
CCP2CTS0                          00000000
CCP2CTS1                          00000001
CCP2CTS2                          00000002
CCP2EN                            00000007
CCP2FMT                           00000004
CCP2IE                            00000001
CCP2IF                            00000001
CCP2MD                            00000001
CCP2MODE0                         00000000
CCP2MODE1                         00000001
CCP2MODE2                         00000002
CCP2MODE3                         00000003
CCP2OUT                           00000005
CCP2PPS                           00001EA2
CCP2PPS0                          00000000
CCP2PPS1                          00000001
CCP2PPS2                          00000002
CCP2PPS3                          00000003
CCP2PPS4                          00000004
CCP2PPS5                          00000005
CCPR1                             0000030C
CCPR1H                            0000030D
CCPR1L                            0000030C
CCPR2                             00000310
CCPR2H                            00000311
CCPR2L                            00000310
CDAFVR0                           00000002
CDAFVR1                           00000003
CDIV0                             00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 115


SYMBOL TABLE
  LABEL                             VALUE 

CDIV1                             00000001
CDIV2                             00000002
CDIV3                             00000003
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CHS4                              00000006
CHS5                              00000007
CKE                               00000006
CKP                               00000004
CKPOL                             00000006
CKPS0                             00000004
CKPS1                             00000005
CKPS2                             00000006
CKSYNC                            00000005
CLC1CON                           00001E10
CLC1GLS0                          00001E16
CLC1GLS1                          00001E17
CLC1GLS2                          00001E18
CLC1GLS3                          00001E19
CLC1IE                            00000004
CLC1IF                            00000004
CLC1MD                            00000001
CLC1POL                           00001E11
CLC1SEL0                          00001E12
CLC1SEL1                          00001E13
CLC1SEL2                          00001E14
CLC1SEL3                          00001E15
CLC2CON                           00001E1A
CLC2GLS0                          00001E20
CLC2GLS1                          00001E21
CLC2GLS2                          00001E22
CLC2GLS3                          00001E23
CLC2IE                            00000005
CLC2IF                            00000005
CLC2MD                            00000002
CLC2POL                           00001E1B
CLC2SEL0                          00001E1C
CLC2SEL1                          00001E1D
CLC2SEL2                          00001E1E
CLC2SEL3                          00001E1F
CLC3CON                           00001E24
CLC3GLS0                          00001E2A
CLC3GLS1                          00001E2B
CLC3GLS2                          00001E2C
CLC3GLS3                          00001E2D
CLC3IE                            00000006
CLC3IF                            00000006
CLC3MD                            00000003
CLC3POL                           00001E25
CLC3SEL0                          00001E26
CLC3SEL1                          00001E27
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 116


SYMBOL TABLE
  LABEL                             VALUE 

CLC3SEL2                          00001E28
CLC3SEL3                          00001E29
CLC4CON                           00001E2E
CLC4GLS0                          00001E34
CLC4GLS1                          00001E35
CLC4GLS2                          00001E36
CLC4GLS3                          00001E37
CLC4IE                            00000007
CLC4IF                            00000007
CLC4MD                            00000004
CLC4POL                           00001E2F
CLC4SEL0                          00001E30
CLC4SEL1                          00001E31
CLC4SEL2                          00001E32
CLC4SEL3                          00001E33
CLCDATA                           00001E0F
CLCIN0PPS                         00001EBB
CLCIN0PPS0                        00000000
CLCIN0PPS1                        00000001
CLCIN0PPS2                        00000002
CLCIN0PPS3                        00000003
CLCIN0PPS4                        00000004
CLCIN0PPS5                        00000005
CLCIN1PPS                         00001EBC
CLCIN1PPS0                        00000000
CLCIN1PPS1                        00000001
CLCIN1PPS2                        00000002
CLCIN1PPS3                        00000003
CLCIN1PPS4                        00000004
CLCIN1PPS5                        00000005
CLCIN2PPS                         00001EBD
CLCIN2PPS0                        00000000
CLCIN2PPS1                        00000001
CLCIN2PPS2                        00000002
CLCIN2PPS3                        00000003
CLCIN2PPS4                        00000004
CLCIN2PPS5                        00000005
CLCIN3PPS                         00001EBE
CLCIN3PPS0                        00000000
CLCIN3PPS1                        00000001
CLCIN3PPS2                        00000002
CLCIN3PPS3                        00000003
CLCIN3PPS4                        00000004
CLCIN3PPS5                        00000005
CLKRCLK                           00000896
CLKRCLK0                          00000000
CLKRCLK1                          00000001
CLKRCLK2                          00000002
CLKRCLK3                          00000003
CLKRCON                           00000895
CLKRDC0                           00000003
CLKRDC1                           00000004
CLKRDIV0                          00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 117


SYMBOL TABLE
  LABEL                             VALUE 

CLKRDIV1                          00000001
CLKRDIV2                          00000002
CLKREN                            00000007
CLKRMD                            00000001
CM1CON0                           00000990
CM1CON1                           00000991
CM1NCH                            00000992
CM1PCH                            00000993
CM2CON0                           00000994
CM2CON1                           00000995
CM2NCH                            00000996
CM2PCH                            00000997
CMOUT                             0000098F
CMP1MD                            00000001
CMP2MD                            00000002
CMSTAT                            0000098F
CODE_VER                          0x05
CODE_VER_STRING                   "Peter Shabino 01Aug18 code for Mr Stash 2018 V5 www.wire2wire.org!"
COSC0                             00000004
COSC1                             00000005
COSC2                             00000006
CPUDOZE                           0000088C
CREN                              00000004
CS                                00000000
CS0                               00000000
CS1                               00000001
CS2                               00000002
CS3                               00000003
CSRC                              00000007
CSWHOLD                           00000007
CSWIE                             00000006
CSWIF                             00000006
CTS0                              00000000
CTS1                              00000001
CTS2                              00000002
CWG1AS0                           00000612
CWG1AS1                           00000613
CWG1CLKCON                        0000060C
CWG1CON0                          00000610
CWG1CON1                          00000611
CWG1CS                            00000000
CWG1DAT                           0000060D
CWG1DAT0                          00000000
CWG1DAT1                          00000001
CWG1DAT2                          00000002
CWG1DAT3                          00000003
CWG1DBF                           0000060F
CWG1DBF0                          00000000
CWG1DBF1                          00000001
CWG1DBF2                          00000002
CWG1DBF3                          00000003
CWG1DBF4                          00000004
CWG1DBF5                          00000005
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 118


SYMBOL TABLE
  LABEL                             VALUE 

CWG1DBR                           0000060E
CWG1DBR0                          00000000
CWG1DBR1                          00000001
CWG1DBR2                          00000002
CWG1DBR3                          00000003
CWG1DBR4                          00000004
CWG1DBR5                          00000005
CWG1EN                            00000007
CWG1IE                            00000000
CWG1IF                            00000000
CWG1IN                            00000005
CWG1LD                            00000006
CWG1LSAC0                         00000002
CWG1LSAC1                         00000003
CWG1LSBD0                         00000004
CWG1LSBD1                         00000005
CWG1MD                            00000000
CWG1MODE0                         00000000
CWG1MODE1                         00000001
CWG1MODE2                         00000002
CWG1OVRA                          00000004
CWG1OVRB                          00000005
CWG1OVRC                          00000006
CWG1OVRD                          00000007
CWG1POLA                          00000000
CWG1POLB                          00000001
CWG1POLC                          00000002
CWG1POLD                          00000003
CWG1PPS                           00001EB1
CWG1PPS0                          00000000
CWG1PPS1                          00000001
CWG1PPS2                          00000002
CWG1PPS3                          00000003
CWG1PPS4                          00000004
CWG1PPS5                          00000005
CWG1REN                           00000006
CWG1SHUTDOWN                      00000007
CWG1STR                           00000614
CWG1STRA                          00000000
CWG1STRB                          00000001
CWG1STRC                          00000002
CWG1STRD                          00000003
D1N                               00000000
D1S0                              00000000
D1S1                              00000001
D1S2                              00000002
D1S3                              00000003
D1S4                              00000004
D1S5                              00000005
D1T                               00000001
D2N                               00000002
D2S0                              00000000
D2S1                              00000001
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 119


SYMBOL TABLE
  LABEL                             VALUE 

D2S2                              00000002
D2S3                              00000003
D2S4                              00000004
D2S5                              00000005
D2T                               00000003
D3N                               00000004
D3S0                              00000000
D3S1                              00000001
D3S2                              00000002
D3S3                              00000003
D3S4                              00000004
D3S5                              00000005
D3T                               00000005
D4N                               00000006
D4S0                              00000000
D4S1                              00000001
D4S2                              00000002
D4S3                              00000003
D4S4                              00000004
D4S5                              00000005
D4T                               00000007
DAC1CON0                          0000090E
DAC1CON1                          0000090F
DAC1EN                            00000007
DAC1MD                            00000006
DAC1NSS                           00000000
DAC1OE1                           00000005
DAC1OE2                           00000004
DAC1PSS0                          00000002
DAC1PSS1                          00000003
DAC1R0                            00000000
DAC1R1                            00000001
DAC1R2                            00000002
DAC1R3                            00000003
DAC1R4                            00000004
DATA_ADDRESS                      00000005
DBF0                              00000000
DBF1                              00000001
DBF2                              00000002
DBF3                              00000003
DBF4                              00000004
DBF5                              00000005
DBR0                              00000000
DBR1                              00000001
DBR2                              00000002
DBR3                              00000003
DBR4                              00000004
DBR5                              00000005
DC                                00000001
DC0                               00000006
DC1                               00000007
DC2                               00000000
DC3                               00000001
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 120


SYMBOL TABLE
  LABEL                             VALUE 

DC4                               00000002
DC5                               00000003
DC6                               00000004
DC7                               00000005
DC8                               00000006
DC9                               00000007
DHEN                              00000000
DOE                               00000004
DOZE0                             00000000
DOZE1                             00000001
DOZE2                             00000002
DOZEN                             00000006
D_A                               00000005
D_NOT_A                           00000005
EN                                00000007
ENDLOOP                           000013E0
EXTOEN                            00000007
EXTOR                             00000007
F                                 00000001
FERR                              00000002
FMT                               00000004
FREE                              00000004
FSR0                              00000004
FSR0H                             00000005
FSR0H_SHAD                        00001FE9
FSR0L                             00000004
FSR0L_SHAD                        00001FE8
FSR0_SHAD                         00001FE8
FSR1                              00000006
FSR1H                             00000007
FSR1H_SHAD                        00001FEB
FSR1L                             00000006
FSR1L_SHAD                        00001FEA
FSR1_SHAD                         00001FEA
FVRCON                            0000090C
FVREN                             00000007
FVRMD                             00000006
FVRRDY                            00000006
FVR_startup_loop                  0000048F
G1EN                              00000007
G1POL                             00000000
G2POL                             00000001
G3POL                             00000002
G4D1N                             00000000
G4D1T                             00000001
G4D2N                             00000002
G4D2T                             00000003
G4D3N                             00000004
G4D3T                             00000005
G4D4N                             00000006
G4D4T                             00000007
G4POL                             00000003
GCEN                              00000007
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 121


SYMBOL TABLE
  LABEL                             VALUE 

GE                                00000007
GGO_NOT_DONE                      00000003
GIE                               00000007
GO                                00000001
GOnDONE                           00000001
GPOL                              00000006
GSPM                              00000004
GSS0                              00000000
GSS1                              00000001
GSS2                              00000002
GSS3                              00000003
GSS4                              00000004
GTM                               00000005
GVAL                              00000002
HFFRQ0                            00000000
HFFRQ1                            00000001
HFFRQ2                            00000002
HFOEN                             00000006
HFOR                              00000006
HFTUN0                            00000000
HFTUN1                            00000001
HFTUN2                            00000002
HFTUN3                            00000003
HFTUN4                            00000004
HFTUN5                            00000005
HYS                               00000001
I2C_DAT                           00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IDLEN                             00000007
IN                                00000005
INDF0                             00000000
INDF1                             00000001
INLVLA                            00001F3C
INLVLA0                           00000000
INLVLA1                           00000001
INLVLA2                           00000002
INLVLA3                           00000003
INLVLA4                           00000004
INLVLA5                           00000005
INLVLA6                           00000006
INLVLA7                           00000007
INLVLB                            00001F47
INLVLB0                           00000000
INLVLB1                           00000001
INLVLB2                           00000002
INLVLB3                           00000003
INLVLB4                           00000004
INLVLB5                           00000005
INLVLB6                           00000006
INLVLB7                           00000007
INLVLC                            00001F52
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 122


SYMBOL TABLE
  LABEL                             VALUE 

INLVLC0                           00000000
INLVLC1                           00000001
INLVLC2                           00000002
INLVLC3                           00000003
INLVLC4                           00000004
INLVLC5                           00000005
INLVLC6                           00000006
INLVLC7                           00000007
INLVLE                            00001F68
INLVLE3                           00000003
INTCON                            0000000B
INTE                              00000000
INTEDG                            00000000
INTF                              00000000
INTN_CLC1CON                      00000003
INTN_CLC2CON                      00000003
INTN_CLC3CON                      00000003
INTN_CLC4CON                      00000003
INTN_CM1CON1                      00000000
INTN_CM2CON1                      00000000
INTPPS                            00001E90
INTPPS0                           00000000
INTPPS1                           00000001
INTPPS2                           00000002
INTPPS3                           00000003
INTPPS4                           00000004
INTPPS5                           00000005
INTP_CLC1CON                      00000004
INTP_CLC2CON                      00000004
INTP_CLC3CON                      00000004
INTP_CLC4CON                      00000004
INTP_CM1CON1                      00000001
INTP_CM2CON1                      00000001
IOCAF                             00001F3F
IOCAF0                            00000000
IOCAF1                            00000001
IOCAF2                            00000002
IOCAF3                            00000003
IOCAF4                            00000004
IOCAF5                            00000005
IOCAF6                            00000006
IOCAF7                            00000007
IOCAN                             00001F3E
IOCAN0                            00000000
IOCAN1                            00000001
IOCAN2                            00000002
IOCAN3                            00000003
IOCAN4                            00000004
IOCAN5                            00000005
IOCAN6                            00000006
IOCAN7                            00000007
IOCAP                             00001F3D
IOCAP0                            00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 123


SYMBOL TABLE
  LABEL                             VALUE 

IOCAP1                            00000001
IOCAP2                            00000002
IOCAP3                            00000003
IOCAP4                            00000004
IOCAP5                            00000005
IOCAP6                            00000006
IOCAP7                            00000007
IOCBF                             00001F4A
IOCBF0                            00000000
IOCBF1                            00000001
IOCBF2                            00000002
IOCBF3                            00000003
IOCBF4                            00000004
IOCBF5                            00000005
IOCBF6                            00000006
IOCBF7                            00000007
IOCBN                             00001F49
IOCBN0                            00000000
IOCBN1                            00000001
IOCBN2                            00000002
IOCBN3                            00000003
IOCBN4                            00000004
IOCBN5                            00000005
IOCBN6                            00000006
IOCBN7                            00000007
IOCBP                             00001F48
IOCBP0                            00000000
IOCBP1                            00000001
IOCBP2                            00000002
IOCBP3                            00000003
IOCBP4                            00000004
IOCBP5                            00000005
IOCBP6                            00000006
IOCBP7                            00000007
IOCCF                             00001F55
IOCCF0                            00000000
IOCCF1                            00000001
IOCCF2                            00000002
IOCCF3                            00000003
IOCCF4                            00000004
IOCCF5                            00000005
IOCCF6                            00000006
IOCCF7                            00000007
IOCCN                             00001F54
IOCCN0                            00000000
IOCCN1                            00000001
IOCCN2                            00000002
IOCCN3                            00000003
IOCCN4                            00000004
IOCCN5                            00000005
IOCCN6                            00000006
IOCCN7                            00000007
IOCCP                             00001F53
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 124


SYMBOL TABLE
  LABEL                             VALUE 

IOCCP0                            00000000
IOCCP1                            00000001
IOCCP2                            00000002
IOCCP3                            00000003
IOCCP4                            00000004
IOCCP5                            00000005
IOCCP6                            00000006
IOCCP7                            00000007
IOCEF                             00001F6B
IOCEF3                            00000003
IOCEN                             00001F6A
IOCEN3                            00000003
IOCEP                             00001F69
IOCEP3                            00000003
IOCIE                             00000004
IOCIF                             00000004
IOCMD                             00000000
IRQ                               00000048
IRQ_ADC_b1_gt_carry               00000088
IRQ_ADC_b1_lt_carry               0000008F
IRQ_ADC_b1s1                      00000137
IRQ_ADC_b1s2                      00000143
IRQ_ADC_b2_gt_carry               0000009E
IRQ_ADC_b2_lt_carry               000000A5
IRQ_ADC_b2s1                      00000123
IRQ_ADC_b2s2                      0000012F
IRQ_ADC_b3_gt_carry               000000B4
IRQ_ADC_b3_lt_carry               000000BB
IRQ_ADC_b3s1                      0000010F
IRQ_ADC_b3s2                      0000011B
IRQ_ADC_b4_gt_carry               000000CA
IRQ_ADC_b4_lt_carry               000000D1
IRQ_ADC_b4s2                      00000107
IRQ_ADC_button1                   00000073
IRQ_ADC_button2                   00000067
IRQ_ADC_button3                   0000005B
IRQ_ADC_debug_leds                000000D4
IRQ_ADC_step_done                 0000014A
IRQ_LED1b_1                       000001A6
IRQ_LED1b_2                       0000019E
IRQ_LED1b_done                    000001AD
IRQ_LED1g_1                       00000190
IRQ_LED1g_2                       00000188
IRQ_LED1g_done                    00000197
IRQ_LED1r_1                       0000017A
IRQ_LED1r_2                       00000172
IRQ_LED1r_done                    00000181
IRQ_LED2b_1                       000001E8
IRQ_LED2b_2                       000001E0
IRQ_LED2b_done                    000001EF
IRQ_LED2g_1                       000001D2
IRQ_LED2g_2                       000001CA
IRQ_LED2g_done                    000001D9
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 125


SYMBOL TABLE
  LABEL                             VALUE 

IRQ_LED2r_1                       000001BC
IRQ_LED2r_2                       000001B4
IRQ_LED2r_done                    000001C3
IRQ_LED3b_1                       0000022A
IRQ_LED3b_2                       00000222
IRQ_LED3b_done                    00000231
IRQ_LED3g_1                       00000214
IRQ_LED3g_2                       0000020C
IRQ_LED3g_done                    0000021B
IRQ_LED3r_1                       000001FE
IRQ_LED3r_2                       000001F6
IRQ_LED3r_done                    00000205
IRQ_LED4b_1                       0000026C
IRQ_LED4b_2                       00000264
IRQ_LED4b_done                    00000273
IRQ_LED4g_1                       00000256
IRQ_LED4g_2                       0000024E
IRQ_LED4g_done                    0000025D
IRQ_LED4r_1                       00000240
IRQ_LED4r_2                       00000238
IRQ_LED4r_done                    00000247
IRQ_RX2_3                         00000396
IRQ_RX2_4                         0000038C
IRQ_RX2_no_FERR                   00000378
IRQ_RX2_no_OERR                   0000037D
IRQ_RX2_packet_bad                00000426
IRQ_RX2_packet_direct_done        00000426
IRQ_RX2_packet_direct_m2          000003CF
IRQ_RX2_packet_direct_remote      000003BF
IRQ_RX2_packet_set_display        000003DC
IRQ_RX2_packet_set_led1           000003F2
IRQ_RX2_packet_set_led2           000003F9
IRQ_RX2_packet_set_led3           00000400
IRQ_RX2_packet_set_led4           00000407
IRQ_RX2_packet_set_led_speed_h    000003EA
IRQ_RX2_packet_set_led_speed_l    000003E3
IRQ_RX2_packet_set_vibe           0000040E
IRQ_RX2_packet_set_vibe_h         0000041E
IRQ_RX2_packet_set_vibe_l         00000417
IRQ_TX2_no_calc                   0000031D
IRQ_TX2_send                      00000326
IRQ_TX2_send_S                    00000330
IRQ_TX2_send_chksum               00000361
IRQ_TX2_send_cmd                  0000033A
IRQ_TX2_send_data                 00000354
IRQ_TX2_send_id                   00000347
IRQ_TX2_stop                      0000031F
IRQ_beacon_b_done                 00000155
IRQ_beacon_done                   00000306
IRQ_beacon_reset                  00000302
IRQ_beacon_send                   000002F6
IRQ_blink1_2                      00000281
IRQ_blink1_3                      00000286
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 126


SYMBOL TABLE
  LABEL                             VALUE 

IRQ_blink1_done                   0000028A
IRQ_blink2_2                      00000297
IRQ_blink2_3                      0000029C
IRQ_blink2_done                   000002A0
IRQ_blink3_2                      000002AE
IRQ_blink3_3                      000002B4
IRQ_blink3_done                   000002B9
IRQ_blink4_2                      000002C6
IRQ_blink4_3                      000002CB
IRQ_blink4_done                   000002CF
IRQ_delay_L_0                     000000DF
IRQ_delay_done                    000000E4
IRQ_delay_led_0                   000000E9
IRQ_delay_led_done                000000EE
IRQ_delay_vibe                    000000F3
IRQ_delay_vibe_done               000000F8
IRQ_direct_m1_done                0000015F
IRQ_direct_m2_done                00000169
IRQ_led_done                      000002EF
IRQ_not_ADC                       000000D4
IRQ_not_RX2                       0000042D
IRQ_not_TMR0                      00000306
IRQ_not_TX2                       0000036D
IR_B_ON_PWM                       000000FF
IR_B_ON_TIME                      00000012
IR_DIRECT_RMT_ON_PWM              000000FF
IR_DIRECT_RMT_ON_TIME             00000012
IR_PULSE_WIDTH                    00000035
LATA                              00000018
LATA0                             00000000
LATA1                             00000001
LATA2                             00000002
LATA3                             00000003
LATA4                             00000004
LATA5                             00000005
LATA6                             00000006
LATA7                             00000007
LATB                              00000019
LATB0                             00000000
LATB1                             00000001
LATB2                             00000002
LATB3                             00000003
LATB4                             00000004
LATB5                             00000005
LATB6                             00000006
LATB7                             00000007
LATC                              0000001A
LATC0                             00000000
LATC1                             00000001
LATC2                             00000002
LATC3                             00000003
LATC4                             00000004
LATC5                             00000005
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 127


SYMBOL TABLE
  LABEL                             VALUE 

LATC6                             00000006
LATC7                             00000007
LC1D1S0                           00000000
LC1D1S1                           00000001
LC1D1S2                           00000002
LC1D1S3                           00000003
LC1D1S4                           00000004
LC1D1S5                           00000005
LC1D2S0                           00000000
LC1D2S1                           00000001
LC1D2S2                           00000002
LC1D2S3                           00000003
LC1D2S4                           00000004
LC1D2S5                           00000005
LC1D3S0                           00000000
LC1D3S1                           00000001
LC1D3S2                           00000002
LC1D3S3                           00000003
LC1D3S4                           00000004
LC1D3S5                           00000005
LC1D4S0                           00000000
LC1D4S1                           00000001
LC1D4S2                           00000002
LC1D4S3                           00000003
LC1D4S4                           00000004
LC1D4S5                           00000005
LC1EN                             00000007
LC1G1D1N                          00000000
LC1G1D1T                          00000001
LC1G1D2N                          00000002
LC1G1D2T                          00000003
LC1G1D3N                          00000004
LC1G1D3T                          00000005
LC1G1D4N                          00000006
LC1G1D4T                          00000007
LC1G1POL                          00000000
LC1G2D1N                          00000000
LC1G2D1T                          00000001
LC1G2D2N                          00000002
LC1G2D2T                          00000003
LC1G2D3N                          00000004
LC1G2D3T                          00000005
LC1G2D4N                          00000006
LC1G2D4T                          00000007
LC1G2POL                          00000001
LC1G3D1N                          00000000
LC1G3D1T                          00000001
LC1G3D2N                          00000002
LC1G3D2T                          00000003
LC1G3D3N                          00000004
LC1G3D3T                          00000005
LC1G3D4N                          00000006
LC1G3D4T                          00000007
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 128


SYMBOL TABLE
  LABEL                             VALUE 

LC1G3POL                          00000002
LC1G4D1N                          00000000
LC1G4D1T                          00000001
LC1G4D2N                          00000002
LC1G4D2T                          00000003
LC1G4D3N                          00000004
LC1G4D3T                          00000005
LC1G4D4N                          00000006
LC1G4D4T                          00000007
LC1G4POL                          00000003
LC1INTN                           00000003
LC1INTP                           00000004
LC1MODE0                          00000000
LC1MODE1                          00000001
LC1MODE2                          00000002
LC1OUT                            00000005
LC1POL                            00000007
LC2D1S0                           00000000
LC2D1S1                           00000001
LC2D1S2                           00000002
LC2D1S3                           00000003
LC2D1S4                           00000004
LC2D1S5                           00000005
LC2D2S0                           00000000
LC2D2S1                           00000001
LC2D2S2                           00000002
LC2D2S3                           00000003
LC2D2S4                           00000004
LC2D2S5                           00000005
LC2D3S0                           00000000
LC2D3S1                           00000001
LC2D3S2                           00000002
LC2D3S3                           00000003
LC2D3S4                           00000004
LC2D3S5                           00000005
LC2D4S0                           00000000
LC2D4S1                           00000001
LC2D4S2                           00000002
LC2D4S3                           00000003
LC2D4S4                           00000004
LC2D4S5                           00000005
LC2EN                             00000007
LC2G1D1N                          00000000
LC2G1D1T                          00000001
LC2G1D2N                          00000002
LC2G1D2T                          00000003
LC2G1D3N                          00000004
LC2G1D3T                          00000005
LC2G1D4N                          00000006
LC2G1D4T                          00000007
LC2G1POL                          00000000
LC2G2D1N                          00000000
LC2G2D1T                          00000001
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 129


SYMBOL TABLE
  LABEL                             VALUE 

LC2G2D2N                          00000002
LC2G2D2T                          00000003
LC2G2D3N                          00000004
LC2G2D3T                          00000005
LC2G2D4N                          00000006
LC2G2D4T                          00000007
LC2G2POL                          00000001
LC2G3D1N                          00000000
LC2G3D1T                          00000001
LC2G3D2N                          00000002
LC2G3D2T                          00000003
LC2G3D3N                          00000004
LC2G3D3T                          00000005
LC2G3D4N                          00000006
LC2G3D4T                          00000007
LC2G3POL                          00000002
LC2G4D1N                          00000000
LC2G4D1T                          00000001
LC2G4D2N                          00000002
LC2G4D2T                          00000003
LC2G4D3N                          00000004
LC2G4D3T                          00000005
LC2G4D4N                          00000006
LC2G4D4T                          00000007
LC2G4POL                          00000003
LC2INTN                           00000003
LC2INTP                           00000004
LC2MODE0                          00000000
LC2MODE1                          00000001
LC2MODE2                          00000002
LC2OUT                            00000005
LC2POL                            00000007
LC3D1S0                           00000000
LC3D1S1                           00000001
LC3D1S2                           00000002
LC3D1S3                           00000003
LC3D1S4                           00000004
LC3D1S5                           00000005
LC3D2S0                           00000000
LC3D2S1                           00000001
LC3D2S2                           00000002
LC3D2S3                           00000003
LC3D2S4                           00000004
LC3D2S5                           00000005
LC3D3S0                           00000000
LC3D3S1                           00000001
LC3D3S2                           00000002
LC3D3S3                           00000003
LC3D3S4                           00000004
LC3D3S5                           00000005
LC3D4S0                           00000000
LC3D4S1                           00000001
LC3D4S2                           00000002
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 130


SYMBOL TABLE
  LABEL                             VALUE 

LC3D4S3                           00000003
LC3D4S4                           00000004
LC3D4S5                           00000005
LC3EN                             00000007
LC3G1D1N                          00000000
LC3G1D1T                          00000001
LC3G1D2N                          00000002
LC3G1D2T                          00000003
LC3G1D3N                          00000004
LC3G1D3T                          00000005
LC3G1D4N                          00000006
LC3G1D4T                          00000007
LC3G1POL                          00000000
LC3G2D1N                          00000000
LC3G2D1T                          00000001
LC3G2D2N                          00000002
LC3G2D2T                          00000003
LC3G2D3N                          00000004
LC3G2D3T                          00000005
LC3G2D4N                          00000006
LC3G2D4T                          00000007
LC3G2POL                          00000001
LC3G3D1N                          00000000
LC3G3D1T                          00000001
LC3G3D2N                          00000002
LC3G3D2T                          00000003
LC3G3D3N                          00000004
LC3G3D3T                          00000005
LC3G3D4N                          00000006
LC3G3D4T                          00000007
LC3G3POL                          00000002
LC3G4D1N                          00000000
LC3G4D1T                          00000001
LC3G4D2N                          00000002
LC3G4D2T                          00000003
LC3G4D3N                          00000004
LC3G4D3T                          00000005
LC3G4D4N                          00000006
LC3G4D4T                          00000007
LC3G4POL                          00000003
LC3INTN                           00000003
LC3INTP                           00000004
LC3MODE0                          00000000
LC3MODE1                          00000001
LC3MODE2                          00000002
LC3OUT                            00000005
LC3POL                            00000007
LC4D1S0                           00000000
LC4D1S1                           00000001
LC4D1S2                           00000002
LC4D1S3                           00000003
LC4D1S4                           00000004
LC4D1S5                           00000005
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 131


SYMBOL TABLE
  LABEL                             VALUE 

LC4D2S0                           00000000
LC4D2S1                           00000001
LC4D2S2                           00000002
LC4D2S3                           00000003
LC4D2S4                           00000004
LC4D2S5                           00000005
LC4D3S0                           00000000
LC4D3S1                           00000001
LC4D3S2                           00000002
LC4D3S3                           00000003
LC4D3S4                           00000004
LC4D3S5                           00000005
LC4D4S0                           00000000
LC4D4S1                           00000001
LC4D4S2                           00000002
LC4D4S3                           00000003
LC4D4S4                           00000004
LC4D4S5                           00000005
LC4EN                             00000007
LC4G1D1N                          00000000
LC4G1D1T                          00000001
LC4G1D2N                          00000002
LC4G1D2T                          00000003
LC4G1D3N                          00000004
LC4G1D3T                          00000005
LC4G1D4N                          00000006
LC4G1D4T                          00000007
LC4G1POL                          00000000
LC4G2D1N                          00000000
LC4G2D1T                          00000001
LC4G2D2N                          00000002
LC4G2D2T                          00000003
LC4G2D3N                          00000004
LC4G2D3T                          00000005
LC4G2D4N                          00000006
LC4G2D4T                          00000007
LC4G2POL                          00000001
LC4G3D1N                          00000000
LC4G3D1T                          00000001
LC4G3D2N                          00000002
LC4G3D2T                          00000003
LC4G3D3N                          00000004
LC4G3D3T                          00000005
LC4G3D4N                          00000006
LC4G3D4T                          00000007
LC4G3POL                          00000002
LC4G4D1N                          00000000
LC4G4D1T                          00000001
LC4G4D2N                          00000002
LC4G4D2T                          00000003
LC4G4D3N                          00000004
LC4G4D3T                          00000005
LC4G4D4N                          00000006
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 132


SYMBOL TABLE
  LABEL                             VALUE 

LC4G4D4T                          00000007
LC4G4POL                          00000003
LC4INTN                           00000003
LC4INTP                           00000004
LC4MODE0                          00000000
LC4MODE1                          00000001
LC4MODE2                          00000002
LC4OUT                            00000005
LC4POL                            00000007
LD                                00000006
LED1                              00000020
LED2                              00000021
LED3                              00000022
LED4                              00000023
LEDS_start                        00001006
LFOEN                             00000004
LFOR                              00000004
LFSR_0                            00000120
LFSR_1                            00000121
LFSR_2                            00000122
LFSR_3                            00000123
LSAC0                             00000002
LSAC1                             00000003
LSBD0                             00000004
LSBD1                             00000005
LWLO                              00000005
MAINLOOP                          00000800
MAINLOOP_LEDS                     00001000
MAINLOOP_VIBE                     00001800
MC1OUT                            00000000
MC2OUT                            00000001
MFOEN                             00000005
MFOR                              00000005
MLC1OUT                           00000000
MLC2OUT                           00000001
MLC3OUT                           00000002
MLC4OUT                           00000003
MODE0                             00000000
MODE1                             00000001
MODE2                             00000002
MODE3                             00000003
MODE4                             00000004
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
MSSP1MD                           00000004
MSSP2MD                           00000005
N1CKS0                            00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 133


SYMBOL TABLE
  LABEL                             VALUE 

N1CKS1                            00000001
N1CKS2                            00000002
N1EN                              00000007
N1OUT                             00000005
N1PFM                             00000000
N1POL                             00000004
N1PWS0                            00000005
N1PWS1                            00000006
N1PWS2                            00000007
NCH0                              00000000
NCH1                              00000001
NCH2                              00000002
NCO1ACC                           0000058C
NCO1ACC0                          00000000
NCO1ACC1                          00000001
NCO1ACC10                         00000002
NCO1ACC11                         00000003
NCO1ACC12                         00000004
NCO1ACC13                         00000005
NCO1ACC14                         00000006
NCO1ACC15                         00000007
NCO1ACC16                         00000000
NCO1ACC17                         00000001
NCO1ACC18                         00000002
NCO1ACC19                         00000003
NCO1ACC2                          00000002
NCO1ACC3                          00000003
NCO1ACC4                          00000004
NCO1ACC5                          00000005
NCO1ACC6                          00000006
NCO1ACC7                          00000007
NCO1ACC8                          00000000
NCO1ACC9                          00000001
NCO1ACCH                          0000058D
NCO1ACCL                          0000058C
NCO1ACCU                          0000058E
NCO1CLK                           00000593
NCO1CON                           00000592
NCO1IE                            00000004
NCO1IF                            00000004
NCO1INC                           0000058F
NCO1INC0                          00000000
NCO1INC1                          00000001
NCO1INC10                         00000002
NCO1INC11                         00000003
NCO1INC12                         00000004
NCO1INC13                         00000005
NCO1INC14                         00000006
NCO1INC15                         00000007
NCO1INC16                         00000000
NCO1INC17                         00000001
NCO1INC18                         00000002
NCO1INC19                         00000003
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 134


SYMBOL TABLE
  LABEL                             VALUE 

NCO1INC2                          00000002
NCO1INC3                          00000003
NCO1INC4                          00000004
NCO1INC5                          00000005
NCO1INC6                          00000006
NCO1INC7                          00000007
NCO1INC8                          00000000
NCO1INC9                          00000001
NCO1INCH                          00000590
NCO1INCL                          0000058F
NCO1INCU                          00000591
NCO1MD                            00000007
NCOIE                             00000004
NCOIF                             00000004
NCOMD                             00000007
NDIV0                             00000000
NDIV1                             00000001
NDIV2                             00000002
NDIV3                             00000003
NOSC0                             00000004
NOSC1                             00000005
NOSC2                             00000006
NOSCR                             00000003
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BOR                           00000000
NOT_MEMV                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RI                            00000002
NOT_RMCLR                         00000003
NOT_RWDT                          00000004
NOT_SYNC                          00000002
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_W                             00000002
NOT_WDTWV                         00000005
NOT_WRITE                         00000002
NSS                               00000000
NVMADR                            0000081A
NVMADRH                           0000081B
NVMADRH0                          00000000
NVMADRH1                          00000001
NVMADRH2                          00000002
NVMADRH3                          00000003
NVMADRH4                          00000004
NVMADRH5                          00000005
NVMADRH6                          00000006
NVMADRL                           0000081A
NVMADRL0                          00000000
NVMADRL1                          00000001
NVMADRL2                          00000002
NVMADRL3                          00000003
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 135


SYMBOL TABLE
  LABEL                             VALUE 

NVMADRL4                          00000004
NVMADRL5                          00000005
NVMADRL6                          00000006
NVMADRL7                          00000007
NVMCON1                           0000081E
NVMCON2                           0000081F
NVMDAT                            0000081C
NVMDATH                           0000081D
NVMDATH0                          00000000
NVMDATH1                          00000001
NVMDATH2                          00000002
NVMDATH3                          00000003
NVMDATH4                          00000004
NVMDATH5                          00000005
NVMDATL                           0000081C
NVMDATL0                          00000000
NVMDATL1                          00000001
NVMDATL2                          00000002
NVMDATL3                          00000003
NVMDATL4                          00000004
NVMDATL5                          00000005
NVMDATL6                          00000006
NVMDATL7                          00000007
NVMIE                             00000005
NVMIF                             00000005
NVMMD                             00000002
NVMREGS                           00000006
ODCA0                             00000000
ODCA1                             00000001
ODCA2                             00000002
ODCA3                             00000003
ODCA4                             00000004
ODCA5                             00000005
ODCA6                             00000006
ODCA7                             00000007
ODCB0                             00000000
ODCB1                             00000001
ODCB2                             00000002
ODCB3                             00000003
ODCB4                             00000004
ODCB5                             00000005
ODCB6                             00000006
ODCB7                             00000007
ODCC0                             00000000
ODCC1                             00000001
ODCC2                             00000002
ODCC3                             00000003
ODCC4                             00000004
ODCC5                             00000005
ODCC6                             00000006
ODCC7                             00000007
ODCONA                            00001F3A
ODCONB                            00001F45
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 136


SYMBOL TABLE
  LABEL                             VALUE 

ODCONC                            00001F50
OE1                               00000005
OE2                               00000004
OERR                              00000001
ON_T1CON                          00000000
ON_T2CON                          00000007
ORDY                              00000004
OSCCON1                           0000088D
OSCCON2                           0000088E
OSCCON3                           0000088F
OSCEN                             00000891
OSCFRQ                            00000893
OSCSTAT                           00000890
OSCTUNE                           00000892
OSFIE                             00000007
OSFIF                             00000007
OUTPS0                            00000000
OUTPS1                            00000001
OUTPS2                            00000002
OUTPS3                            00000003
OUT_CCP1CON                       00000005
OUT_CCP2CON                       00000005
OUT_CLC1CON                       00000005
OUT_CLC2CON                       00000005
OUT_CLC3CON                       00000005
OUT_CLC4CON                       00000005
OUT_CM1CON0                       00000006
OUT_CM2CON0                       00000006
OUT_PWM3CON                       00000005
OUT_PWM4CON                       00000005
OUT_PWM5CON                       00000005
OUT_PWM6CON                       00000005
OVRA                              00000004
OVRB                              00000005
OVRC                              00000006
OVRD                              00000007
P                                 00000004
PCH0                              00000000
PCH1                              00000001
PCH2                              00000002
PCIE                              00000006
PCL                               00000002
PCLATH                            0000000A
PCLATH_SHAD                       00001FE7
PCON0                             00000813
PCON1                             00000814
PEIE                              00000006
PEN                               00000002
PIE0                              00000716
PIE1                              00000717
PIE2                              00000718
PIE3                              00000719
PIE4                              0000071A
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 137


SYMBOL TABLE
  LABEL                             VALUE 

PIE5                              0000071B
PIE6                              0000071C
PIE7                              0000071D
PIR0                              0000070C
PIR1                              0000070D
PIR2                              0000070E
PIR3                              0000070F
PIR4                              00000710
PIR5                              00000711
PIR6                              00000712
PIR7                              00000713
PLLR                              00000000
PMD0                              00000796
PMD1                              00000797
PMD2                              00000798
PMD3                              00000799
PMD4                              0000079A
PMD5                              0000079B
POLA                              00000000
POLB                              00000001
POLC                              00000002
POLD                              00000003
POL_CLC1POL                       00000007
POL_CLC2POL                       00000007
POL_CLC3POL                       00000007
POL_CLC4POL                       00000007
POL_CM1CON0                       00000004
POL_CM2CON0                       00000004
POL_PWM3CON                       00000004
POL_PWM4CON                       00000004
POL_PWM5CON                       00000004
POL_PWM6CON                       00000004
PORTA                             0000000C
PORTB                             0000000D
PORTC                             0000000E
PORTE                             00000010
PPSLOCK                           00001E8F
PPSLOCKED                         00000000
PR0                               0000059D
PR1                               0000020F
PR2                               0000028D
PSCNT0                            00000000
PSCNT1                            00000001
PSCNT10                           00000002
PSCNT11                           00000003
PSCNT12                           00000004
PSCNT13                           00000005
PSCNT14                           00000006
PSCNT15                           00000007
PSCNT16                           00000000
PSCNT17                           00000001
PSCNT2                            00000002
PSCNT3                            00000003
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 138


SYMBOL TABLE
  LABEL                             VALUE 

PSCNT4                            00000004
PSCNT5                            00000005
PSCNT6                            00000006
PSCNT7                            00000007
PSCNT8                            00000000
PSCNT9                            00000001
PSS0                              00000002
PSS1                              00000003
PSYNC                             00000007
PWM3CON                           00000316
PWM3DC0                           00000006
PWM3DC1                           00000007
PWM3DC2                           00000000
PWM3DC3                           00000001
PWM3DC4                           00000002
PWM3DC5                           00000003
PWM3DC6                           00000004
PWM3DC7                           00000005
PWM3DC8                           00000006
PWM3DC9                           00000007
PWM3DCH                           00000315
PWM3DCL                           00000314
PWM3EN                            00000007
PWM3MD                            00000002
PWM3OUT                           00000005
PWM3POL                           00000004
PWM4CON                           0000031A
PWM4DC0                           00000006
PWM4DC1                           00000007
PWM4DC2                           00000000
PWM4DC3                           00000001
PWM4DC4                           00000002
PWM4DC5                           00000003
PWM4DC6                           00000004
PWM4DC7                           00000005
PWM4DC8                           00000006
PWM4DC9                           00000007
PWM4DCH                           00000319
PWM4DCL                           00000318
PWM4EN                            00000007
PWM4MD                            00000003
PWM4OUT                           00000005
PWM4POL                           00000004
PWM5CON                           0000031E
PWM5DC0                           00000006
PWM5DC1                           00000007
PWM5DC2                           00000000
PWM5DC3                           00000001
PWM5DC4                           00000002
PWM5DC5                           00000003
PWM5DC6                           00000004
PWM5DC7                           00000005
PWM5DC8                           00000006
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 139


SYMBOL TABLE
  LABEL                             VALUE 

PWM5DC9                           00000007
PWM5DCH                           0000031D
PWM5DCL                           0000031C
PWM5EN                            00000007
PWM5MD                            00000004
PWM5OUT                           00000005
PWM5POL                           00000004
PWM6CON                           0000038E
PWM6DC0                           00000006
PWM6DC1                           00000007
PWM6DC2                           00000000
PWM6DC3                           00000001
PWM6DC4                           00000002
PWM6DC5                           00000003
PWM6DC6                           00000004
PWM6DC7                           00000005
PWM6DC8                           00000006
PWM6DC9                           00000007
PWM6DCH                           0000038D
PWM6DCL                           0000038C
PWM6EN                            00000007
PWM6MD                            00000005
PWM6OUT                           00000005
PWM6POL                           00000004
PWMPW0                            00000006
PWMPW1                            00000007
PWMPW2                            00000000
PWMPW3                            00000001
PWMPW4                            00000002
PWMPW5                            00000003
PWMPW6                            00000004
PWMPW7                            00000005
PWMPW8                            00000006
PWMPW9                            00000007
RA0                               00000000
RA0PPS                            00001F10
RA0PPS0                           00000000
RA0PPS1                           00000001
RA0PPS2                           00000002
RA0PPS3                           00000003
RA0PPS4                           00000004
RA1                               00000001
RA1PPS                            00001F11
RA1PPS0                           00000000
RA1PPS1                           00000001
RA1PPS2                           00000002
RA1PPS3                           00000003
RA1PPS4                           00000004
RA2                               00000002
RA2PPS                            00001F12
RA2PPS0                           00000000
RA2PPS1                           00000001
RA2PPS2                           00000002
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 140


SYMBOL TABLE
  LABEL                             VALUE 

RA2PPS3                           00000003
RA2PPS4                           00000004
RA3                               00000003
RA3PPS                            00001F13
RA3PPS0                           00000000
RA3PPS1                           00000001
RA3PPS2                           00000002
RA3PPS3                           00000003
RA3PPS4                           00000004
RA4                               00000004
RA4PPS                            00001F14
RA4PPS0                           00000000
RA4PPS1                           00000001
RA4PPS2                           00000002
RA4PPS3                           00000003
RA4PPS4                           00000004
RA5                               00000005
RA5PPS                            00001F15
RA5PPS0                           00000000
RA5PPS1                           00000001
RA5PPS2                           00000002
RA5PPS3                           00000003
RA5PPS4                           00000004
RA6                               00000006
RA6PPS                            00001F16
RA6PPS0                           00000000
RA6PPS1                           00000001
RA6PPS2                           00000002
RA6PPS3                           00000003
RA6PPS4                           00000004
RA7                               00000007
RA7PPS                            00001F17
RA7PPS0                           00000000
RA7PPS1                           00000001
RA7PPS2                           00000002
RA7PPS3                           00000003
RA7PPS4                           00000004
RB0                               00000000
RB0PPS                            00001F18
RB0PPS0                           00000000
RB0PPS1                           00000001
RB0PPS2                           00000002
RB0PPS3                           00000003
RB0PPS4                           00000004
RB1                               00000001
RB1PPS                            00001F19
RB1PPS0                           00000000
RB1PPS1                           00000001
RB1PPS2                           00000002
RB1PPS3                           00000003
RB1PPS4                           00000004
RB2                               00000002
RB2PPS                            00001F1A
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 141


SYMBOL TABLE
  LABEL                             VALUE 

RB2PPS0                           00000000
RB2PPS1                           00000001
RB2PPS2                           00000002
RB2PPS3                           00000003
RB2PPS4                           00000004
RB3                               00000003
RB3PPS                            00001F1B
RB3PPS0                           00000000
RB3PPS1                           00000001
RB3PPS2                           00000002
RB3PPS3                           00000003
RB3PPS4                           00000004
RB4                               00000004
RB4PPS                            00001F1C
RB4PPS0                           00000000
RB4PPS1                           00000001
RB4PPS2                           00000002
RB4PPS3                           00000003
RB4PPS4                           00000004
RB5                               00000005
RB5PPS                            00001F1D
RB5PPS0                           00000000
RB5PPS1                           00000001
RB5PPS2                           00000002
RB5PPS3                           00000003
RB5PPS4                           00000004
RB6                               00000006
RB6PPS                            00001F1E
RB6PPS0                           00000000
RB6PPS1                           00000001
RB6PPS2                           00000002
RB6PPS3                           00000003
RB6PPS4                           00000004
RB7                               00000007
RB7PPS                            00001F1F
RB7PPS0                           00000000
RB7PPS1                           00000001
RB7PPS2                           00000002
RB7PPS3                           00000003
RB7PPS4                           00000004
RC0                               00000000
RC0PPS                            00001F20
RC0PPS0                           00000000
RC0PPS1                           00000001
RC0PPS2                           00000002
RC0PPS3                           00000003
RC0PPS4                           00000004
RC1                               00000001
RC1IE                             00000005
RC1IF                             00000005
RC1PPS                            00001F21
RC1PPS0                           00000000
RC1PPS1                           00000001
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 142


SYMBOL TABLE
  LABEL                             VALUE 

RC1PPS2                           00000002
RC1PPS3                           00000003
RC1PPS4                           00000004
RC1REG                            00000119
RC1STA                            0000011D
RC2                               00000002
RC2IE                             00000007
RC2IF                             00000007
RC2PPS                            00001F22
RC2PPS0                           00000000
RC2PPS1                           00000001
RC2PPS2                           00000002
RC2PPS3                           00000003
RC2PPS4                           00000004
RC2REG                            00000A19
RC2STA                            00000A1D
RC3                               00000003
RC3PPS                            00001F23
RC3PPS0                           00000000
RC3PPS1                           00000001
RC3PPS2                           00000002
RC3PPS3                           00000003
RC3PPS4                           00000004
RC4                               00000004
RC4PPS                            00001F24
RC4PPS0                           00000000
RC4PPS1                           00000001
RC4PPS2                           00000002
RC4PPS3                           00000003
RC4PPS4                           00000004
RC5                               00000005
RC5PPS                            00001F25
RC5PPS0                           00000000
RC5PPS1                           00000001
RC5PPS2                           00000002
RC5PPS3                           00000003
RC5PPS4                           00000004
RC6                               00000006
RC6PPS                            00001F26
RC6PPS0                           00000000
RC6PPS1                           00000001
RC6PPS2                           00000002
RC6PPS3                           00000003
RC6PPS4                           00000004
RC7                               00000007
RC7PPS                            00001F27
RC7PPS0                           00000000
RC7PPS1                           00000001
RC7PPS2                           00000002
RC7PPS3                           00000003
RC7PPS4                           00000004
RCEN                              00000003
RCIDL                             00000006
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 143


SYMBOL TABLE
  LABEL                             VALUE 

RCREG                             00000119
RCREG1                            00000119
RCREG2                            00000A19
RCSTA                             0000011D
RCSTA1                            0000011D
RCSTA2                            00000A1D
RD                                00000000
RD16                              00000001
RE3                               00000003
READ_WRITE                        00000002
REN                               00000006
ROI                               00000005
RSEL0                             00000000
RSEL1                             00000001
RSEL2                             00000002
RSEL3                             00000003
RSEN                              00000001
RX1DTPPS                          00001ECB
RX1DTPPS0                         00000000
RX1DTPPS1                         00000001
RX1DTPPS2                         00000002
RX1DTPPS3                         00000003
RX1DTPPS4                         00000004
RX1DTPPS5                         00000005
RX2DTPPS                          00001ECD
RX2DTPPS0                         00000000
RX2DTPPS1                         00000001
RX2DTPPS2                         00000002
RX2DTPPS3                         00000003
RX2DTPPS4                         00000004
RX2DTPPS5                         00000005
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SBCDE                             00000002
SBOREN                            00000007
SCIE                              00000005
SCKP                              00000004
SDAHT                             00000003
SEN                               00000000
SENDB                             00000003
SHUTDOWN                          00000007
SLRA0                             00000000
SLRA1                             00000001
SLRA2                             00000002
SLRA3                             00000003
SLRA4                             00000004
SLRA5                             00000005
SLRA6                             00000006
SLRA7                             00000007
SLRB0                             00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 144


SYMBOL TABLE
  LABEL                             VALUE 

SLRB1                             00000001
SLRB2                             00000002
SLRB3                             00000003
SLRB4                             00000004
SLRB5                             00000005
SLRB6                             00000006
SLRB7                             00000007
SLRC0                             00000000
SLRC1                             00000001
SLRC2                             00000002
SLRC3                             00000003
SLRC4                             00000004
SLRC5                             00000005
SLRC6                             00000006
SLRC7                             00000007
SLRCONA                           00001F3B
SLRCONB                           00001F46
SLRCONC                           00001F51
SMP                               00000007
SOR                               00000003
SOSCEN                            00000003
SOSCPWR                           00000006
SP1BRG                            0000011B
SP1BRGH                           0000011C
SP1BRGL                           0000011B
SP2BRG                            00000A1B
SP2BRGH                           00000A1C
SP2BRGL                           00000A1B
SPBRG                             0000011B
SPBRG1                            0000011B
SPBRG2                            00000A1B
SPBRGH                            0000011C
SPBRGH1                           0000011C
SPBRGH2                           00000A1C
SPBRGL                            0000011B
SPEN                              00000007
SREN                              00000005
SSP1ADD                           0000018D
SSP1BUF                           0000018C
SSP1CLKPPS                        00001EC5
SSP1CLKPPS0                       00000000
SSP1CLKPPS1                       00000001
SSP1CLKPPS2                       00000002
SSP1CLKPPS3                       00000003
SSP1CLKPPS4                       00000004
SSP1CLKPPS5                       00000005
SSP1CON1                          00000190
SSP1CON2                          00000191
SSP1CON3                          00000192
SSP1DATPPS                        00001EC6
SSP1DATPPS0                       00000000
SSP1DATPPS1                       00000001
SSP1DATPPS2                       00000002
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 145


SYMBOL TABLE
  LABEL                             VALUE 

SSP1DATPPS3                       00000003
SSP1DATPPS4                       00000004
SSP1DATPPS5                       00000005
SSP1IE                            00000000
SSP1IF                            00000000
SSP1MSK                           0000018E
SSP1SSPPS                         00001EC7
SSP1SSPPS0                        00000000
SSP1SSPPS1                        00000001
SSP1SSPPS2                        00000002
SSP1SSPPS3                        00000003
SSP1SSPPS4                        00000004
SSP1SSPPS5                        00000005
SSP1STAT                          0000018F
SSP2ADD                           00000197
SSP2BUF                           00000196
SSP2CLKPPS                        00001EC8
SSP2CLKPPS0                       00000000
SSP2CLKPPS1                       00000001
SSP2CLKPPS2                       00000002
SSP2CLKPPS3                       00000003
SSP2CLKPPS4                       00000004
SSP2CLKPPS5                       00000005
SSP2CON1                          0000019A
SSP2CON2                          0000019B
SSP2CON3                          0000019C
SSP2DATPPS                        00001EC9
SSP2DATPPS0                       00000000
SSP2DATPPS1                       00000001
SSP2DATPPS2                       00000002
SSP2DATPPS3                       00000003
SSP2DATPPS4                       00000004
SSP2DATPPS5                       00000005
SSP2IE                            00000002
SSP2IF                            00000002
SSP2MSK                           00000198
SSP2SSPPS                         00001ECA
SSP2SSPPS0                        00000000
SSP2SSPPS1                        00000001
SSP2SSPPS2                        00000002
SSP2SSPPS3                        00000003
SSP2SSPPS4                        00000004
SSP2SSPPS5                        00000005
SSP2STAT                          00000199
SSPEN                             00000005
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
START                             0000042E
START_OF_REGS                     00000065
STATE                             00000002
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 146


SYMBOL TABLE
  LABEL                             VALUE 

STATUS                            00000003
STATUS_SHAD                       00001FE4
STKOVF                            00000007
STKPTR                            00001FED
STKPTR0                           00000000
STKPTR1                           00000001
STKPTR2                           00000002
STKPTR3                           00000003
STKPTR4                           00000004
STKUNF                            00000006
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
SWDTEN                            00000000
SYNC_CM1CON0                      00000000
SYNC_CM2CON0                      00000000
SYNC_TX1STA                       00000004
SYNC_TX2STA                       00000004
SYNC_TXSTA                        00000004
SYNC_TXSTA1                       00000004
SYNC_TXSTA2                       00000004
SYSCMD                            00000007
Set_M1_done                       000018AD
Set_M1_on                         000018A3
Set_M2_done                       000018C3
Set_M2_on                         000018BA
T016BIT                           00000004
T0ASYNC                           00000004
T0CKIPPS                          00001E91
T0CKIPPS0                         00000000
T0CKIPPS1                         00000001
T0CKIPPS2                         00000002
T0CKIPPS3                         00000003
T0CKIPPS4                         00000004
T0CKIPPS5                         00000005
T0CKPS0                           00000000
T0CKPS1                           00000001
T0CKPS2                           00000002
T0CKPS3                           00000003
T0CON0                            0000059E
T0CON1                            0000059F
T0CS0                             00000005
T0CS1                             00000006
T0CS2                             00000007
T0EN                              00000007
T0OUT                             00000005
T0OUTPS0                          00000000
T0OUTPS1                          00000001
T0OUTPS2                          00000002
T0OUTPS3                          00000003
T0PR0                             00000000
T0PR1                             00000001
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 147


SYMBOL TABLE
  LABEL                             VALUE 

T0PR2                             00000002
T0PR3                             00000003
T0PR4                             00000004
T0PR5                             00000005
T0PR6                             00000006
T0PR7                             00000007
T0PS0                             00000000
T0PS1                             00000001
T0PS2                             00000002
T0PS3                             00000003
T1CKIPPS                          00001E92
T1CKIPPS0                         00000000
T1CKIPPS1                         00000001
T1CKIPPS2                         00000002
T1CKIPPS3                         00000003
T1CKIPPS4                         00000004
T1CKIPPS5                         00000005
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CLK                             00000211
T1CON                             0000020E
T1CS0                             00000000
T1CS1                             00000001
T1CS2                             00000002
T1CS3                             00000003
T1GATE                            00000210
T1GCON                            0000020F
T1GE                              00000007
T1GGO                             00000003
T1GGO_NOT_DONE                    00000003
T1GPOL                            00000006
T1GPPS                            00001E93
T1GPPS0                           00000000
T1GPPS1                           00000001
T1GPPS2                           00000002
T1GPPS3                           00000003
T1GPPS4                           00000004
T1GPPS5                           00000005
T1GSPM                            00000004
T1GSS0                            00000000
T1GSS1                            00000001
T1GSS2                            00000002
T1GSS3                            00000003
T1GSS4                            00000004
T1GTM                             00000005
T1GVAL                            00000002
T1RD16                            00000001
T2CKPOL                           00000006
T2CKPS0                           00000004
T2CKPS1                           00000005
T2CKPS2                           00000006
T2CKSYNC                          00000005
T2CLKCON                          00000290
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 148


SYMBOL TABLE
  LABEL                             VALUE 

T2CON                             0000028E
T2CS0                             00000000
T2CS1                             00000001
T2CS2                             00000002
T2CS3                             00000003
T2HLT                             0000028F
T2INPPS                           00001E9C
T2INPPS0                          00000000
T2INPPS1                          00000001
T2INPPS2                          00000002
T2INPPS3                          00000003
T2INPPS4                          00000004
T2INPPS5                          00000005
T2MODE0                           00000000
T2MODE1                           00000001
T2MODE2                           00000002
T2MODE3                           00000003
T2MODE4                           00000004
T2ON                              00000007
T2OUTPS0                          00000000
T2OUTPS1                          00000001
T2OUTPS2                          00000002
T2OUTPS3                          00000003
T2PR                              0000028D
T2PSYNC                           00000007
T2RSEL0                           00000000
T2RSEL1                           00000001
T2RSEL2                           00000002
T2RSEL3                           00000003
T2RST                             00000291
T2TMR                             0000028C
TMR0                              0000059C
TMR0H                             0000059D
TMR0H0                            00000000
TMR0H1                            00000001
TMR0H2                            00000002
TMR0H3                            00000003
TMR0H4                            00000004
TMR0H5                            00000005
TMR0H6                            00000006
TMR0H7                            00000007
TMR0IE                            00000005
TMR0IF                            00000005
TMR0L                             0000059C
TMR0L0                            00000000
TMR0L1                            00000001
TMR0L2                            00000002
TMR0L3                            00000003
TMR0L4                            00000004
TMR0L5                            00000005
TMR0L6                            00000006
TMR0L7                            00000007
TMR0MD                            00000000
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 149


SYMBOL TABLE
  LABEL                             VALUE 

TMR1                              0000020C
TMR10                             00000000
TMR11                             00000001
TMR110                            00000002
TMR111                            00000003
TMR112                            00000004
TMR113                            00000005
TMR114                            00000006
TMR115                            00000007
TMR12                             00000002
TMR13                             00000003
TMR14                             00000004
TMR15                             00000005
TMR16                             00000006
TMR17                             00000007
TMR18                             00000000
TMR19                             00000001
TMR1CLK                           00000211
TMR1GATE                          00000210
TMR1GIE                           00000000
TMR1GIF                           00000000
TMR1H                             0000020D
TMR1H0                            00000000
TMR1H1                            00000001
TMR1H2                            00000002
TMR1H3                            00000003
TMR1H4                            00000004
TMR1H5                            00000005
TMR1H6                            00000006
TMR1H7                            00000007
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000020C
TMR1L0                            00000000
TMR1L1                            00000001
TMR1L2                            00000002
TMR1L3                            00000003
TMR1L4                            00000004
TMR1L5                            00000005
TMR1L6                            00000006
TMR1L7                            00000007
TMR1MD                            00000001
TMR1ON                            00000000
TMR2                              0000028C
TMR2IE                            00000001
TMR2IF                            00000001
TMR2MD                            00000002
TMR2ON                            00000007
TOSH                              00001FEF
TOSH0                             00000000
TOSH1                             00000001
TOSH2                             00000002
TOSH3                             00000003
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 150


SYMBOL TABLE
  LABEL                             VALUE 

TOSH4                             00000004
TOSH5                             00000005
TOSH6                             00000006
TOSH7                             00000007
TOSL                              00001FEE
TOSL0                             00000000
TOSL1                             00000001
TOSL2                             00000002
TOSL3                             00000003
TOSL4                             00000004
TOSL5                             00000005
TOSL6                             00000006
TOSL7                             00000007
TOUCH_TRIP                        00000050
TRISA                             00000012
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000013
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000014
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISE                             00000016
TRISE3                            00000003
TRMT                              00000001
TSEN                              00000005
TSRNG                             00000004
TX1CKPPS                          00001ECC
TX1CKPPS0                         00000000
TX1CKPPS1                         00000001
TX1CKPPS2                         00000002
TX1CKPPS3                         00000003
TX1CKPPS4                         00000004
TX1CKPPS5                         00000005
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 151


SYMBOL TABLE
  LABEL                             VALUE 

TX1IE                             00000004
TX1IF                             00000004
TX1REG                            0000011A
TX1STA                            0000011E
TX2CKPPS                          00001ECE
TX2CKPPS0                         00000000
TX2CKPPS1                         00000001
TX2CKPPS2                         00000002
TX2CKPPS3                         00000003
TX2CKPPS4                         00000004
TX2CKPPS5                         00000005
TX2IE                             00000006
TX2IF                             00000006
TX2REG                            00000A1A
TX2STA                            00000A1E
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXREG                             0000011A
TXREG1                            0000011A
TXREG2                            00000A1A
TXSTA                             0000011E
TXSTA1                            0000011E
TXSTA2                            00000A1E
UA                                00000001
UART1MD                           00000006
UART2MD                           00000007
VIBE_done                         00001845
VIBE_next                         0000181D
VIBE_option_2                     00001824
VIBE_option_3                     0000182B
VIBE_option_done                  0000182D
VIBE_subloop                      00001840
VREGCON                           00000812
VREGPM                            00000001
W                                 00000000
WCOL                              00000007
WDTCON0                           0000080C
WDTCON1                           0000080D
WDTCS0                            00000004
WDTCS1                            00000005
WDTCS2                            00000006
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WDTPS4                            00000005
WDTPSCNT0                         00000000
WDTPSCNT1                         00000001
WDTPSCNT10                        00000002
WDTPSCNT11                        00000003
WDTPSCNT12                        00000004
WDTPSCNT13                        00000005
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 152


SYMBOL TABLE
  LABEL                             VALUE 

WDTPSCNT14                        00000006
WDTPSCNT15                        00000007
WDTPSCNT16                        00000000
WDTPSCNT17                        00000001
WDTPSCNT2                         00000002
WDTPSCNT3                         00000003
WDTPSCNT4                         00000004
WDTPSCNT5                         00000005
WDTPSCNT6                         00000006
WDTPSCNT7                         00000007
WDTPSCNT8                         00000000
WDTPSCNT9                         00000001
WDTPSH                            0000080F
WDTPSL                            0000080E
WDTSEN                            00000000
WDTSTATE                          00000002
WDTTMR                            00000810
WDTTMR0                           00000003
WDTTMR1                           00000004
WDTTMR2                           00000005
WDTTMR3                           00000006
WDTWINDOW0                        00000000
WDTWINDOW1                        00000001
WDTWINDOW2                        00000002
WINDOW0                           00000000
WINDOW1                           00000001
WINDOW2                           00000002
WPUA                              00001F39
WPUA0                             00000000
WPUA1                             00000001
WPUA2                             00000002
WPUA3                             00000003
WPUA4                             00000004
WPUA5                             00000005
WPUA6                             00000006
WPUA7                             00000007
WPUB                              00001F44
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WPUC                              00001F4F
WPUC0                             00000000
WPUC1                             00000001
WPUC2                             00000002
WPUC3                             00000003
WPUC4                             00000004
WPUC5                             00000005
WPUC6                             00000006
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 153


SYMBOL TABLE
  LABEL                             VALUE 

WPUC7                             00000007
WPUE                              00001F65
WPUE3                             00000003
WR                                00000001
WREG                              00000009
WREG_SHAD                         00001FE5
WREN                              00000002
WRERR                             00000003
WUE                               00000001
Z                                 00000002
ZCDCON                            0000091F
ZCDIE                             00000006
ZCDIF                             00000006
ZCDINTN                           00000000
ZCDINTP                           00000001
ZCDMD                             00000000
ZCDOUT                            00000005
ZCDPOL                            00000004
ZCDSEN                            00000007
_BBEN_OFF                         00003FFF
_BBEN_ON                          00003FF7
_BBSIZE_BB16K                     00003FFA
_BBSIZE_BB1K                      00003FFE
_BBSIZE_BB2K                      00003FFD
_BBSIZE_BB32K                     00003FF9
_BBSIZE_BB4K                      00003FFC
_BBSIZE_BB512                     00003FFF
_BBSIZE_BB64K                     00003FF8
_BBSIZE_BB8K                      00003FFB
_BOREN_NSLEEP                     00003FBF
_BOREN_OFF                        00003F3F
_BOREN_ON                         00003FFF
_BOREN_SBOREN                     00003F7F
_BORV_HI                          00003DFF
_BORV_LO                          00003FFF
_CLKOUTEN_OFF                     00003FFF
_CLKOUTEN_ON                      00003EFF
_CONFIG1                          00008007
_CONFIG2                          00008008
_CONFIG3                          00008009
_CONFIG4                          0000800A
_CONFIG5                          0000800B
_CP_OFF                           00003FFF
_CP_ON                            00003FFE
_CSWEN_OFF                        000037FF
_CSWEN_ON                         00003FFF
_CYCLE_LFSR                       00001436
_DEVID1                           00008006
_Delay                            00000598
_FCMEN_OFF                        00001FFF
_FCMEN_ON                         00003FFF
_FEXTOSC_ECH                      00003FFF
_FEXTOSC_ECL                      00003FFD
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 154


SYMBOL TABLE
  LABEL                             VALUE 

_FEXTOSC_ECM                      00003FFE
_FEXTOSC_HS                       00003FFA
_FEXTOSC_LP                       00003FF8
_FEXTOSC_OFF                      00003FFC
_FEXTOSC_Reserved                 00003FFB
_FEXTOSC_XT                       00003FF9
_IDLOC0                           00008000
_IDLOC1                           00008001
_IDLOC2                           00008002
_IDLOC3                           00008003
_LPBOREN_OFF                      00003FFF
_LPBOREN_ON                       00003FDF
_LVP_OFF                          00001FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FFE
_MCLRE_ON                         00003FFF
_PPS1WAY_OFF                      000037FF
_PPS1WAY_ON                       00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FFD
_RGB_rotate                       0000141B
_RIDE_ME                          000013E1
_RSTOSC_EXT1X                     00003FFF
_RSTOSC_EXT4X                     00003FAF
_RSTOSC_HFINT1                    00003FEF
_RSTOSC_HFINT32                   00003F8F
_RSTOSC_HFINTPLL                  00003F9F
_RSTOSC_LFINT                     00003FDF
_RSTOSC_Reserved                  00003FBF
_RSTOSC_SOSC                      00003FCF
_SAFEN_OFF                        00003FFF
_SAFEN_ON                         00003FEF
_SAVE_VARS                        00000CF4
_SAVE_VARS_load_done              00000D1D
_SAVE_VARS_load_loop              00000D07
_SAVE_VARS_pad_loop               00000D11
_STVREN_OFF                       00002FFF
_STVREN_ON                        00003FFF
_Set_M1                           00001899
_Set_M2                           000018B0
_UNLOCK_NVM                       00000D22
_VIBE_up_down                     00001884
_VIBE_up_down_dual                00001848
_VIBE_up_down_stop                0000186D
_WDTCCS_HFINTOSC                  00000FFF
_WDTCCS_LFINTOSC                  000007FF
_WDTCCS_SC                        00003FFF
_WDTCCS_SOSC                      000017FF
_WDTCPS_WDTCPS_0                  00003FE0
_WDTCPS_WDTCPS_1                  00003FE1
_WDTCPS_WDTCPS_10                 00003FEA
_WDTCPS_WDTCPS_11                 00003FEB
_WDTCPS_WDTCPS_12                 00003FEC
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 155


SYMBOL TABLE
  LABEL                             VALUE 

_WDTCPS_WDTCPS_13                 00003FED
_WDTCPS_WDTCPS_14                 00003FEE
_WDTCPS_WDTCPS_15                 00003FEF
_WDTCPS_WDTCPS_16                 00003FF0
_WDTCPS_WDTCPS_17                 00003FF1
_WDTCPS_WDTCPS_18                 00003FF2
_WDTCPS_WDTCPS_19                 00003FF3
_WDTCPS_WDTCPS_2                  00003FE2
_WDTCPS_WDTCPS_20                 00003FF4
_WDTCPS_WDTCPS_21                 00003FF5
_WDTCPS_WDTCPS_22                 00003FF6
_WDTCPS_WDTCPS_23                 00003FF7
_WDTCPS_WDTCPS_24                 00003FF8
_WDTCPS_WDTCPS_25                 00003FF9
_WDTCPS_WDTCPS_26                 00003FFA
_WDTCPS_WDTCPS_27                 00003FFB
_WDTCPS_WDTCPS_28                 00003FFC
_WDTCPS_WDTCPS_29                 00003FFD
_WDTCPS_WDTCPS_3                  00003FE3
_WDTCPS_WDTCPS_30                 00003FFE
_WDTCPS_WDTCPS_31                 00003FFF
_WDTCPS_WDTCPS_4                  00003FE4
_WDTCPS_WDTCPS_5                  00003FE5
_WDTCPS_WDTCPS_6                  00003FE6
_WDTCPS_WDTCPS_7                  00003FE7
_WDTCPS_WDTCPS_8                  00003FE8
_WDTCPS_WDTCPS_9                  00003FE9
_WDTCWS_WDTCWS_0                  000038FF
_WDTCWS_WDTCWS_1                  000039FF
_WDTCWS_WDTCWS_2                  00003AFF
_WDTCWS_WDTCWS_3                  00003BFF
_WDTCWS_WDTCWS_4                  00003CFF
_WDTCWS_WDTCWS_5                  00003DFF
_WDTCWS_WDTCWS_6                  00003EFF
_WDTCWS_WDTCWS_7                  00003FFF
_WDTE_NSLEEP                      00003FDF
_WDTE_OFF                         00003F9F
_WDTE_ON                          00003FFF
_WDTE_SWDTEN                      00003FBF
_WRTAPP_OFF                       00003FFF
_WRTAPP_ON                        00003F7F
_WRTB_OFF                         00003FFF
_WRTB_ON                          00003EFF
_WRTC_OFF                         00003FFF
_WRTC_ON                          00003DFF
_WRTSAF_OFF                       00003FFF
_WRTSAF_ON                        000037FF
_ZCD_OFF                          00003FFF
_ZCD_ON                           00003BFF
__16F15355                        00000001
adc_seq                           000000A0
badge_id                          0000002B
beacon_b_timer                    00000036
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 156


SYMBOL TABLE
  LABEL                             VALUE 

beacon_timer_h                    00000029
beacon_timer_l                    00000028
blink_seq                         00000027
bsr_save                          00000070
button1_cur                       000000A1
button1_last                      000000A5
button2_cur                       000000A2
button2_last                      000000A6
button3_cur                       000000A3
button3_last                      000000A7
button4_cur                       000000A4
button4_last                      000000A8
button_4_led_blink_select         00000AE0
button_ctl_12bit                  000009EE
button_ctl_12bit_A                00000A01
button_ctl_12bit_A_1_inc          00000A11
button_ctl_12bit_A_2              00000A13
button_ctl_12bit_A_2_inc          00000A20
button_ctl_12bit_A_3              00000A23
button_ctl_12bit_A_3_inc          00000A39
button_ctl_12bit_A_4              00000A45
button_ctl_12bit_A_4_inc          00000A54
button_ctl_12bit_B                00000A58
button_ctl_12bit_B_1_dec          00000A67
button_ctl_12bit_B_2              00000A69
button_ctl_12bit_B_2_dec          00000A75
button_ctl_12bit_B_3              00000A78
button_ctl_12bit_B_3_dec          00000A8D
button_ctl_12bit_B_4              00000A99
button_ctl_12bit_B_4_dec          00000AA7
button_ctl_12bit_sel              000009F4
button_ctl_24bit                  00000AF4
button_ctl_24bit_A                00000B07
button_ctl_24bit_A_1_inc          00000B17
button_ctl_24bit_A_2              00000B19
button_ctl_24bit_A_2_inc          00000B28
button_ctl_24bit_A_3              00000B2B
button_ctl_24bit_A_3_inc          00000B3C
button_ctl_24bit_A_4              00000B40
button_ctl_24bit_A_4_inc          00000B51
button_ctl_24bit_B                00000B55
button_ctl_24bit_B_1_dec          00000B64
button_ctl_24bit_B_2              00000B66
button_ctl_24bit_B_2_dec          00000B74
button_ctl_24bit_B_3              00000B77
button_ctl_24bit_B_3_dec          00000B87
button_ctl_24bit_B_4              00000B8B
button_ctl_24bit_B_4_dec          00000B9B
button_ctl_24bit_sel              00000AFA
button_ctl_2x4bit                 00000BAF
button_ctl_2x4bit_A               00000BC2
button_ctl_2x4bit_A_1_inc         00000BD2
button_ctl_2x4bit_A_2             00000BD5
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 157


SYMBOL TABLE
  LABEL                             VALUE 

button_ctl_2x4bit_A_2_inc         00000BE4
button_ctl_2x4bit_A_3             00000BE8
button_ctl_2x4bit_A_3_inc         00000BF9
button_ctl_2x4bit_A_4             00000BFE
button_ctl_2x4bit_A_4_inc         00000C0F
button_ctl_2x4bit_B               00000C14
button_ctl_2x4bit_B_1_dec         00000C23
button_ctl_2x4bit_B_2             00000C26
button_ctl_2x4bit_B_2_dec         00000C34
button_ctl_2x4bit_B_3             00000C38
button_ctl_2x4bit_B_3_dec         00000C48
button_ctl_2x4bit_B_4             00000C4D
button_ctl_2x4bit_B_4_dec         00000C5D
button_ctl_2x4bit_sel             00000BB5
button_ctl_8bit                   0000089F
button_ctl_8bit_A                 00000957
button_ctl_8bit_A_1_inc           00000968
button_ctl_8bit_A_2               0000096A
button_ctl_8bit_A_2_inc           00000977
button_ctl_8bit_A_3               0000097A
button_ctl_8bit_A_3_inc           00000987
button_ctl_8bit_B                 0000098A
button_ctl_8bit_B_1_dec           0000099A
button_ctl_8bit_B_2               0000099C
button_ctl_8bit_B_2_dec           000009A8
button_ctl_8bit_B_3               000009AB
button_ctl_8bit_B_3_dec           000009B7
button_ctl_8bit_all_done          000008C6
button_ctl_8bit_not_mode_1        000008AE
button_ctl_8bit_not_mode_10       00000920
button_ctl_8bit_not_mode_11       0000092A
button_ctl_8bit_not_mode_12       00000934
button_ctl_8bit_not_mode_13       0000093E
button_ctl_8bit_not_mode_2        000008B5
button_ctl_8bit_not_mode_3        000008BC
button_ctl_8bit_not_mode_4        000008D0
button_ctl_8bit_not_mode_6        000008C3
button_ctl_8bit_not_mode_9        000008DA
button_ctl_8bit_not_mode_A        000008E4
button_ctl_8bit_not_mode_B        000008EE
button_ctl_8bit_not_mode_C        000008F8
button_ctl_8bit_not_mode_D        00000902
button_ctl_8bit_not_mode_E        0000090C
button_ctl_8bit_not_mode_F        00000916
button_ctl_8bit_sel               00000949
button_ctl_8bit_wait_mode_10      0000091A
button_ctl_8bit_wait_mode_11      00000924
button_ctl_8bit_wait_mode_12      0000092E
button_ctl_8bit_wait_mode_9       000008D4
button_ctl_8bit_wait_mode_A       000008DE
button_ctl_8bit_wait_mode_B       000008E8
button_ctl_8bit_wait_mode_C       000008F2
button_ctl_8bit_wait_mode_D       000008FC
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 158


SYMBOL TABLE
  LABEL                             VALUE 

button_ctl_8bit_wait_mode_E       00000906
button_ctl_8bit_wait_mode_F       00000910
button_ctl_chk_start              0000087A
button_ctl_direct_remote          00000CC1
button_ctl_direct_remote_A        00000CD0
button_ctl_direct_remote_B        00000CD6
button_ctl_direct_remote_send     00000CDA
button_ctl_done                   00000CEA
button_ctl_no_press               00000CF0
button_ctl_save_vars              00000CBE
button_ctl_send_rmt_IR_cmd        00000940
button_ctl_start                  00000883
button_update_leds_12bit          00000AAB
button_update_leds_12bit_1        00000AB0
button_update_leds_12bit_10       00000AD8
button_update_leds_12bit_11       00000ADC
button_update_leds_12bit_12       00000AE0
button_update_leds_12bit_2        00000AB4
button_update_leds_12bit_3        00000AB8
button_update_leds_12bit_4        00000ABD
button_update_leds_12bit_5        00000AC1
button_update_leds_12bit_6        00000AC5
button_update_leds_12bit_7        00000ACA
button_update_leds_12bit_8        00000ACE
button_update_leds_12bit_9        00000AD3
button_update_leds_24bit          00000B9F
button_update_leds_2x4bit         00000C62
button_update_leds_2x4bit_1       00000C6A
button_update_leds_2x4bit_10      00000CAF
button_update_leds_2x4bit_11      00000CB6
button_update_leds_2x4bit_12      00000CBD
button_update_leds_2x4bit_2       00000C71
button_update_leds_2x4bit_3       00000C78
button_update_leds_2x4bit_4       00000C81
button_update_leds_2x4bit_5       00000C88
button_update_leds_2x4bit_6       00000C8F
button_update_leds_2x4bit_7       00000C98
button_update_leds_2x4bit_8       00000C9F
button_update_leds_2x4bit_9       00000CA6
button_update_leds_8bit           000009BA
button_update_leds_8bit_1         000009BF
button_update_leds_8bit_2         000009C3
button_update_leds_8bit_3         000009C7
button_update_leds_8bit_4         000009CC
button_update_leds_8bit_5         000009D0
button_update_leds_8bit_6         000009D4
button_update_leds_8bit_7         000009D9
button_update_leds_8bit_8         000009DD
buttons                           00000074
call_temp                         00000040
cust_led1                         0000006C
cust_led2                         0000006B
cust_led3                         0000006A
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 159


SYMBOL TABLE
  LABEL                             VALUE 

cust_led4                         00000069
debounce_check_done               0000080D
debounce_check_start              00000805
delay_cntH                        00000073
delay_cntL                        00000072
direct_m1_timer                   00000041
direct_m2_timer                   00000042
gtemp                             00000071
ir_chksum                         0000002E
ir_cmd                            0000002C
ir_data                           0000002D
ir_data_temp                      00000043
ir_rx_chksum                      00000031
ir_rx_cmd                         00000034
ir_rx_data                        00000032
ir_rx_id                          00000033
ir_rx_seq                         00000030
ir_status                         0000002A
ir_tx_seq                         0000002F
led_display_seq                   0000003D
led_mode_10                       000013C5
led_mode_2                        00001029
led_mode_3                        0000103A
led_mode_4                        0000104B
led_mode_4_1                      00001058
led_mode_4_2                      00001063
led_mode_4_3                      0000106E
led_mode_4_4                      00001079
led_mode_4_5                      00001083
led_mode_4_6                      0000108D
led_mode_4_7                      00001098
led_mode_4_8                      000010A3
led_mode_4_9                      000010AE
led_mode_4_A                      000010BA
led_mode_4_done                   000010BB
led_mode_5                        000010C1
led_mode_5_1                      000010CE
led_mode_5_2                      000010DA
led_mode_5_3                      000010E6
led_mode_5_4                      000010F2
led_mode_5_5                      0000110C
led_mode_5_6                      00001116
led_mode_5_7                      00001122
led_mode_5_8                      0000112E
led_mode_5_9                      0000113A
led_mode_5_A                      00001156
led_mode_5_done                   00001157
led_mode_5_update1_0C             00001102
led_mode_5_update1_30             00001109
led_mode_5_update1_done           0000110B
led_mode_5_update2_0C             0000114C
led_mode_5_update2_30             00001153
led_mode_5_update2_done           00001155
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 160


SYMBOL TABLE
  LABEL                             VALUE 

led_mode_6                        0000115D
led_mode_6_1                      0000116A
led_mode_6_2                      00001176
led_mode_6_3                      00001182
led_mode_6_4                      0000118E
led_mode_6_5                      00001198
led_mode_6_6                      000011A2
led_mode_6_7                      000011AE
led_mode_6_8                      000011BA
led_mode_6_9                      000011C6
led_mode_6_A                      000011E2
led_mode_6_done                   000011E3
led_mode_6_update2_0C             000011D8
led_mode_6_update2_30             000011DF
led_mode_6_update2_done           000011E1
led_mode_7                        000011E9
led_mode_7_1                      00001206
led_mode_7_2                      00001211
led_mode_7_3                      0000121C
led_mode_7_4                      00001227
led_mode_7_5                      00001231
led_mode_7_6                      0000123B
led_mode_7_7                      00001246
led_mode_7_8                      00001251
led_mode_7_9                      0000125C
led_mode_7_A                      00001268
led_mode_7_done                   00001269
led_mode_8                        0000126F
led_mode_9                        00001294
led_mode_9_done                   000012B7
led_mode_9_dot                    000012AB
led_mode_9_gap                    000012B3
led_mode_a                        000012C1
led_mode_a_1                      000012CB
led_mode_a_2                      000012D0
led_mode_a_3                      000012D5
led_mode_a_4                      000012DA
led_mode_b                        000012DF
led_mode_b_1                      000012F1
led_mode_b_2                      000012F6
led_mode_b_3                      000012FB
led_mode_b_4                      00001300
led_mode_c                        00001305
led_mode_c_1                      00001317
led_mode_c_2                      00001324
led_mode_c_3                      00001331
led_mode_c_4                      0000133E
led_mode_d                        00001343
led_mode_d_1                      0000134D
led_mode_d_2                      00001352
led_mode_d_3                      00001357
led_mode_d_4                      0000135C
led_mode_e                        00001361
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 161


SYMBOL TABLE
  LABEL                             VALUE 

led_mode_e_1                      00001373
led_mode_e_2                      00001378
led_mode_e_3                      0000137D
led_mode_e_4                      00001382
led_mode_f                        00001387
led_mode_f_1                      00001399
led_mode_f_2                      000013A6
led_mode_f_3                      000013B3
led_mode_f_4                      000013C0
led_mode_reg                      0000006D
led_move_8_done                   0000128A
led_move_8_dot                    0000127E
led_move_8_gap                    00001286
led_seq                           00000024
led_timer_high                    0000003A
led_timer_low                     00000039
load_done                         00000483
load_loop                         00000459
load_loop2                        0000047B
load_regs                         00000474
mode_ctl                          00000037
mode_reg                          0000003C
no_press_cnt                      00000038
porta_temp                        00000025
portc_temp                        00000026
reg_set_done                      0000087A
reg_set_mode_0                    00000820
reg_set_mode_2                    00000827
reg_set_mode_3                    0000082C
reg_set_mode_3_do                 00000830
reg_set_mode_4                    00000833
reg_set_mode_5                    0000083A
reg_set_mode_6                    00000841
reg_set_mode_7                    00000848
reg_set_mode_9_do                 00000875
reg_set_mode_A                    00000878
reg_set_no_prepop_13              00000818
sequence                          0000003B
skip_leds                         000013DD
speed_high                        0000006F
speed_low                         0000006E
temp                              00000035
temp2                             0000003E
temp3                             0000003F
ver_a                             00000033
ver_b                             00000000
ver_c                             00000000
ver_d                             00000000
vibe_cycle                        00000044
vibe_mode                         00000068
vibe_rpt                          00000067
vibe_sequence                     00000047
vibe_speed_h                      00000066
MPASM 5.77                      MR_STASH.ASM   8-19-2018  17:19:24         PAGE 162


SYMBOL TABLE
  LABEL                             VALUE 

vibe_speed_l                      00000065
vibe_stop                         00000048
vibe_subloop                      0000004A
vibe_temp                         00000049
vibe_timer_high                   00000046
vibe_timer_low                    00000045

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :   210 reported,     0 suppressed

